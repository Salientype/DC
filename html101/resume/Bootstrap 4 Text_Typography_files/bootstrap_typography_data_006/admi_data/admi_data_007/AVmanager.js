/* aniview version '6.1.1.274' 						*/
/* All rights reserved to ANIVIEW LTD 2019 				*/
window.aniviewCSS = '#nonl-container *{display:block;} #av-container *::-webkit-media-controls-panel{display:none!important;-webkit-appearance:none}#av-container *::--webkit-media-controls-play-button{display:none !important;-webkit-appearance:none}#av-container *::-webkit-media-controls-start-playback-button{display:none!important;-webkit-appearance:none}@-webkit-keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-moz-keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-o-keyframes fade-in{0% { opacity:0;filter:alpha(opacity=0)}100%{opacity:1;filter:alpha(opacity=100)}}@keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-webkit-keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-moz-keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-o-keyframes av-loading-dash{0% { stroke-dasharray:1, 210;stroke-dashoffset:0}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210}}@keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-webkit-keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@-moz-keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@-o-keyframes av-loading-rotate{0% { stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}#av-container{position:relative;width:640px;height:360px;background:black;margin:0;overflow:hidden;text-align:initial;}#av-container #av-inner{position:absolute;top:0;left:0;width:100%;height:100%}#av-container #av-inner #slot{position:absolute;width:100%;height:100%;background:black;-webkit-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);-moz-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}#av-container #av-inner #slot #preloader{width:0;height:0;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;outline:none}#av-container #av-inner #slot #preloader svg{position:absolute;top:50%;left:50%}#av-container #av-inner #slot #preloader svg.icon{fill:white;width:50px;height:50px;margin-left:-25px;margin-top:-25px}#av-container #av-inner #slot #preloader svg.circle{fill:transparent;stroke:rgba(255, 255, 255, 0.2);stroke-width:3;width:70px;height:70px;margin-left:-35px;margin-top:-35px}#av-container #av-inner #slot #preloader svg.circle.active{color:red;stroke:white;stroke-linecap:round;animation:av-loading-dash 2s ease infinite, av-loading-rotate 2.5s linear infinite}#av-container #av-inner #slot #videoslot{text-align:left;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;right:0;bottom:0;width:100%;object-fit:initial;opacity:0;filter:alpha(opacity=0)}#av-container #av-inner #slot #videoslot.loaded{opacity:1;filter:alpha(opacity=100);-webkit-animation:fade-in 0.5s ease;-moz-animation:fade-in 0.5s ease;-o-animation:fade-in 0.5s ease;animation:fade-in 0.5s ease}#av-container #av-inner #gui:before{content:"";pointer-events:none;position:absolute;left:0;bottom:0;width:100%;height:15%;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;background:-webkit-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%);background:-moz-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%);background:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 100%);filter:progid: DXImageTransform.Microsoft.gradient(startColorstr="#00000000", endColorstr="#80000000", GradientType=0)}#av-container #av-inner #gui #timeline{position:absolute;height:10px;overflow:hidden;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;cursor:pointer}#av-container #av-inner #gui #timeline:before,#av-container #av-inner #gui #timeline #timeline-buffer,#av-container #av-inner #gui #timeline #timeline-moveto,#av-container #av-inner #gui #timeline #timeline-progress{position:absolute;left:0;height:2px}#av-container #av-inner #gui #timeline:before{content:"";width:100%;background:rgb(100, 100, 100);background:rgba(255, 255, 255, 0.3);-webkit-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);-moz-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1)}#av-container #av-inner #gui #timeline #timeline-buffer{width:0;background:rgb(180, 180, 180);background:rgba(255, 255, 255, 0.5);-webkit-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);-moz-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1)}#av-container #av-inner #gui #timeline #timeline-moveto{width:0;background:rgb(255, 255, 255);background:rgba(255, 255, 255, 0.8);opacity:0}#av-container #av-inner #gui #timeline #timeline-progress{width:0;background:red}#av-container #av-inner #gui #timeline.av-overlay{bottom:41px;left:10px;right:10px}#av-container #av-inner #gui #timeline.av-overlay:before,#av-container #av-inner #gui #timeline.av-overlay #timeline-buffer,#av-container #av-inner #gui #timeline.av-overlay #timeline-moveto,#av-container #av-inner #gui #timeline.av-overlay #timeline-progress{top:50%;margin-top:-1px}#av-container #av-inner #gui #timeline.av-bottom{bottom:0;left:0;right:0}#av-container #av-inner #gui #timeline.av-bottom:before,#av-container #av-inner #gui #timeline.av-bottom #timeline-buffer,#av-container #av-inner #gui #timeline.av-bottom #timeline-moveto,#av-container #av-inner #gui #timeline.av-bottom #timeline-progress{top:auto;bottom:0}#av-container #av-inner #gui #timeline.av-top{top:0;left:0;right:0}#av-container #av-inner #gui #timeline.av-top:before,#av-container #av-inner #gui #timeline.av-top #timeline-buffer,#av-container #av-inner #gui #timeline.av-top #timeline-moveto,#av-container #av-inner #gui #timeline.av-top #timeline-progress{top:0;bottom:auto}#av-container #av-inner #gui #timeline.av-top~#skip-btn{top:2px}#av-container #av-inner #gui #timeline.av-top~#aniview-credit{top:4px}#av-container #av-inner #gui #timeline.av-none{opacity:0 !important;display:none !important}#av-container #av-inner #gui #buttons{-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #buttons #sound:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px;}#av-container #av-inner #gui #buttons #play-pause:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px;}#av-container #av-inner #gui #buttons #play-pause,#av-container #av-inner #gui #buttons #phone,#av-container #av-inner #gui #buttons #sound,#av-container #av-inner #gui #buttons #share,#av-container #av-inner #gui #buttons #fullscreen{width:24px;height:24px;background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #left,#av-container #av-inner #gui #buttons #right{position:absolute;height:24px;bottom:11px}#av-container #av-inner #gui #buttons #left{left:13px}#av-container #av-inner #gui #buttons #left>div{position:relative;float:left;margin-right:14px}#av-container #av-inner #gui #buttons #left #play-pause.play{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #play-pause.pause{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22pause-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m4.338%2019.339h5v-16h-5v16zm9.001-16.001v16h5v-16h-5z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #play-pause.replay{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22replay-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m16.672%2011.339c0%202.945-2.389%205.333-5.334%205.333s-5.334-2.388-5.334-5.333c0-2.943%202.385-5.329%205.326-5.333v2.336l7.016-3.503-7.016-3.503v2.004c-4.414%200.004-7.992%203.583-7.992%207.999%200%204.418%203.582%208%208%208s8-3.582%208-8h-2.666z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #phone{width:auto;font-size:0}#av-container #av-inner #gui #buttons #left #phone .icon{width:24px;height:24px;display:inline-block;vertical-align:top;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22phone-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%3Cpath%20fill%3D%22white%22%20clip-rule%3D%22evenodd%22%20d%3D%22m20.154%2017.236c0.299-0.298%200.254-0.921-0.236-1.188-0.492-0.267-4.518-2.602-4.982-2.138-0.463%200.465-1.447%201.498-2.135%201.188s-2.289-1.816-2.846-2.375c-0.559-0.557-2.064-2.159-2.377-2.847-0.31-0.687%200.725-1.67%201.188-2.134%200.464-0.465-1.87-4.491-2.137-4.982-0.266-0.489-0.889-0.534-1.188-0.237s-2.18%202.176-2.85%202.847c-0.671%200.671-0.279%205.415%204.514%2010.202%204.787%204.792%209.531%205.185%2010.203%204.514%200.671-0.671%202.549-2.551%202.846-2.85z%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #left #phone #phone-num{display:inline-block;margin-left:4px;height:24px;line-height:24px;font-size:12px;font-weight:400;font-family:Helvetica, Arial, fallback, sans-serif;color:white}#av-container #av-inner #gui #buttons #right{right:13px}#av-container #av-inner #gui #buttons #right>div{position:relative;float:right;margin-left:14px}#av-container #av-inner #gui #buttons #right #sound{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.68%2022.68%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.68%2022.68%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%227.247%207.34%201.761%207.34%201.761%2015.34%207.247%2015.34%2012.743%2019.346%2012.743%203.334%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #sound div{position:absolute;width:100%;height:100%;top:0;left:0;background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #right #sound div.on{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-on-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m17.808%204.757l-1.705%201.881c1.357%201.146%202.221%202.824%202.221%204.7s-0.863%203.556-2.221%204.701l1.705%201.881c1.902-1.605%203.109-3.955%203.109-6.582%200-2.626-1.207-4.975-3.109-6.581z%22%20%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #sound div.off{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-off-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20points%3D%2220.009%2011.337%2022.671%208.674%2021.343%207.345%2018.679%2010.007%2016.015%207.345%2014.685%208.674%2017.349%2011.337%2014.681%2014.003%2016.015%2015.331%2018.679%2012.666%2021.343%2015.331%2022.677%2014.003%22%20fill%3D%22red%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #share{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22share-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%3Cpath%20fill%3D%22white%22%20clip-rule%3D%22evenodd%22%20d%3D%22m17.338%2014.339c-0.695%200-1.328%200.246-1.838%200.645l-7.17-3.567c0-0.026%200.008-0.051%200.008-0.078%200-0.026-0.008-0.052-0.008-0.078l7.17-3.566c0.51%200.397%201.143%200.645%201.838%200.645%201.656%200%203-1.343%203-3s-1.344-3-3-3-3%201.343-3%203c0%200.188%200.023%200.372%200.057%200.552l-6.864%203.412c-0.549-0.591-1.324-0.966-2.193-0.966-1.656%200-3%201.343-3%203s1.344%203%203%203c0.869%200%201.645-0.375%202.193-0.965l6.863%203.412c-0.033%200.18-0.057%200.363-0.057%200.553%200%201.656%201.344%203%203%203s3-1.344%203-3-1.343-2.999-2.999-2.999z%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #fullscreen.off{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22fullscreen-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m4.339%2015.339h-2v5h5v-2h-3v-3zm-2-8.001h2v-3h3v-2h-5v5zm13-5v2h3v3h2v-5h-5zm3%2016.001h-3v2h5v-5h-2v3z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #fullscreen.on{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22fullscreen-off-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m6.338%206.338h-3v2h5v-5h-2v3zm-3%2010.001h3v3h2v-5h-5v2zm11%203h2v-3h3v-2h-5v5zm2-13.001v-3h-2v5h5v-2h-3z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #big-play{display:none;position:absolute;width:68px;height:68px;top:50%;left:50%;margin-top:-34px;margin-left:-34px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E");background-size:62% 64%;background-position:16px center;background-repeat:no-repeat;border:3px solid white;border-radius:50%;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #close-btn{z-index:9999999;position:absolute;top:0;left:0;width:28px;height:28px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:60%;background-position:center;border-color:white;border-style:solid;border-width:0 1px 1px 0;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #timer{position:absolute;top:0;left:0;width:28px;height:28px;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7);color:white;font-family:Helvetica, Arial, fallback, sans-serif;font-size:12px;text-align:center;line-height:28px;border-color:white;border-style:solid;border-width:0 1px 1px 0;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #skip-btn{position:absolute;bottom:60px;right:0;padding:0 12px;height:32px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);color:white;font-family:Helvetica, Arial, fallback, sans-serif;font-size:14px;text-align:center;text-transform:uppercase;line-height:32px;border-color:white;border-style:solid;border-width:1px 0 1px 1px;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #aniview-credit{position:absolute;top:2px;right:2px;height:24px;line-height:24px;font-size:11px;font-family:Helvetica, Arial, fallback, sans-serif;font-weight:500;color:white}#av-container #av-inner #gui #aniview-credit span{display:inline-block;vertical-align:top;width:24px;height:24px;background-repeat:no-repeat;background-size:cover;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22red%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22red%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E")}#av-container.desktop #av-inner #gui #big-play{border-color:#ccc}#av-container.desktop:hover #av-inner #gui #big-play{background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7);border-color:white}#av-container.desktop #gui:before{bottom:-15%}#av-container.desktop:hover #gui:before{bottom:0}#av-container.desktop #gui:before,#av-container.desktop #gui #timeline,#av-container.desktop #gui #buttons{opacity:0;filter:alpha(opacity=0)}#av-container.desktop:hover #gui:before,#av-container.desktop:hover #gui #buttons,#av-container.desktop:hover #gui #timeline,#av-container.desktop #av-inner #gui #timeline:hover #timeline-moveto{opacity:1;filter:alpha(opacity=100)}#av-container.desktop #av-inner #gui #close-btn:hover,#av-container.desktop #av-inner #gui #skip-btn:hover{cursor:pointer;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7)}#av-container.responsive{width:100%;height:520px}#av-container.hide-controls #timeline,#av-container.hide-controls #buttons,#av-container.hide-controls #av-inner #gui:before{display:none}#av-container.buttons-below #av-inner #slot #videoslot{top:0;-webkit-transform:none;transform:none}#av-testcss{margin-top:3px}.embed-player-tag #testyourself-postroll-embedgui #av-container{position:relative;top:50%;-webkit-transform:initial !important;transform:initial !important}.testyourself-postroll .embed-player-tag #testyourself-postroll-embedgui #av-container{top:0px}.embed-player-tag #testyourself-postroll-embedgui #av-container{margin-left:auto;margin-right:auto;//margin-top:50px}#testyourself-preroll-embedgui #av-container #av-inner #gui #skip-btn{top:0px}#spotimaniviewplayergui #av-container{//position:inherit} #av-container #videoslot video {max-width: none;}';
window.aniviewGetGui = function () {
	var gui = '<div id="av-container" class="responsive">' +
		'<div id="av-inner">' +
		'<div id="slot">';
	if (window.AV_player.config.preloader && ((window.AV_player.config.preloader.type =='Image' && window.AV_player.config.preloader.link != '') || window.AV_player.config.preloader.type =='js')) {
		gui = gui + '<div id="imgpreloader"><div id="preloader"></div>'
	} else {
		gui = gui + '<div id="imgpreloader"></div><div id="preloader"><svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" xml:space="preserve">' +
			'<g>' +
			'<path d="M23.3,14.9c0-0.4-0.3-0.9-0.8-1.2l-10-6.4c-1.1-0.7-2-0.1-2,1.3v7.5C15.8,13.7,23.1,14.9,23.3,14.9z M23.3,15 c-7.9,0.6-11.4,3.5-12.8,5.7v0.8c0,1.4,0.9,2,2,1.3l10-6.4C23.1,16,23.4,15.5,23.3,15z"/>' +
			'</g>' +
			'</svg>' +
			'<svg class="circle" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>' +
			'<svg class="circle active" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>';
	};
	gui = gui + '</div>' + '<div id="videoslot"></div>';
	if (window.AV_player.config.preloader.type =='content') {
		gui = gui + '<video id="AVcontent" webkit-playsinline playsinline muted style="width: 100%;height:100%"></video>';
	}
	gui = gui + '</div>' +
		'<div id="gui">' +
		'<div id="timeline">' +
		'<div id="timeline-buffer"></div>' +
		'<div id="timeline-moveto"></div>' +
		'<div id="timeline-progress"></div>' +

		'</div>' +
		'<div id="buttons">' +
		'<div id="left">' +
		'<div id="play-pause" class="pause"></div>' +
		'<div id="phone">' +
		'<div class="icon"></div>' +
		'<div id="phone-num"></div>' +
		'</div>' +
		'</div>' +
		'<div id="right">' +
		'<div id="fullscreen" class="off"></div>' +
		'<div id="share"></div>' +
		'<div id="sound"><div class="on"></div></div>' +
		'</div>' +
		'</div>' +
		'<div id="big-play"></div>' +
		'<div id="timer"></div>' +
		'<div id="close-btn"></div>' +
		'<div id="skip-btn">Skip</div>' +
		'<div id="aniview-credit">Ads by <span></span></div>' +
		'</div>' +
		'</div>' +
		'</div>';
	return gui;
};
/*
 !!!!!!!!!!!!!! This function is fixed to avoid undefined in w,h so its not like in prebid !!!!!!!!!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!! Make sure not to override without testing from prebid versions !!!!!!!!!!!!!!!!!!!!!!!!!*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(m,c,t){m!=Array.prototype&&m!=Object.prototype&&(m[c]=t.value)};$jscomp.getGlobal=function(m){return"undefined"!=typeof window&&window===m?m:"undefined"!=typeof global&&null!=global?global:m};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var m=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+m++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.iterator;m||(m=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[m]&&$jscomp.defineProperty(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(m){var c=0;return $jscomp.iteratorPrototype(function(){return c<m.length?{done:!1,value:m[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(m){$jscomp.initSymbolIterator();m={next:m};m[$jscomp.global.Symbol.iterator]=function(){return this};return m};$jscomp.makeIterator=function(m){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=m[Symbol.iterator];return c?c.call(m):$jscomp.arrayIterator(m)};$jscomp.arrayFromIterator=function(m){for(var c,t=[];!(c=m.next()).done;)t.push(c.value);return t};$jscomp.arrayFromIterable=function(m){return m instanceof Array?m:$jscomp.arrayFromIterator($jscomp.makeIterator(m))};
LinearAd=function(){function m(p,a,d,h,g,x){var u={width:p,height:a,viewMode:d,desiredBitrate:h,creativeData:g,environmentVars:x};t=p;l=a;(function(){c=new aniviewPlayer(u);c.onAdLoaded=function(){b.dispatch("AdLoaded")};c.onAdStarted=function(){b.dispatch("AdStarted")};c.onAdError=function(a,g){g?b.dispatch("AdError","No Ad"):b.dispatch("AdError",a)};c.onAdImpression=function(a,g){b.dispatch("AdImpression",a,g)};c.onAdVideoComplete=function(){b.dispatch("AdVideoComplete")};c.onAdSkipped=function(){b.dispatch("AdSkipped")};
c.onAdSkippableStateChange=function(){b.dispatch("AdSkippableStateChange")};c.onAdStopped=function(){b.dispatch("AdStopped")};c.onAdClosed=function(a){b.dispatch("AdClosed",a)};c.onAdVideoStart=function(){b.dispatch("AdVideoStart")};c.onAdVideoFirstQuartile=function(){b.dispatch("AdVideoFirstQuartile")};c.onAdVideoMidpoint=function(){b.dispatch("AdVideoMidpoint")};c.onAdVideoThirdQuartile=function(){b.dispatch("AdVideoThirdQuartile")};c.onAdClickThru=function(){b.dispatch("AdClickThru")};c.onAdVolumeChange=
function(){b.dispatch("AdVolumeChange")};c.onAdPaused=function(){b.dispatch("AdPaused")};c.onAdPlaying=function(){b.dispatch("AdPlaying")};c.onAdDurationChange=function(){b.dispatch("AdDurationChange")};c.onallAdsCompleted=function(){b.dispatch("allAdsCompleted")};c.onContentImpression=function(a){b.dispatch("ContentImpression",a)};c.onContentComplete=function(){b.dispatch("ContentComplete")};c.onContentPaused=function(){b.dispatch("ContentPaused")};c.onContentPlaying=function(){b.dispatch("ContentPlaying")};
c.onContentClick=function(){b.dispatch("ContentClick")};c.onAdEvent=function(a,g,f){b.dispatch("AdEvent",a,g,f)};c.onInventory=function(){b.dispatch("Inventory")};c.onInventoryRequest=function(a){b.dispatch("InventoryRequest",a)};c.onFullScreenRequest=function(a){b.dispatch("FullScreenRequest",a)}})()}var c,t=0,l=0,b=new window.AVEvtMgr;this.handshakeVersion=function(b){return"2.0"};this.initAd=function(b,a,d,h,g,x){m(b,a,d,h,g,x)};this.startAd=function(b){b?c.startAd():setTimeout(function(){c.startAd()},
50)};this.setWaterfallState=function(b,a,d){c.setWaterfallState(b,a,d)};this.getAdLinear=function(){return!0};this.stopAd=function(b,a){c.stopAd()};this.getAdVolume=function(){return c.getAdVolume()};this.setAdVolume=function(b){c.setAdVolume(b)};this.resizeAd=function(b,a,d){c&&(c.resizeAd(b,a,d),t=b,l=a)};this.pauseAd=function(){c.pauseAd()};this.resumeAd=function(){c.resumeAd()};this.expandAd=function(){};this.getAdExpanded=function(b){return!1};this.getAdSkippableState=function(b){return!1};this.collapseAd=
function(){};this.skipAd=function(){c.skipAd()};this.getAdWidth=function(){return t};this.getAdHeight=function(){return l};this.getSkippableRemainingTime=function(){return-1};this.getAdRemainingTime=function(){return c.getAdRemainingTime()};this.getAdDuration=function(){return c.getAdDuration()};this.getAdCompanions=function(){return c.getAdCompanions()};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.seekAd=function(b){c.seekAd(b)};this.getContentPaused=function(){if(c)return c.getContentPaused()};
this.pauseContent=function(){if(c)return c.pauseContent()};this.resumeContent=function(){if(c)return c.resumeContent()};this.setContentVolume=function(b){if(c)return c.setContentVolume(b)};this.subscribe=function(c,a,d){b.subscribe(c,a,d)};this.unsubscribe=function(c,a){b.unsubscribe(c,a)};Utils.defineProperty(this,"adRemainingTime",this.getAdRemainingTime,null);Utils.defineProperty(this,"adDuration",this.getAdDuration,null);Utils.defineProperty(this,"adVolume",this.getAdVolume,this.setAdVolume);
Utils.defineProperty(this,"adSkippableState",this.getAdSkippableState,null);Utils.defineProperty(this,"adLinear",this.getAdLinear,null);Utils.defineProperty(this,"adExpanded",this.getAdExpanded,null);Utils.defineProperty(this,"adCompanions",this.getAdCompanions,null);Utils.defineProperty(this,"adIcons",this.getAdIcons,null);Utils.defineProperty(this,"adWidth",this.getAdWidth,null);Utils.defineProperty(this,"adHeight",this.getAdHeight,null)};window.getVPAIDAd=function(){return new LinearAd};
(function(m){m.AVEvtMgr=function(){var c={};this.subscribe=function(m,l,b){c[l]||(c[l]=[]);c[l].push({callback:m,context:b})};this.unsubscribe=function(m,l){if(c[l])for(var b=0;b<c[l].length;b++)if(c[l][b].callback===m){c[l].splice(b,1);break}};this.dispatch=function(m,l,b,p){if(c[m])for(var a=0;a<c[m].length;a++)if(c[m][a]&&"function"===typeof c[m][a].callback)try{c[m][a].callback.call(c[m][a].context,l,b,p)}catch(d){}}}})(window);
(function(m){function c(a,d){if(b.trackingBuffer[a]&&b.trackingBuffer[a].data&&0<b.trackingBuffer[a].data.length){var h=JSON.stringify(b.trackingBuffer[a].data);b.trackingBuffer[a].data.length=0;b.trackingBuffer[a].timer&&(clearTimeout(b.trackingBuffer[a].timer),b.trackingBuffer[a].timer=0);if(a=b.createCORSRequest("POST",d,!1))"firefox"==b.getBrowser()&&a.overrideMimeType&&a.overrideMimeType("text/plain"),a.onload=a.onerror=a.onprogress=a.ontimeout=function(){},a.send(h)}}function t(a,d,h){if(h.trackingBuffer[a]&&
h.trackingBuffer[a].data&&0<h.trackingBuffer[a].data.length){var g=JSON.stringify(h.trackingBuffer[a].data);h.trackingBuffer[a].data.length=0;h.trackingBuffer[a].timer&&(clearTimeout(h.trackingBuffer[a].timer),h.trackingBuffer[a].timer=0);a=new XMLHttpRequest;"withCredentials"in a?a.open("POST",d,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open("POST",d)):a=null;a&&(a.onload=a.onerror=a.onprogress=a.ontimeout=function(){},a.send(g))}}function l(a,d,h,g,b,c){b.trackingBuffer[a]||
(b.trackingBuffer[a]={timer:0,data:[]});h&&b.trackingBuffer[a].data.push(h);g||b.trackingBuffer[a].data.length>=b.trackingBufferSize?c.postTrackingPixelsProto(a,d,b):1==b.trackingBuffer[a].data.length&&(b.trackingBuffer[a].timer=setTimeout(function(){b.trackingBuffer[a].timer=0;c.postTrackingPixelsProto(a,d,b)},1E3*b.trackingBufferTimeout))}var b=m.Utils={};b.init=function(a,d,h,g,x){this.floatPos=h;this.floatCheckTime=0;this.floatCheck="";if(this.topWnd=b.getTopWnd(a))this.topDoc=this.topWnd.document,
d&&this.topDoc&&"undefined"!==typeof this.topDoc.visibilityState&&(this.vitab=!0);this.width=g;this.height=x};b.isFloating=function(){if(this.floatPos&&200<Date.now()-this.floatCheckTime)try{var a=getComputedStyle(this.floatPos);this.floatCheck=a&&a.position&&"fixed"===a.position?"1":"";this.floatCheckTime=Date.now()}catch(d){}return this.floatCheck};b.getPrebidRefInfo=function(){if(!this.prebidRef&&(this.prebidRef={referer:this.getTrueDomain(),numIframes:location&&location.ancestorOrigins&&1<location.ancestorOrigins.length?
location.ancestorOrigins.length-1:0,reachedTop:top===this.getTopWnd(),stack:[this.getTrueDomain()]},this.refererStack)){this.prebidRef.stack=[];for(var a=this.refererStack,d="",h="",g=0;g<a.length;g++)0<g&&this.prebidRef.stack.push(a[g].location||d||h||""),d=a[g].referrer,h=a[g].ancestor;this.prebidRef.stack.reverse()}return this.prebidRef};b.getUrlParameters=function(a){if(!a){a="avmanager.js";for(var d="",h=document.getElementsByTagName("script"),g=0;g<h.length;g++)if(-1!==h[g].src.toLowerCase().indexOf(a)){d=
h[g].src;break}a=d}d={};h=a;0<h.indexOf("?")&&(h=h.slice(h.indexOf("?")+1));g=h.split("&");for(var b=0;b<g.length;b+=1)if(0<g[b].length&&(h=g[b].split("="),h[0]!==a&&0<h[0].length))if(1===h.length)d[h[0]]=null;else if(2===h.length)try{d[h[0]]=decodeURIComponent(h[1])}catch(v){d[h[0]]=h[1]}else{d[h[0]]="";for(var c=1;c<h.length;c+=1){try{d[h[0]]+=decodeURIComponent(h[c])}catch(v){d[h[0]]+=h[c]}c<h.length-1&&(d[h[0]]+="=")}}return d};b.extendsClass=function(a,d){var h=function(){};h.prototype=d.prototype;
a.prototype=new h};b.getPath=function(a){a&&-1!=a.indexOf("?")&&(a=a.split("?").shift());return a};b.getExtension=function(a){return(a=b.getPath(a))&&-1!=a.indexOf(".")?a.split(".").pop().toLowerCase():null};b.setExtension=function(a,d){return-1!=a.indexOf(".")?(a=a.split("."),a.pop(),a.push(d),a.join(".")):a+"."+d};b.logEnabled=!0;b.logElement=null;b.log=function(){if(b.logEnabled){var a=Array.prototype.join.call(arguments," ");this.logElement&&(this.logElement.innerHTML+=a+"<br>");console.log(a)}};
b.keys={};b.keysTotal={};b.begin=function(a){b.keys[a]=Date.now()};b.end=function(a){var d=b.keys[a];d=Date.now()-d;void 0==b.keysTotal[a]&&(b.keysTotal[a]=0);b.keysTotal[a]+=d};b.logKeys=function(a){b.log();var d=0;for(a in b.keysTotal)b.log(a+" = "+b.keysTotal[a]+" ms"),d+=b.keysTotal[a];b.log("Total = "+d);b.log()};b.defineProperties=function(a){var d=null,h=null,g=null,c=null;for(c in a){var u=c.substring(0,4);"get_"==u?(g=c.substring(4),d=a["get_"+g],void 0!=a["set_"+g]&&(h=a["set_"+g])):"set_"==
u&&(g=c.substring(4),void 0!=!a["get_"+g]&&(h=a["set_"+g]));(d||h)&&b.defineProperty(a,g,d,h)}};b.defineProperty=function(a,d,h,g,b){void 0!=Object.defineProperty?(b={enumerable:void 0!=b?b:!0,configurable:!0},h&&(b.get=h),g&&(b.set=g),Object.defineProperty(a,d,b)):(h&&void 0!=a.__defineGetter__&&a.__defineGetter__(d,h),g&&void 0!=a.__defineSetter__&&a.__defineSetter__(d,g))};b.rndString=function(){return Math.random()+"_"+Date.now()};b.formatData=function(a){var d=[],h;for(h in a){var g=a[h],b=typeof g;
"string"!=b&&"number"!=b&&"boolean"!=b||d.push(h+"="+encodeURIComponent(g))}return d.join("&")};b.webGLEnabled=function(){if(m.WebGLRenderingContext)for(var a=document.createElement("canvas"),d=["webgl","experimental-webgl","moz-webgl","webkit-3d"],h=!1,g=0;g<d.length;g++)try{if((h=a.getContext(d[g]))&&"function"==typeof h.getParameter)return!0}catch(x){}return!1};b.isMobile=function(){if("undefined"===typeof b.isMobileDevice){var a=!1,d=navigator.userAgent||navigator.vendor||m.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(d)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,
4)))a=!0;b.isMobileDevice=a}return b.isMobileDevice};b.isAndroid=function(){"undefined"===typeof b.isAndroidDevice&&(b.isAndroidDevice=/(android)/i.test(navigator.userAgent));return b.isAndroidDevice};b.isiOS=function(){"undefined"===typeof b.isiOSDevice&&(b.isiOSDevice=/iPhone|iPod|iPad/.test(navigator.userAgent));return b.isiOSDevice};b.isSlow=function(){return 1024>Math.max(m.screen.width,m.screen.height)*(m.devicePixelRatio||1)};b.startRemoteDebug=function(a){};b.isWebKit=function(){return/WebKit/.test(navigator.userAgent)};
b.getOS=function(){if(navigator&&"string"==typeof navigator.appVersion)return-1!=navigator.appVersion.toLowerCase().indexOf("android")?"android":-1!=navigator.appVersion.toLowerCase().indexOf("mac")&&/iPad|iPhone|iPod/.test(navigator.userAgent)?"ios":-1!=navigator.appVersion.toLowerCase().indexOf("win")?"windows":-1!=navigator.appVersion.toLowerCase().indexOf("mac")?"mac":-1!=navigator.appVersion.toLowerCase().indexOf("x11")?"unix":-1!=navigator.appVersion.toLowerCase().indexOf("web0s")||-1!=navigator.appVersion.toLowerCase().indexOf("webos")?
"webos":-1!=navigator.appVersion.toLowerCase().indexOf("linux")?"linux":null};b.getOSVersion=function(){var a=navigator.userAgent.toLowerCase().split(" "),d=a.indexOf("os");return-1!=d?(a=a[d+1].split("_"),{major:a[0],minor:a[1]}):{major:0,minor:0}};b.getChromeVersion=function(){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a?parseInt(a[2],10):!1};b.getBrowser=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1!=navigator.vendor.toLowerCase().indexOf("google")?
"chrome":-1!=navigator.userAgent.toLowerCase().indexOf("opera")?"opera":-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?"firefox":-1!=navigator.userAgent.toLowerCase().indexOf("safari")&&-1!=navigator.vendor.toLowerCase().indexOf("apple")?"safari":-1!=navigator.userAgent.toLowerCase().indexOf("msie")||1==!!document.documentMode?"ie":null};b.isHighDensity=function(){var a=!1;try{a=m.matchMedia&&(m.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||
m.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||m.devicePixelRatio&&1.3<m.devicePixelRatio}catch(d){a=m.devicePixelRatio&&1.3<m.devicePixelRatio}return a};b.parseXML=function(a){return(m.DOMParser?function(a){return(new m.DOMParser).parseFromString(a,"text/xml")}:"undefined"!=typeof m.ActiveXObject&&new m.ActiveXObject("Microsoft.XMLDOM")?
function(a){var d=new m.ActiveXObject("Microsoft.XMLDOM");d.async="false";d.loadXML(a);return d}:function(){return null})(a)};b.getChildByPath=function(a,d){if(a&&d&&(d=d.split("/"),0<d.length)){var h=d.shift().toLowerCase();a=a.children;for(var g=0;g<a.length;g++){var c=a[g];if(c.nodeName.toLowerCase()==h)return 0<d.length?b.getChildByPath(c,d.join("/")):c}}return null};b.isVideoElement=function(a){var d="",h="",g="",b="";a.canPlayType&&(d=""!==a.canPlayType('video/mp4; codecs="mp4v.20.8"'),h=""!==
(a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),g=""!==a.canPlayType('video/ogg; codecs="theora"'),b=""!==a.canPlayType('video/webm; codecs="vp8, vorbis"'));return d||h||g||b};b.getElementById=function(a,d){a=a.childNodes;for(var h in a){var g=a[h];if(g.id==d)return g;g=b.getElementById(g,d);if(null!=g)return g}return null};b.getHostName=function(a){function d(a){if("undefined"==typeof a||null==a)return"";a=a.trimStr();if(""==a)return"";
if(-1<a.indexOf("://"))if(a=a.split("://"),-1<a[0].indexOf("/")||-1<a[0].indexOf(".")||-1<a[0].indexOf("?")||-1<a[0].indexOf("&"))if(a[0]=a[0].trimStr(),0==a[0].indexOf("//"))a=a[0].split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else return"";else a[1]=a[1].trimStr(),a=a[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else a=0==a.indexOf("//")?a.split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]:a.split("/")[0].trimStr().split("?")[0].split("&")[0];return a}
try{a=decodeURIComponent(a),a=decodeURIComponent(a),a=decodeURIComponent(a)}catch(h){try{"%"==a[a.length-1]?a=a.substring(0,a.length-1):"%"==a[a.length-2]&&(a=a.substring(0,a.length-2)),a=decodeURIComponent(a),a=decodeURIComponent(a),a=decodeURIComponent(a)}catch(g){}}String.prototype.trimStr=function(){return this.replace(/^\s+|\s+$/g,"")};return function(a){if("undefined"==typeof a||null==a)return"";a=a.trimStr();return""==a?"":d(a).split(":")[0]}(a)};b.getMD5=function(a,d,b){function g(a,e){var g=
(a&65535)+(e&65535);return(a>>16)+(e>>16)+(g>>16)<<16|g&65535}function h(a,e,f,d,b,h){a=g(g(e,a),g(d,h));return g(a<<b|a>>>32-b,f)}function c(a,e,g,f,d,b,c){return h(e&g|~e&f,a,e,d,b,c)}function p(a,e,g,f,d,b,c){return h(e&f|g&~f,a,e,d,b,c)}function r(a,e,g,f,d,b,c){return h(g^(e|~f),a,e,d,b,c)}function f(a,e){a[e>>5]|=128<<e%32;a[(e+64>>>9<<4)+14]=e;var f=1732584193,d=-271733879,b=-1732584194,q=271733878;for(e=0;e<a.length;e+=16){var y=f;var u=d;var x=b;var C=q;f=c(f,d,b,q,a[e],7,-680876936);q=c(q,
f,d,b,a[e+1],12,-389564586);b=c(b,q,f,d,a[e+2],17,606105819);d=c(d,b,q,f,a[e+3],22,-1044525330);f=c(f,d,b,q,a[e+4],7,-176418897);q=c(q,f,d,b,a[e+5],12,1200080426);b=c(b,q,f,d,a[e+6],17,-1473231341);d=c(d,b,q,f,a[e+7],22,-45705983);f=c(f,d,b,q,a[e+8],7,1770035416);q=c(q,f,d,b,a[e+9],12,-1958414417);b=c(b,q,f,d,a[e+10],17,-42063);d=c(d,b,q,f,a[e+11],22,-1990404162);f=c(f,d,b,q,a[e+12],7,1804603682);q=c(q,f,d,b,a[e+13],12,-40341101);b=c(b,q,f,d,a[e+14],17,-1502002290);d=c(d,b,q,f,a[e+15],22,1236535329);
f=p(f,d,b,q,a[e+1],5,-165796510);q=p(q,f,d,b,a[e+6],9,-1069501632);b=p(b,q,f,d,a[e+11],14,643717713);d=p(d,b,q,f,a[e],20,-373897302);f=p(f,d,b,q,a[e+5],5,-701558691);q=p(q,f,d,b,a[e+10],9,38016083);b=p(b,q,f,d,a[e+15],14,-660478335);d=p(d,b,q,f,a[e+4],20,-405537848);f=p(f,d,b,q,a[e+9],5,568446438);q=p(q,f,d,b,a[e+14],9,-1019803690);b=p(b,q,f,d,a[e+3],14,-187363961);d=p(d,b,q,f,a[e+8],20,1163531501);f=p(f,d,b,q,a[e+13],5,-1444681467);q=p(q,f,d,b,a[e+2],9,-51403784);b=p(b,q,f,d,a[e+7],14,1735328473);
d=p(d,b,q,f,a[e+12],20,-1926607734);f=h(d^b^q,f,d,a[e+5],4,-378558);q=h(f^d^b,q,f,a[e+8],11,-2022574463);b=h(q^f^d,b,q,a[e+11],16,1839030562);d=h(b^q^f,d,b,a[e+14],23,-35309556);f=h(d^b^q,f,d,a[e+1],4,-1530992060);q=h(f^d^b,q,f,a[e+4],11,1272893353);b=h(q^f^d,b,q,a[e+7],16,-155497632);d=h(b^q^f,d,b,a[e+10],23,-1094730640);f=h(d^b^q,f,d,a[e+13],4,681279174);q=h(f^d^b,q,f,a[e],11,-358537222);b=h(q^f^d,b,q,a[e+3],16,-722521979);d=h(b^q^f,d,b,a[e+6],23,76029189);f=h(d^b^q,f,d,a[e+9],4,-640364487);q=h(f^
d^b,q,f,a[e+12],11,-421815835);b=h(q^f^d,b,q,a[e+15],16,530742520);d=h(b^q^f,d,b,a[e+2],23,-995338651);f=r(f,d,b,q,a[e],6,-198630844);q=r(q,f,d,b,a[e+7],10,1126891415);b=r(b,q,f,d,a[e+14],15,-1416354905);d=r(d,b,q,f,a[e+5],21,-57434055);f=r(f,d,b,q,a[e+12],6,1700485571);q=r(q,f,d,b,a[e+3],10,-1894986606);b=r(b,q,f,d,a[e+10],15,-1051523);d=r(d,b,q,f,a[e+1],21,-2054922799);f=r(f,d,b,q,a[e+8],6,1873313359);q=r(q,f,d,b,a[e+15],10,-30611744);b=r(b,q,f,d,a[e+6],15,-1560198380);d=r(d,b,q,f,a[e+13],21,1309151649);
f=r(f,d,b,q,a[e+4],6,-145523070);q=r(q,f,d,b,a[e+11],10,-1120210379);b=r(b,q,f,d,a[e+2],15,718787259);d=r(d,b,q,f,a[e+9],21,-343485551);f=g(f,y);d=g(d,u);b=g(b,x);q=g(q,C)}return[f,d,b,q]}function w(a){var e,f="";for(e=0;e<32*a.length;e+=8)f+=String.fromCharCode(a[e>>5]>>>e%32&255);return f}function q(a){var e,f=[];f[(a.length>>2)-1]=void 0;for(e=0;e<f.length;e+=1)f[e]=0;for(e=0;e<8*a.length;e+=8)f[e>>5]|=(a.charCodeAt(e/8)&255)<<e%32;return f}function C(a){return w(f(q(a),8*a.length))}function B(a){var e=
"",f;for(f=0;f<a.length;f+=1){var d=a.charCodeAt(f);e+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15)}return e}function e(a,e){a=unescape(encodeURIComponent(a));var d=unescape(encodeURIComponent(e)),b=q(a),g=[];e=[];g[15]=e[15]=void 0;16<b.length&&(b=f(b,8*a.length));for(a=0;16>a;a+=1)g[a]=b[a]^909522486,e[a]=b[a]^1549556828;a=f(g.concat(q(d)),512+8*d.length);return w(f(e.concat(a),640))}return d?b?e(d,a):B(e(d,a)):b?C(unescape(encodeURIComponent(a))):B(C(unescape(encodeURIComponent(a))))};
b.getSHA1=function(a){var d={hash:function(a){a=unescape(encodeURIComponent(a));var b=[1518500249,1859775393,2400959708,3395469782];a+=String.fromCharCode(128);for(var h=Math.ceil((a.length/4+2)/16),c=Array(h),p=0;p<h;p++){c[p]=Array(16);for(var r=0;16>r;r++)c[p][r]=a.charCodeAt(64*p+4*r)<<24|a.charCodeAt(64*p+4*r+1)<<16|a.charCodeAt(64*p+4*r+2)<<8|a.charCodeAt(64*p+4*r+3)}c[h-1][14]=8*(a.length-1)/Math.pow(2,32);c[h-1][14]=Math.floor(c[h-1][14]);c[h-1][15]=8*(a.length-1)&4294967295;a=1732584193;
r=4023233417;var f=2562383102,w=271733878,q=3285377520,C=Array(80);for(p=0;p<h;p++){for(var B=0;16>B;B++)C[B]=c[p][B];for(B=16;80>B;B++)C[B]=d.ROTL(C[B-3]^C[B-8]^C[B-14]^C[B-16],1);var e=a;var y=r;var m=f;var l=w;var t=q;for(B=0;80>B;B++){var K=Math.floor(B/20);K=d.ROTL(e,5)+d.f(K,y,m,l)+t+b[K]+C[B]&4294967295;t=l;l=m;m=d.ROTL(y,30);y=e;e=K}a=a+e&4294967295;r=r+y&4294967295;f=f+m&4294967295;w=w+l&4294967295;q=q+t&4294967295}return d.toHexStr(a)+d.toHexStr(r)+d.toHexStr(f)+d.toHexStr(w)+d.toHexStr(q)},
f:function(a,d,b,c){switch(a){case 0:return d&b^~d&c;case 1:return d^b^c;case 2:return d&b^d&c^b&c;case 3:return d^b^c}},ROTL:function(a,d){return a<<d|a>>>32-d},toHexStr:function(a){for(var d="",b,h=7;0<=h;h--)b=a>>>4*h&15,d+=b.toString(16);return d}};return d.hash(a)};b.joinObject=function(a){var d=[],b;for(b in a)a.hasOwnProperty(b)&&d.push(b+"="+a[b]);return d.join("&")};b.getProtocol=function(){if("undefined"!==typeof b.protocol)return b.protocol;if("http:"==m.location.protocol||"https:"==m.location.protocol)b.protocol=
b.baseProtocol=m.location.protocol,b.topWindow=m;else{var a=m;var d=a.location.protocol;var h=0;try{for(;"http:"!=d&&"https:"!=d&&15>h&&a!==a.parent;)a=a.parent,d=a.location.protocol,h++}catch(g){}"http:"==d||"https:"==d?(b.protocol=d,b.topWindow=a):b.protocol="https:";b.baseProtocol=d}return b.protocol};b.getTopWindow=function(){this.topWindow||this.getProtocol();return this.topWindow};b.httpsReplace=function(a){"https:"==b.getProtocol()&&(-1==a.indexOf("hwdata1.aniview.com")&&(a=a.replace("data1.ani-view.com",
"gbdl.hs.llnwd.net/v1"),a=a.replace("data1.aniview.com","aniview.hs.llnwd.net/d1")),a=a.replace(/^http:\/\//i,"https://"));return a};b.getTrueDomain=function(){function a(a){try{if(!m.location.ancestorOrigins)return;for(var d=0,b=m.location.ancestorOrigins.length;b>d;d++)a.call(null,m.location.ancestorOrigins[d],d)}catch(f){}return[]}function d(a){var d=[];do try{var b=b?b.parent:m;a.call(null,b,d)}catch(f){return d.push({referrer:null,location:null,isTop:!1}),d}while(b!==m.top);return d}function h(){var b=
null;try{var h=d(function(a,d){try{d.push({referrer:a.document.referrer||null,location:a.location.href||null,isTop:a===m.top})}catch(q){d.push({referrer:null,location:null,isTop:a===m.top})}});a(function(a,d){h[d].ancestor=a});b="";for(var c=h.length-1;0<=c&&(b=h[c].location,!b&&0<c&&(b=h[c-1].referrer,b||(b=h[c-1].ancestor)),!b);c--);g.refererStack=h}catch(f){}return b}var g=this;try{if(this.trueDomain)return this.trueDomain;var c=h();if("string"===typeof c)try{c=b.getAmpUrl(c)}catch(u){}"string"===
typeof c&&4<c.length&&(this.trueDomain=c);return c}catch(u){return null}};b.getAmpUrl=function(a){if("string"===typeof a){var d=a.indexOf("/amp/");if(0<d&&40>d){var b=a.indexOf("google.");0<b&&b<d&&(a="https://"+a.substring(d+5,500))}return a}};b.logLevels={none:0,defaultLevel:1,error:2,info:4,debug:5};b.logLevel=b.logLevels.none;b.writeLog=function(a,d,b){if(a<=this.logLevel)try{b?console.log(d,b):console.log(d)}catch(g){}};b.reportDuduPixel=function(a,d,b){};b.setFSState=function(a,d){d=d?a.requestFullscreen||
a.webkitRequestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen:a.exitFullscreen||a.webkitExitFullscreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen;if("function"!==typeof d)return!1;d.call(a);return!0};b.getFSElement=function(a){return a.fullscreenElement||a.webkitFullscreenElement||a.webkitCurrentFullScreenElement||a.mozFullScreenElement||a.msFullscreenElement};b.getFSEvent=function(){var a=document;return a.exitFullscreen?"fullscreenchange":
a.webkitExitFullscreen?"webkitfullscreenchange":a.webkitCancelFullScreen?"webkitfullscreenchange":a.mozCancelFullScreen?"mozfullscreenchange":a.msExitFullscreen?"MSFullscreenChange":null};b.getVideoSignature=function(a,d){a=a.replace(/\https/g,"http");var b=a.toUpperCase();if(-1<b.search(".MP4")||-1<b.search(".FLV")||-1<b.search(".3GP")||-1<b.search(".WMV")||-1<b.search(".WEBM")){if(-1<a.search("/videoplayback/")&&-1<a.search("/id/")&&-1<a.search("/itag/")&&-1<a.search("/source/")&&-1<a.search("/ip/")){var g=
a.search("ip/");a=a.substr(0,g)}g=a.indexOf("90minContentId");-1<g&&((a=a.substring(g+15,g+100))&&2<a.length&&(g=a.indexOf("&"),-1<g&&(a=a.substring(0,g))),a="http://90min.com/"+a+"/"+a+"/"+a+"/"+a);"string"===typeof d&&2<d.length&&(a=d);if(-1<a.indexOf("track.eyeviewads.com")){var c="";g=a.indexOf("madid=");-1<g&&(g+=6,d=a.substring(g,g+100),g=d.indexOf("&"),-1<g&&(c=d.substring(0,g)),c&&2<c.length&&(a="http://track.eyeviewads.com/madid/"+c+"/"+c+"/"+c+"/"+c+"/"+c))}-1<a.indexOf("eyeviewads")?(d=
"",-1<b.search(".MP4")?d=".mp4":-1<b.search(".FLV")?d=".flv":-1<b.search(".3GP")&&(d=".3gp"),a=a.split(d),a=a[0]+d):-1<a.indexOf("?")&&(a=a.split("?"),a=a[0]);-1<a.indexOf("toboads.com/vast2/agw.php")&&(d="zzzzzzz",-1<b.search(".MP4")?d=".MP4":-1<b.search(".FLV")?d=".FLV":-1<b.search(".WEBM")?d=".WEBM":-1<b.search(".3GP")&&(d=".3GP"),"zzzzzzz"!=d&&(a=b.split(d),a=a[0]+d))}else-1<a.indexOf("/www.youtube.com/get_video?")&&(c="",g=a.indexOf("video_id="),-1<g&&(g+=9,d=a.substring(g,g+100),g=d.indexOf("&"),
-1<g&&(c=d.substring(0,g)),c&&2<c.length&&(a="http://www.youtube.com/video_id/"+c+"/"+c+"/"+c+"/"+c))),-1<a.indexOf("web.sundaysky.com/create_video")&&(c="",g=a.indexOf("create_video?id="),-1<g&&(g+=16,d=a.substring(g,g+100),g=d.indexOf("&"),-1<g&&(c=d.substring(0,g)),c&&2<c.length&&(a="http://web.sundaysky.com/create_video/video_id/"+c+"/"+c+"/"+c+"/"+c)));b=a;d=0;g="";for(a=0;a<b.length;a++)c=b.charCodeAt(a)*a,d+=c,0==a%13&&(g+=d.toString(),d=0);g+=d.toString();return g+="_"+b.length};b.getSlotSize=
function(a){a=a.getBoundingClientRect();a={width:a.width,height:a.height};var b=m.AV_player.config.width,c=m.AV_player.config.height;a.width=b>a.width?b:a.width;a.height=c>a.height?c:a.height;return a};var p=function(){function a(){var a=p.getVieabilityInfo(x.el,x.wnd),b=a.vertical.value*a.horizontal.value;return{inView:b>g,ratio:b,state:a.vertical.state}}function d(){var b=a();c&&c(b.inView,b.ratio,b.state)}var c=null,g=.5,x=null,u=!1,p=this;this.checkViewability=function(){d()};this.start=function(a,
f,h){if(u)return!1;a:{var q=null,r=m;b&&"function"===typeof b.getViewability&&"function"===typeof b.getUrlParameters&&(r=parent);try{if(q=r.frameElement)for(var w,e=r;e!==m.top;){w=q.ownerDocument;e=w.defaultView||w.parentWindow;if(e===m.top){var y=e;var p=q;break}q=e.frameElement}}catch(D){u=!0;x=null;break a}if(null==q){p="object"==typeof a?a:r.document.getElementById(a);if(!p){u=!0;x=null;break a}y=r}x={el:p,wnd:y}}if(!x)return!1;h&&(g=h);f&&(x.wnd.addEventListener("resize",d,!0),x.wnd.addEventListener("scroll",
d,!0),c=f,setTimeout(d,10));return!0};this.stop=function(){c&&(x.wnd.removeEventListener("resize",d,!0),x.wnd.removeEventListener("scroll",d,!0),c=null)};this.get=function(b,d){return!u&&x?a():{inView:!1,ratio:0,state:"UNKNOWN"}};this.getHorizontalViewability=function(a,b){b=b.innerWidth;var d=a.getBoundingClientRect().left;a=a.getBoundingClientRect().right;var f=a-d;return d>b?{value:0,state:"OUT_RIGHT"}:0>=a?{value:0,state:"OUT_LEFT"}:0<=d&&a<=b?{value:1,state:"IN_HVIEW"}:0>d&&a>b?{value:b/f,state:"LR_TRUNC"}:
0>d&&a<=b?{value:a/f,state:"L_TRUNC"}:0<=d&&a>b?{value:(b-d)/f,state:"R_TRUNC"}:{value:0,state:"OUT"}};this.getVerticalViewability=function(a,b){b=b.innerHeight;var d=a.getBoundingClientRect().top;a=a.getBoundingClientRect().bottom;var f=a-d;return d>b?{value:0,state:"OUT_BOTTOM"}:0>=a?{value:0,state:"OUT_TOP"}:0<=d&&a<=b?{value:1,state:"IN_VVIEW"}:0>d&&a>b?{value:b/f,state:"BT_TRUNC"}:0>d&&a<=b?{value:a/f,state:"T_TRUNC"}:0<=d&&a>b?{value:(b-d)/f,state:"B_TRUNC"}:{value:0,state:"OUT"}};this.getVieabilityInfo=
function(a,b){return{vertical:p.getVerticalViewability(a,b),horizontal:p.getHorizontalViewability(a,b)}}};b.getViewability=function(a){if(this.lastViewabilityCheck&&100>Date.now()-this.lastViewabilityCheck)return this.lastViewability;a||(a=m.AV_player.config.slot);b.viewability||(b.viewability=new p,b.viewability.start(a,void 0,void 0));if(this.lastViewability=this.viewability.get())a=Math.floor(100*this.lastViewability.ratio),"UNKNOWN"==this.lastViewability.state&&(a=-1),this.vitab&&this.topDoc&&
"hidden"===this.topDoc.visibilityState&&(a=0),this.lastViewability.perc=a;this.lastViewabilityCheck=Date.now();return this.lastViewability};b.getViewabilityPerc=function(a){var b=-1;try{var c=this.getViewability(a);c&&(b=c.perc)}catch(g){}return b};b.adPosition=-1;b.getAdPosition=function(a,b){if(-1<this.adPosition)return this.adPosition;this.adPosition=0;try{if(a){var d=a.ownerDocument;if(d&&(d.defaultView||d.parentWindow)){var g=this.getTopWnd();if(top===g&&(top!==parent&&(this.getTopWnd(),a=this.frameElement),
a)){var c=a.getBoundingClientRect(),u=top.scrollY+c.top+b/2;this.adPosition=0<=u&&u<=top.innerHeight?1:3}}}}catch(v){}return this.adPosition};b.flashInstalled=function(){if("undefined"===typeof this.isFlashInstalled)try{this.isFlashInstalled=1==("undefined"!==typeof navigator.plugins&&"object"===typeof navigator.plugins["Shockwave Flash"]||m.ActiveXObject&&!1!==new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){this.isFlashInstalled=!1}return this.isFlashInstalled};b.createCORSRequest=function(a,
b,c){var d=new XMLHttpRequest;"withCredentials"in d?(d.open(a,b,!0),1==c&&(d.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null;return d};b.trackingBuffer={};b.trackingBufferSize=12;b.trackingBufferTimeout=5;b.bufferTrackingPixel=function(a,d,h,g){if("5ad59b84073ef41a4d606890"===m.AV_player.config.networkid)return this.topBufferTrackingPixel(a,d,h,g);this.trackingBuffer[a]||(this.trackingBuffer[a]={timer:0,data:[]});h&&this.trackingBuffer[a].data.push(h);
g||this.trackingBuffer[a].data.length>=b.trackingBufferSize?c(a,d):1==this.trackingBuffer[a].data.length&&(this.trackingBuffer[a].timer=setTimeout(function(){b.trackingBuffer[a].timer=0;c(a,d)},1E3*b.trackingBufferTimeout))};b.initTrackingBuffer=function(a){if(!this.initTrackingBufferDone&&(this.initTrackingBufferDone=!0,1==a&&(a=this.getTopWnd()))){"undefined"===typeof a.storageAni&&(a.storageAni={});"undefined"===typeof a.storageAni.trk&&(a.storageAni.trk={});for(var d=Date.now().toString();a.storageAni.trk[d];)d=
(Date.now()+1).toString();a.storageAni.trk[d]={trackingBuffer:{},trackingBufferSize:12,trackingBufferTimeout:5};try{var c=document.createElement("script"),g=t.toString()+l.toString();g=g.replace(/(\r\n|\n|\r)/gm,"");g=g.replace("function "+t.name,"function av_trk_post"+d);g=g.replace("function "+l.name,"function av_trk_buffer"+d);g=g.replace("postTrackingPixelsProto","av_trk_post"+d);g=g.replace("postTrackingPixelsProto","av_trk_post"+d);c.innerText=g;a.document.body.appendChild(c);b.topBufferTrackingPixelImpl=
a["av_trk_buffer"+d];b.topBufferTrackingPixelTrk=a.storageAni.trk[d]}catch(x){}}return"function"===typeof b.topBufferTrackingPixelImpl&&!!b.topBufferTrackingPixelTrk};b.topBufferTrackingPixel=function(a,d,c,g){this.initTrackingBuffer(1);this.topBufferTrackingPixelImpl&&this.topBufferTrackingPixelImpl(a,d,c,g,b.topBufferTrackingPixelTrk,b.getTopWnd())};b.findAdServerName=function(a,b){function d(a){a||(a="");return a.trim().toLowerCase()}function g(a,b,d,f){a=a.indexOf(b);return a>d&&a<f?!0:!1}try{a=
d(a);b=[{n:"3rdp1",t:"b.measuread.com/tl.js",s:0,e:11}];for(var c=0;c<b.length;c++)if(g(a,b[c].t,b[c].s,b[c].e))return b[c].n}catch(u){}return""};b.isAutoSound=function(a){return a.autosound&&!b.isMobile()||a.advideoslot&&a.autosound};b.vcmgr={init:function(a){a.av_evts||(a.av_evts=[],a.av_evtscnt=1,a.av_orig_addEventListener=a.addEventListener,a.av_orig_removeEventListener=a.removeEventListener);a.addEventListener=function(a,b,g){"function"===typeof b&&(b.av_evtid=this.av_evtscnt++,this.av_evts.push({evt:a,
func:b,opt:g}));return this.av_orig_addEventListener.apply(this,arguments)};a.removeEventListener=function(a,b,g){if("function"===typeof b&&b.av_evtid)for(var d=0;d<this.av_evts.length;d++)if(b.av_evtid==this.av_evts[d].func.av_evtid){this.av_evts.splice(d,1);break}return this.av_orig_removeEventListener.apply(this,arguments)}},clean:function(a){if(a&&a.av_evts){for(var b=0;b<a.av_evts.length;b++)try{a.av_orig_removeEventListener.call(a,a.av_evts[b].evt,a.av_evts[b].func,a.av_evts[b].opt)}catch(h){}a.av_evts.length=
0}},reset:function(a){a&&a.av_evts&&(this.clean(a),a.av_evts=null,a.av_evtscnt=0,a.av_orig_addEventListener&&(a.addEventListener=a.av_orig_addEventListener,a.av_orig_addEventListener=null),a.av_orig_removeEventListener&&(a.removeEventListener=a.av_orig_removeEventListener,a.av_orig_removeEventListener=null))}};b.getTopWnd=function(a){if(this.topWnd)return this.topWnd;var b=a||m;try{for(;b.frameElement;){this.frameElement=b.frameElement;try{b.frameElement.getBoundingClientRect()&&(b=b.frameElement.ownerDocument.defaultView||
b.frameElement.ownerDocument.parentWindow)}catch(h){break}}}catch(h){}return this.topWnd=b||a};b.preventDefaults=function(a){a||(a=m.event);a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};b.initScrollIntoViewHandler=function(a,b){function d(a,b){a&&b&&!a.Element.prototype.av_OrigScrollIntoView&&(a.Element.prototype.av_OrigScrollIntoView=a.Element.prototype.scrollIntoView,a.Element.prototype.scrollIntoView=function(){for(var a=this;a&&a.parentNode&&a!==a.parentNode;){if(a===b)return;
a=a.parentNode}return this.av_OrigScrollIntoView.apply(this,arguments)})}if(!a.AV_handleScrollIntoView)try{var g=document.createElement("script");g.innerText=d.toString();g.innerText=g.innerText.replace(/(\r\n|\n|\r)/gm,"");var c="av_sciv_hndlr"+Date.now();g.innerText=g.innerText.replace("function "+d.name,"function "+c);a.document.body.appendChild(g);a[c](a,b)}catch(u){}};b._consent={consentData:"",gdprApplies:!1,hasGlobalScope:!1,success:!1};b.setConsent=function(a,d,c){"string"===typeof a&&1<a.length&&
(this._consentReq=!0,"undefined"===typeof d&&(d=!0),"undefined"===typeof c&&(c=!0),b._consent={consentData:a,gdprApplies:d,hasGlobalScope:c,success:!0})};b.getConsent=function(a){function b(b){b&&b.consentData&&"string"===typeof b.consentData&&1<b.consentData.length&&(c._consent={consentData:b.consentData,gdprApplies:b.gdprApplies,hasGlobalScope:b.hasGlobalScope,success:!0},a&&(a(),a=null))}var c=this;if(!this._consentReq){this._consentReq=!0;var g=this.getTopWnd();try{var x=top.__cmp}catch(f){}if("function"===
typeof x)try{x("getConsentData",null,b)}catch(f){}else if(g&&g.$sf&&g.$sf.ext&&g.$sf.ext.cmp)try{g.$sf.ext.register(c.width,c.height,function(a,d){"cmpReturn"===a&&d&&d.vendorConsentData&&b(d.vendorConsentData)}),g.$sf.ext.cmp("getConsentData")}catch(f){}else{x=m;for(var u;!u;){try{x.frames.__cmpLocator&&(u=x)}catch(f){}if(x===g)break;x=x.parent}if(u)try{var p=Math.random()+"";g={__cmpCall:{command:"getConsentData",parameter:null,callId:p}};var r;m.addEventListener("message",r=function(a){a&&(a="string"===
typeof a.data&&-1<a.data.indexOf("cmpReturn")?JSON.parse(a.data):a.data)&&a.__cmpReturn&&a.__cmpReturn.callId===p&&(m.removeEventListener("message",r,!1),(a=a.__cmpReturn)&&a.returnValue&&b(a.returnValue))},!1);u.postMessage(g,"*")}catch(f){}}}return this._consent};b.checkNativeVideo=function(a){var b=document.createElement("video");b.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";
b.setAttribute("playsinline",!0);b.setAttribute("webkit-playsinline",!0);b.style.display="none";b.muted=!0;b=b.play();var c=!1;b?(b.then(function(){c=!0;a(!0)}).catch(function(b){c=!0;a(!1)}),setTimeout(function(){c||a(!1)},1E3)):a(!1)};b.firePixel=function(a,b,c,g,x,u){try{if(2==b||3==b){var d=document.createElement(2==b?"script":"iframe");d.src=c;a||(a=document.body);a&&a.appendChild(d)}else(new ((g&&x?this.getTopWnd():m).Image)).src=u?u(c):c}catch(r){}};b.firePrebidPixels=function(a){for(var b=
0;a&&b<a.length;b++)this.firePixel(document.body,"iframe"==a[b].type?3:1,a[b].url)}})(window);
(function(m){function c(a){return a&&a.complete&&0<a.width&&0<a.height}function t(a,b){function d(a){var b,d=0,f="";for(b=0;b<a.length;b++){var e=a.charCodeAt(b)*b;d+=e;0==b%13&&(f+=d.toString(),d=0)}f+=d.toString();return f+="_"+a.length}a=a.replace(/\https/g,"http");var c=a.toUpperCase();if(-1<c.search(".SWF")||-1<c.search(".MP4")||-1<c.search(".FLV")||-1<c.search(".3GP")||-1<c.search(".WMV")||-1<c.search(".WEBM")||-1<c.search(".M3U8")){var g="";if(0==a.trim().indexOf("data:"))return a=d("http://pixel.adsafeprotected.com/IASVideo.js?1234");
(-1<a.search("/videoplayback/")||-1<a.search("/signature/"))&&-1<a.search("/id/")&&-1<a.search("/itag/")&&-1<a.search("/source/")&&-1<a.search("/ip/")&&(g=a.search("ip/"),a=a.substr(0,g));if(-1<a.search("rtr.innovid.com/d/")&&-1<a.search("/media/")){g=a.search("rtr.innovid.com/d/")+18;g=a.substr(g,g+50);var f=g.search("/");-1<f&&(g=g.substr(0,f)+"/",a="https://rtr.innovid.com/d/"+g+g+g+g+g)}g=a.indexOf("90minContentId");-1<g&&((a=a.substring(g+15,g+100))&&2<a.length&&(g=a.indexOf("&"),-1<g&&(a=a.substring(0,
g))),a="http://90min.com/"+a+"/"+a+"/"+a+"/"+a);"string"===typeof b&&2<b.length&&(a=b);-1<a.indexOf("track.eyeviewads.com")&&(f="",g=a.indexOf("madid="),-1<g&&(g+=6,b=a.substring(g,g+100),g=b.indexOf("&"),-1<g&&(f=b.substring(0,g)),f&&2<f.length&&(a="http://track.eyeviewads.com/madid/"+f+"/"+f+"/"+f+"/"+f+"/"+f)));-1<a.indexOf("eyeviewads")?(b="",-1<c.search(".MP4")?b=".mp4":-1<c.search(".FLV")?b=".flv":-1<c.search(".3GP")&&(b=".3gp"),a=a.split(b),a=a[0]+b):-1<a.indexOf("?")&&(a=a.split("?"),a=a[0]);
-1<a.indexOf("toboads.com/vast2/agw.php")&&(b="zzzzzzz",-1<c.search(".MP4")?b=".MP4":-1<c.search(".FLV")?b=".FLV":-1<c.search(".WEBM")?b=".WEBM":-1<c.search(".3GP")&&(b=".3GP"),"zzzzzzz"!=b&&(a=c.split(b),a=a[0]+b));a=d(a)}else{-1<a.indexOf("/www.youtube.com/get_video?")&&(f="",g=a.indexOf("video_id="),-1<g&&(g+=9,b=a.substring(g,g+100),g=b.indexOf("&"),-1<g&&(f=b.substring(0,g)),f&&2<f.length&&(a="http://www.youtube.com/video_id/"+f+"/"+f+"/"+f+"/"+f)));-1<a.indexOf("/create_video")&&(f="",g=a.indexOf("create_video?id="),
-1<g?(g+=16,b=a.substring(g,g+100),g=b.indexOf("&"),-1<g&&(f=b.substring(0,g)),f&&2<f.length&&(a="http://web.sundaysky.com/create_video/video_id/"+f+"/"+f+"/"+f+"/"+f)):(c=Utils.getUrlParameters(a))&&"string"===typeof c.video_sku&&(b=a.split("?"),1<b.length&&(a=b[0]+"?video_sku="+c.video_sku)));if(0==a.trim().indexOf("data:")||-1<a.indexOf(".js?")||-1<a.indexOf("/js/vpaid/")||-1<a.indexOf("/moatwrapper.js#")||a.indexOf(".js")==a.length-3)a="http://pixel.adsafeprotected.com/IASVideo.js?1234";-1<a.indexOf("vam.imposium.com/redirect")&&
(c=a.indexOf("?"),-1<c&&(a=a.substring(0,c)));c=a.indexOf("ad.doubleclick.net/ddm");-1<c&&11>c&&-1<a.indexOf("=text/xml")&&(a="http://pixel.adsafeprotected.com/IASVideo.js?1234");a=d(a);1E3<a.length&&(a=d(a))}return a}function l(a,d,c,h,r){var f;var g=(new Date).getTime();m.AV_player.config.adfoldermode?a=h.trim()+"/id.txt":(h=m.AV_player.config.keydomain,r&&(h="cdn3.aniview.com"),a=Utils.httpsReplace("http://"+h+"/")+d+"/"+a+"/id.txt?cb="+g);var q=b("GET",a,0);q.onload=function(){200==q.status?""!=
q.responseText?(f=JSON.parse(q.responseText),f.error?1==f.error||2==f.error||3==f.error?c.failure(f):c.success(f):c.success(f)):c.failure({error:0}):403==q.status||404==q.status?c.failure(null):c.failure({error:0})};q.onerror=function(){403==q.status||404==q.status?c.failure(null):c.failure({error:0})};q.send()}function b(a,b,d){var c=new XMLHttpRequest;"withCredentials"in c?(c.open(a,b,!0),1==d&&(c.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(a,b)):c=null;
return c}function p(b,d){var c=null,g=[];for(c in d){var h=c.substring(0,4);if("get_"==h||"set_"==h){var f=c.substring(4);if(-1==g.indexOf(f)){g.push(f);h=d["get_"+f];var p=d["set_"+f];if("nodeName"==f||"tagName"==f)try{a(b,f,h,p)}catch(q){}else a(b,f,h,p)}}else b[c]=d[c]}}function a(a,b,d,c,h){void 0!=Object.defineProperty?(h={enumerable:void 0!=h?h:!0,configurable:!0},d&&(h.get=d),c&&(h.set=c),Object.defineProperty(a,b,h)):(d&&void 0!=a.__defineGetter__&&a.__defineGetter__(b,d),c&&void 0!=a.__defineSetter__&&
a.__defineSetter__(b,c))}var d=m.AniviewImagePlayer={};d.createAniviewVideoTag=function(a){return Utils.isMobile()?d.isVideoSupported(a)?d.createMobileVideoTag():d.createTag():document.createElement("video")};d.isVideoSupported=function(a){if(a||m.AV_player&&m.AV_player.config&&m.AV_player.config.nativevideo){if(Utils.isiOS()){if(10<=Utils.getOSVersion().major)return!0}else if(Utils.isAndroid()&&53<=Utils.getChromeVersion())return!0;if(m.AV_player&&m.AV_player.config&&(a||m.AV_player.config.nativevideo)&&
m.AV_player.config.nativetest)return!0}return!1};d.createMobileVideoTag=function(){var a=document.createElement("video");a.setAttribute("muted",!0);a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0);a.origPlay=a.play;a.play=function(){a.fullScreenRequested||(a.setAttribute("muted",!0),a.setAttribute("playsinline",!0),a.setAttribute("webkit-playsinline",!0));this.pauseState=!1;return a.origPlay.call(a)};a.origPause=a.pause;a.pause=function(){this.pauseState=!0;this.pauseStateTimer&&
(clearInterval(this.pauseStateTimer),this.pauseStateTimer=0);return a.origPause.call(a)};a.audioReady=!0;Utils.isiOS()&&(a.addEventListener("webkitbeginfullscreen",function(){a.fullScreenRequested||"function"!==typeof a.webkitExitFullscreen||a.webkitExitFullscreen()}),a.addEventListener("webkitendfullscreen",function(){a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0)}),a.resize=function(b,d,c){"fullscreen"==c&&Utils.isiOS()&&((b=a.paused)||a.pause(),a.removeAttribute("playsinline"),
a.removeAttribute("webkit-playsinline"),a.fullScreenRequested=!0,b||a.play())});return a};d.createTag=function(a){function b(a){if("string"!==typeof a)return!1;a=a.trim();return 0==a.indexOf("data:")||0==a.indexOf("about:")?!1:!0}function d(){var a=null,e=z.children;if(e&&0<e.length&&(!z.src||""==z.src)){var d="";for(a=0;a<e.length;a++)e[a].src&&(-1<e[a].src.indexOf("wmv")||-1<e[a].src.indexOf("webm")||-1<e[a].src.indexOf("mp4")||-1<e[a].src.indexOf("flv")||-1<e[a].src.indexOf("3gpp"))&&b(e[a].src)&&
(d=e[a].src,a=e.length);a=d}a&&""!=a||b(z.getAttribute("src"))&&(a=z.getAttribute("src"));a&&""!=a||(a=z.src);a&&b(a)&&(z.src=a)}function g(){return m.AV_player.config.hd&&n&&"true"==String(n.HD).toLowerCase()}function r(a){Utils.writeLog(Utils.logLevels.debug,"Video Player event: "+z.asid+":"+a);var e="on"+a;if("function"===typeof z[e])z[e]();e=document.createEvent("HTMLEvents");e.initEvent(a,!0,!0);z.dispatchEvent(e)}function f(a,e){if(null!=K&&""!=K&&b(K))if(A++,30<A)r("encodeerror");else{M=n=
null;U=!1;P=!0;I=0;N=Y;H.pause();H.src="";ea&&(R=ea);try{O.getContext("2d").clearRect(0,0,O.width,O.height)}catch(Ba){console.error(Ba)}"string"===typeof K&&"//"==K.trim().substring(0,2)&&(K="http:"+K.trim());if(!a&&!e&&"string"===typeof K){var d=K.trim();a=d.indexOf("//r.mradx.net/r/");if(-1<a&&8>a)if(d=d.replace("https://","http://"),0==d.indexOf("//")&&(d="http:"+d),sa==d&&fa)e=fa;else{var c=!1,k=new XMLHttpRequest;k.onreadystatechange=function(){if(4===this.readyState&&!c){if(200===this.status)try{var a=
JSON.parse(this.responseText);a.etag||(a.etag=a.ETag);var e=a.etag;if("string"===typeof e&&5<e.length){sa=d;fa=e+e+e;f(!1,fa);c=!0;return}}catch(ta){}f(!0);c=!0}};k.open("GET","https://cross.aniview.com/api/video/proxy?type=1&url="+encodeURIComponent(d),!0);k.send();setTimeout(function(){c||(c=!0,f(!0),k.abort())},2500);return}}var h=t(K,e);r("waiting");z.VIDEO_FOLDER_ID=function(a,e){var b=1;na=!0;ua="http://data3.aniview.com/";if(m.AV_player.config.forcenewcdn||m.AV_player.config.newcdn)ua="http://data4.aniview.com/",
qa=!0;if("56425b19181f4650718b456c"==a)return"115252";if("55b88d67181f465d3e8b4567"==a)return"41751";for(a=0;a<e.length;a++)b+=e.charCodeAt(a);switch(b%27){case 1:case 4:case 7:case 10:case 13:case 16:case 19:return"20181";case 2:case 5:case 8:case 11:case 14:case 17:case 20:return"20182";case 3:case 6:case 9:case 12:case 15:case 18:case 21:return"20183";case 22:case 23:case 24:case 25:case 26:case 27:case 0:return"20184"}return"20152"}(m.AV_player.config.publisherid,h);m.AV_player.config.cdnurl1&&
(ua=m.AV_player.config.cdnurl1);l(h,z.VIDEO_FOLDER_ID,{success:function(a){n=a;V=g()?{width:512,height:288}:{width:300,height:167};X=1;r("loadstart");r("durationchange");r("loadedmetadata");a=m.AV_player.config.publisherid;var e="a";"Content"==z.asid&&(e="c");M=[];for(var b=Utils.httpsReplace(ua),d=0;d<n.total;d++){var f=b+"videos/resources/"+z.VIDEO_FOLDER_ID+"/"+n.id+"/"+(g()?"hd/":"")+"img"+d+".ani";m.AV_player.config.adfoldermode?f=z.src.trim()+"/"+(g()?m.AV_player.config.hdgeneric?"generic/":
"hd/":"")+"img"+d+".ani":na&&(f=Utils.httpsReplace(b)+z.VIDEO_FOLDER_ID+"/"+h+"/"+(g()?m.AV_player.config.hdgeneric?"generic/":"hd/":"")+"img"+(d+1)+".ani?pid="+a+"&type="+e);M.push({url:f,image:null})}q();d=b+"videos/resources/"+z.VIDEO_FOLDER_ID+"/"+n.id+"/"+n.id+".mp3";m.AV_player.config.adfoldermode?d=z.src.trim()+"/"+n.id+".mp3":na&&(d=Utils.httpsReplace(b)+z.VIDEO_FOLDER_ID+"/"+n.id+"/"+n.id+".mp3?pid="+a+"&type="+e);H.oncanplaythrough=function(){U||404==this.status||(U=!0,z.audioReady=!0);
r("durationchange");r("progress")};if(!na||na&&0<n.Mp3Size)H.src=d;a=new XMLHttpRequest;a.open("GET",d,!0);a.onload=function(a){U||404==this.status||(U=!0,z.audioReady=!0,r("progress"))};(!na||na&&0<n.Mp3Size)&&a.send(null);T&&z.play()},failure:function(a){a&&null!=a.error?0==a.error?setTimeout(f,1E3):r("encodeerror"):ca?setTimeout(f,1E3):(ca=!0,w(h))}},z.src,qa)}}function w(a){if("string"===typeof K&&1<K.trim().length){var e=encodeURIComponent(K),b=m.AV_player.config.adddomain;qa&&(b="add2.aniview.com");
e="videoURL="+e+"&xchangePartner="+z.VIDEO_FOLDER_ID+"&ADID="+a+"&vast=";var d=new XMLHttpRequest;a=Utils.httpsReplace("http://"+b)+"/cdnorigin/prod/addVideo?pubid="+AV_player.config.publisherid+"&ADID="+a+"&cid="+AV_player.config.channelid+"&asid="+z.asid+"&v=2";d.open("POST",a,!0);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.onload=function(){200==d.status&&setTimeout(f,1E3)};d.send(e)}}function q(){if(M&&M.length){var a=Math.floor(I),e=Math.floor(a+4);e>M.length&&(e=
M.length);for(;a<e;){var b=M[a];b.image||(b.image=document.createElement("img"),a==M.length-1&&(b.image.av_lastImage=!0),b.image.onload=function(){this.onload=null;this.av_lastImage&&r("durationchange");ha||(ha=!0,X=4,r("canplay"),r("canplaythrough"),r("loadeddata"));r("progress")},b.image.src=b.url);a++}}}function C(){var a=0==ma?z.clientWidth:ma,e=0==E?z.clientHeight:E;a=Math.floor(a);e=Math.floor(e);var b=!1;O.width!=a&&(O.width=a,b=!0);O.height!=e&&(O.height=e,b=!0);b&&r("resize")}function B(a){I!=
a&&(I=a,0>I?I=0:I>z.duration&&(I=z.duration),S&&(H.currentTime=I))}function e(a){if(M&&M.length){var e=Math.floor(I);a=Math.floor(e+a);a>M.length&&(a=M.length);for(;e<a;){if(!c(M[e].image))return!1;e++}return!0}return!1}function y(){return{x:5,y:O.height-5-20,width:O.width-10,height:20}}function G(a){var e=I;R||(e+=.4);if(M&&M.length&&V){var b=Math.floor(e);if(null!=M[b]){var d=M[b].image;if(c(d)&&(m.AV_player.config.hdgeneric&&!ya&&(V.width=d.width,V.height=d.height/10,ya=!0),e=Math.round(10*(e-
b)),b=b+"_"+e,ia!=b||a)&&(ia=b,e<Math.round(d.height/V.height))){b=Math.min(O.width/V.width,O.height/V.height);a=V.width*b;b*=V.height;1==m.AV_player.config.videoscale&&n.width&&n.height&&(b=Math.min(O.width/n.width,O.height/n.height),a=n.width*b,b*=n.height);if(1==m.AV_player.config.fullframe||va)a=m.AV_player.config.width,b=m.AV_player.config.height;O.width<O.height&&(a=O.width,b=O.height);try{0==oa&&(oa=!0,r("play"),r("playing")),O.getContext("2d").drawImage(d,0,V.height*e,V.width,V.height-1,.5*
(O.width-a),.5*(O.height-b),a,b)}catch(Ca){console.error(Ca)}}}}}function D(){H.loop=F;H.playbackRate=N}a||(a="");var z=document.createElement("div");z.addEventListener("mousedown",function(a){if(Z&&0<z.duration){var e=a.pageX-z.offsetLeft;a=a.pageY-z.offsetTop;var b=y();b.x<e&&e<b.x+b.width&&b.y<a&&a<b.y+b.height&&(e=(e-b.x)/b.width,0>e?e=0:1<e&&(e=1),z.currentTime=e*z.duration)}});var K=null,J=1,R=!0,ea=!1,I=0,X=0,Q=0,ia=null,P=!0,T=!1,ma=0,E=0,aa=0,L=0,Y=1,N=1,F=!1,k=null,n=null,U=!1,S=!1,M=null,
ja=Date.now(),A=0,ca=!1,Z=!1,ka=0,W=!1,ha=!1,V=null,ya=!1,pa=0,ra=0,oa=!1,ba=!1;z.__id=Date.now();var za=!1,la=!1,va=!1,wa=!1,na=!1,ua=m.AV_player&&m.AV_player.config.cdnurl,qa=!1,fa,sa,H=document.createElement("audio"),da=document.createElement("img"),O=document.createElement("canvas"),Aa=setInterval(d,250);p(z,{startAd:function(){za=!0},load:function(){d();null==z.src||""==z.src||la||(la=!0,A=0,ca=!1,W=!0,ha=!1,V=null,ya=!1,f())},init:function(a){va=a||!1;K=null;J=1;R=!0;ea=!1;Q=X=I=0;ia=null;P=
!0;T=!1;L=aa=E=ma=0;N=Y=1;F=!1;n=k=null;S=U=!1;H.pause();H.src="";M=null;ja=Date.now();A=0;Z=ca=!1;ka=0;ha=W=!1;V=null;pa&&clearTimeout(pa);ra=pa=0;qa=wa=la=za=ba=oa=!1},play:function(){d();null!=z.src&&""!=z.src&&(za?P&&(Utils.writeLog(Utils.logLevels.debug,"Video Player play command: "+this.asid),P=!1,I>=this.duration&&(I=0),S&&U&&!R&&H.play(),1==oa&&(r("play"),r("playing")),this.enterFrame=function(){var a=Date.now(),b=a-ja;R&&(b=100);C();D();q();b*=.001;if(0<z.duration){if(!P){var d;W?(d=e(4))&&
(W=!1):(d=e(1))||(W=!0);S&&!R?d?(H.paused&&!H.ended&&H.play(),H.currentTimeLast&&(H.currentTimeLast==H.currentTime&&(ra+=b),H.currentTimeLast<H.currentTime&&(ra=0)),H.currentTimeLast=H.currentTime,I=H.currentTime+ra,I>z.duration&&(I=z.duration)):H.paused||H.pause():(d&&(I+=b*N,I=Math.round(100*I)/100),S&&R&&(H.currentTime=I-.4))}!P&&I>=z.duration&&(F?(B(0),z.play()):(B(z.duration),r("timeupdate"),ba=!0,r("ended"),z.pause()));if(P&&0==I&&da.src){if(c(da)){var f=Math.min(O.width/da.width,O.height/da.height),
g=da.width*f;f*=da.height;try{O.getContext("2d").drawImage(da,0,0,da.width,da.height,.5*(O.width-g),.5*(O.height-f),g,f)}catch(ta){console.error(ta)}}}else if(G(),Z&&0<z.duration){d=y();try{g=O.getContext("2d");g.fillStyle="#999999";g.fillRect(d.x,d.y,d.width,d.height);for(var k=0;k<z.buffered.length;k++){f=z.buffered.begin(k)/z.duration;var p=z.buffered.end(k)/z.duration;0>f?f=0:1<f&&(f=1);0>p?p=0:1<p&&(p=1);g.fillStyle="#dddddd";g.fillRect(d.x+d.width*f,d.y,d.width*(p-f),d.height/2)}var u=z.currentTime/
z.duration;0>u?u=0:1<u&&(u=1);g.fillStyle="#dd0000";g.fillRect(d.x,d.y+d.height/2,d.width*u,d.height/2)}catch(ta){console.error(ta)}}ka+=b;wa||0!=I||(wa=!0,r("timeupdate"));.3<ka&&(ka=0,Q!=I&&(Q=I,r("timeupdate")))}ja=a;P||(R?pa=setTimeout(z.enterFrame,96):h(z.enterFrame))},z.canvasAppended||(z.appendChild(O),z.canvasAppended=!0),setTimeout(function(){z.enterFrame()},1)):Utils.writeLog(Utils.logLevels.debug,"Video play called before startAd, delaying: "+this.asid))},pause:function(){P||(Utils.writeLog(Utils.logLevels.debug,
"Video Player pause command: "+this.asid),P=!0,S&&H.pause(),0<pa&&(clearTimeout(pa),pa=0),r("pause"))},addTextTrack:function(a,e,b){return null},canPlayType:function(a){switch(a){case "video/mp4":case "video/webm":case "video/x-flv":case "video/3gpp":case "video/x-ms-wmv":a="probably";break;default:a=""}return a},get_buffered:function(){var a=[];if(M&&M.length)for(var e=null,b=0;b<M.length;b++)c(M[b].image)?(e||(e={},e.begin=b,a.push(e)),e.end=b+1):e=null;return{start:function(e){return e<a.length?
a[e].begin:0},end:function(e){return e<a.length?a[e].end:0},length:a.length}},get_videoWidth:function(){return aa},get_videoHeight:function(){return L},get_audioTracks:function(){return{begin:function(a){return 0},end:function(a){return U?H.duration:0},length:U?1:0}},get_poster:function(){return da.src},set_poster:function(a){null==a&&(a="");da.src!=a&&(da.src=a)},get_autoplay:function(){return T},set_autoplay:function(a){T=a},get_controller:function(){return null},get_controls:function(){return Z},
set_controls:function(a){Z=a},get_crossOrigin:function(){return null},get_currentSrc:function(){return K},get_currentTime:function(){return I},set_currentTime:function(a){B(a);a!=z.duration&&(ba=!1);r("seeking");r("seeked")},get_defaultMuted:function(){return ea},set_defaultMuted:function(a){ea=a},get_defaultPlaybackRate:function(){return Y},set_defaultPlaybackRate:function(a){Y=a},get_duration:function(){if(n){var a=0;if(M&&M.length){var e=M[M.length-1].image;c(e)&&V&&(e=Math.round(e.height/V.height),
0<e&&(a=e/10))}this&&1==this.av_opt_adnxs&&(a=1);return n.total-1+a}return 0},get_ended:function(){return ba},get_error:function(){return null},get_loop:function(){return F},set_loop:function(a){F=a},get_mediaGroup:function(){return{length:0}},get_volume:function(){return J},set_volume:function(a){1E-5>a&&(a=0);0>a?a=0:1<a&&(a=1);H.volume=J=a;R=0<a?!1:!0;D();m.AV_player.config.nosndrewind&&(S=!0);!U||S||R||ba||(S=!0,this.currentTime=0,this.pause(),this.play());S&&(R?(H.paused||H.pause(),I=H.currentTime+
.4):H.paused&&(H.currentTime=Math.floor(10*(I-.4))/10,P||ba||H.play()));r("volumechange")},get_muted:function(){return R},set_muted:function(a){R=a;D();m.AV_player.config.nosndrewind&&(S=!0);!U||S||R||ba||(S=!0,this.currentTime=0,this.pause(),this.play());S&&(R?(H.paused||H.pause(),I=H.currentTime+.4):H.paused&&(H.currentTime=I-.4,P||ba||H.play()))},get_networkState:function(){return 0},get_paused:function(){return P},get_playbackRate:function(){return N},set_playbackRate:function(a){N!=a&&(N=a,r("ratechange"))},
get_played:function(){return 0==I?{length:0}:{start:function(a){if(0==a)return 0},end:function(a){if(0==a)return I},length:1}},get_preload:function(){return"auto"},set_preload:function(a){},get_readyState:function(){return X},get_seekable:function(){return{length:0}},get_seeking:function(){return!1},get_src:function(){return K},set_src:function(a){K!=a&&(Utils.writeLog(Utils.logLevels.debug,"Video Player set src: "+this.asid+":"+a),K=a,null!=K&&""!=K?(clearInterval(Aa),la=!1,this.load()):la=!1)},
get_startDate:function(){return k},get_textTracks:function(){return{length:0}},get_videoTracks:function(){var a=this;return{begin:function(a){return 0},end:function(e){return a.duration},length:0<this.duration?1:0}},get_width:function(){return ma},set_width:function(a){ma=a},get_height:function(){return E},set_height:function(a){E=a},get_nodeName:function(){return"VIDEO"},get_tagName:function(){return"VIDEO"}});z.resize=function(a,e,b){try{z.paused&&(C(),G(!0))}catch(Da){}};return z};d.replaceTag=
function(a){if(a&&a.parentNode){var b=this.createTag();b.id=a.id;b.volume=a.volume;b.muted=a.muted;b.autoplay=a.autoplay;b.controls=a.controls;b.loop=a.loop;b.poster=a.poster;b.style.cssText=a.style.cssText;b.src=a.src;a.parentNode.insertBefore(b,a);a.parentNode.removeChild(a);return b}return a};var h=function(){return m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||function(a){m.setTimeout(a,1E3/60)}}()})(window);
(function(m){function c(b,a){"56d404b3181f467b5a8b4567"!==m.AV_player.config.publisherid?b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))||(b.className+=" "+a):b.classList.add(a)}function t(b,a){"56d404b3181f467b5a8b4567"!==m.AV_player.config.publisherid?b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))&&(b.className=b.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ")):b.classList.remove(a)}var l=Utils.isMobile(),b=m.AnivewPlayerGUI=function(b){this.config=b;m.AV_PlayerGui=this;if(null==
b)throw Error("AnivewPlayerGUI: not found 'config'");if(null==b.container)throw Error("AnivewPlayerGUI: not found 'config.container'");this.container=b.container;this.slotDoc=this.container.ownerDocument;this.gui=Utils.getElementById(this.container,"gui");this.slot=Utils.getElementById(this.container,"slot");this.videoslot=Utils.getElementById(this.container,"videoslot");this.preloader=Utils.getElementById(this.container,"preloader");this.timelineProgress=Utils.getElementById(this.container,"timeline-progress");
this.timelineBuffer=Utils.getElementById(this.container,"timeline-buffer");this.playPause=Utils.getElementById(this.container,"play-pause");this.bigPlay=Utils.getElementById(this.container,"big-play");this.fullscreen=Utils.getElementById(this.container,"fullscreen");this.sound=Utils.getElementById(this.container,"sound");this.timer=Utils.getElementById(this.container,"timer");this.skip=Utils.getElementById(this.container,"skip-btn");this.close=Utils.getElementById(this.container,"close-btn");this.share=
Utils.getElementById(this.container,"share");this.phone=Utils.getElementById(this.container,"phone");this.phoneNum=Utils.getElementById(this.container,"phone-num");this.aniview=Utils.getElementById(this.container,"aniview-credit");this.timeline=Utils.getElementById(this.container,"timeline");this.timelineProgress=Utils.getElementById(this.container,"timeline-progress");this.timelineMoveto=Utils.getElementById(this.container,"timeline-moveto");this.timelineBuffer=Utils.getElementById(this.container,
"timeline-buffer");this.buttons=Utils.getElementById(this.container,"buttons");0<this.config.skipTimer&&(this.skipTimerInitValue=this.config.skipTimer);this.init();this.showPreloader(this.config.showpreloader)};b.VERSION="1.0.2";b.prototype.config=null;b.prototype.lastframe=!1;b.prototype.container=null;b.prototype.player=null;b.prototype.paused=!1;b.prototype.muted=!1;b.prototype.videoslot=null;b.prototype.preloader=null;b.prototype.timelineProgress=null;b.prototype.timelineBuffer=null;b.prototype.playPause=
null;b.prototype.bigPlay=null;b.prototype.fullscreen=null;b.prototype.sound=null;b.prototype.skip=null;b.prototype.close=null;b.prototype.share=null;b.prototype.phone=null;b.prototype.timer=null;b.prototype.aniview=null;b.prototype.timeline=null;b.prototype.timelineProgress=null;b.prototype.timelineBuffer=null;b.prototype.buttons=null;b.prototype.endTimer=0;b.prototype.showPreloader=function(b){b=this.config.showpreloader&&b;this.preloader&&(this.preloader.style.display=b?"block":"none")};b.prototype.dispose=
function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null);this.skipTimeoutId&&(clearInterval(this.skipTimeoutId),this.skipTimeoutId=null);this.preloaderTimeoutId&&(clearInterval(this.preloaderTimeoutId),this.preloaderTimeoutId=null);for(var b in this)this.hasOwnProperty(b)&&(this[b]=null)};b.prototype.startSkipTimer=function(b,a){this.config.skipTimer=b;(this.config.skip||this.config.close)&&this.checkSkipTimer(a)};b.prototype.init=function(){var b=this;this.container.className=
"";this.bigPlay.style.display="none";this.config.phone&&(this.phoneNum.textContent=this.config.phone);this.config.hideControls&&c(this.container,"hide-controls");Utils.isMobile()||c(this.container,"desktop");null==this.config.responsive&&(this.config.responsive=!0);null!=this.config.width&&null!=this.config.height&&(this.config.responsive=!1);this.config.responsive&&c(this.container,"responsive");Utils.isMobile()&&Utils.isHighDensity()&&c(this.container,"two-x");this.config.skip&&this.config.skipText&&
(this.skip.textContent=this.config.skipText);this.config.lastframe&&(this.lastframe=this.config.lastframe);this.config.timelineMode?c(this.timeline,"av-"+this.config.timelineMode):c(this.timeline,"av-bottom");this.playPause.onclick=function(){b.changed();b.player&&b.player.ready&&(b.player.userPaused=b.paused?!1:!0);b.playPauseClick()};this.sound.onclick=function(){b.soundClick()};this.fullscreen.onclick=function(){b.fullscreenClick()};this.share.onclick=function(){b.shareClick()};this.phone.onclick=
function(){b.phoneClick()};this.close.onclick=function(){b.closeClick()};this.skip.onclick=function(){b.skipClick()};this.aniview.onclick=function(){b.aniviewClick()};this.timeline.onclick=function(a){b.timelineClick(a)};this.timeline.onmousemove=function(a){b.timelineMouseMove(a)};this.update();this.intervalId=setInterval(function(){b.update()},this.config.inttimeout||75)};b.prototype.timelineMouseMove=function(b){this.changed();var a=this.getVideo();this.config.timelineChange&&a&&0<a.duration&&
(b=b.pageX-a.offsetLeft,a=this.timeline.getBoundingClientRect(),b=(b-a.left)/a.width,0>b?b=0:1<b&&(b=1),this.setValue(this.timelineMoveto,b))};b.prototype.timelineClick=function(b){this.changed();var a=this.getVideo();if(this.config.timelineChange&&a&&0<a.duration){b=b.pageX-a.offsetLeft;var d=this.timeline.getBoundingClientRect();b=(b-d.left)/d.width;0>b?b=0:1<b&&(b=1);a.currentTime=b*a.duration}};b.prototype.getVideo=function(){var b=this.findVideo(this.videoslot);b||(b=this.findVideo(this.slot));
return b};b.prototype.findVideo=function(b){var a=null,d;for(d in b.childNodes)if(a=b.childNodes[d],a=0<a.duration&&null!=a.canPlayType?a:this.findVideo(a))break;return a};b.prototype.setPlayer=function(b,a,d){this.changed();null==b&&this.player&&"AVcontent"==this.player.id||("undefined"===typeof a&&(a=!0),this.player=b,this.ad=d,this.paused=!1,this.muted=a,this.skipTimerStarted=!1)};b.prototype.getPlayer=function(){return this.player};b.prototype.getDuration=function(){try{return this.vidReady&&
this.player&&this.player.ready?this.player.adDuration:0}catch(p){return 0}};b.prototype.getCurrentTime=function(){try{return this.vidReady&&this.player&&this.player.ready?this.getDuration()-this.player.adRemainingTime:0}catch(p){return 0}};b.prototype.getRemainingTime=function(){try{return this.vidReady&&this.player&&this.player.ready?this.player.adRemainingTime:0}catch(p){return 0}};b.prototype.checkSkipTimer=function(b){var a=this;this.skipTimerStarted=!0;0<this.config.skipTimer&&(this.timer.textContent=
this.config.skipTimer,this.paused||0>=this.getCurrentTime()?this.skipTimeoutId=setTimeout(function(){a.checkSkipTimer(b)},100):(this.config.skipTimer--,0==this.config.skipTimer&&"function"===typeof b&&b(),this.skipTimeoutId=setTimeout(function(){a.checkSkipTimer(b)},1E3)))};b.prototype.aniviewClick=function(){m.AV_player.config.logoclick&&m.open("https://www.aniview.com/?utm_source=av-player")};b.prototype.closeClick=function(){this.changed();var b=m.AV_player.config.closeevent;try{m.AV_player.stopAd=
!0;if("function"===typeof m.AV_FlashOpen.onAdClosed)m.AV_FlashOpen.onAdClosed(!b);!b&&this.player&&this.player.ready&&this.player.pauseAd()}catch(a){}b||null==this.container.parentNode||this.container.parentNode.removeChild(this.container)};b.prototype.skipClick=function(){this.changed();try{if(this.player&&this.player.ready&&(this.player.skipping=!0,m.AV_player.config.onevideoelement||(this.player.adVolume=0),this.player.pauseAd(),this.player.adSkippableState?this.player.skipAd():this.player.stopAd(),
"function"===typeof m.AV_FlashOpen.onAdSkipped))m.AV_FlashOpen.onAdSkipped();this.skipTimerStarted=!1}catch(p){}};b.prototype.phoneClick=function(){m.location.href="tel://"+this.config.phone};b.prototype.shareClick=function(){};b.prototype.playClick=function(){this.changed();try{this.player&&this.player.ready&&(this.player.resumeAd(),this.paused=!1)}catch(p){}};b.prototype.pauseClick=function(){this.changed();try{this.player&&this.player.ready&&(this.player.pauseAd(),this.paused=!0)}catch(p){}};b.prototype.playPauseClick=
function(){this.changed();try{this.player&&this.player.ready&&(this.paused?(this.player.resumeAd(),this.paused=!1):(this.player.pauseAd(),this.paused=!0))}catch(p){}};b.prototype.soundClick=function(){this.changed();try{this.player&&this.player.ready&&(this.muted?(this.ad&&(this.ad.sndEnabled=!0,this.ad.player&&(this.ad.player.sndEnabled=!0)),this.player.adVolume=1,this.player.volume=1,this.player.muted=!1,"function"===typeof this.player.setContentVolume&&this.player.setContentVolume(1),this.muted=
!1):(m.AV_player.config.autosound=!1,this.player.adVolume=0,this.player.volume=0,"function"===typeof this.player.setContentVolume&&this.player.setContentVolume(0),this.muted=!0))}catch(p){}};b.prototype.setValue=function(b,a){0>a?a=0:1<a&&(a=1);b.style.width=100*a+"%"};b.prototype.fullscreenClick=function(){this.changed();if(m.AV_player.config.contentplayer){if(m.AV_player.thePlayer&&"function"===typeof m.AV_player.thePlayer.onFullScreenRequest)m.AV_player.thePlayer.onFullScreenRequest(!this.isFullscreen())}else if(!this.isFullscreen()&&
m.AV_player.thePlayer&&"function"===typeof m.AV_player.thePlayer.resizeAd)m.AV_player.thePlayer.resizeAd(0,0,"fullscreen");else{var b=this.isFullscreen()&&this.isFullscreen().ownerDocument;b.exitFullscreen?b.exitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.webkitExitFullscreen?b.webkitExitFullscreen():b.msExitFullscreen&&b.msExitFullscreen()}};b.prototype.isFullscreen=function(){return this.slotDoc.fullScreenElement||this.slotDoc.mozFullScreenElement||this.slotDoc.webkitFullscreenElement||
this.slotDoc.msFullscreenElement};b.prototype.getBuffer=function(b){return b+.1};b.prototype.controls=function(b){b?t(this.container,"hide-controls"):c(this.container,"hide-controls")};b.prototype.changed=function(){this.guiChanged=!0;this.guiCnt=0};b.prototype.update=function(){var b=this.player&&(0<this.player.duration&&null!=this.player.canPlayType||"Content"==this.player.asid),a=this.getDuration(),d=this.getCurrentTime(),c=this.getRemainingTime();this.vidReady=b||this.player&&this.player.__private__&&
this.player.__private__.player&&this.player.__private__.player.impressionSet;"loaded"!=this.videoslot.className&&0<this.getBuffer(d)&&(this.videoslot.className="loaded");this.paused?(this.endTimer=0,this.playPause.className=1<a&&d>=a||this.player&&this.player.replay?"replay":"play"):this.vidReady&&this.player&&1<a&&0<=c&&(d>=a||this.player.replay)?(this.endTimer++,100<this.endTimer&&(this.playPause.className="replay",this.paused=!0)):this.playPause.className="pause";this.sound.firstChild.className=
this.muted?"off":"on";if(this.isFullscreen())this.fullscreen.className="on","full"!=m.AV_player.config.fsmode&&(this.container.style.position="absolute",this.container.style.left="0px",this.container.style.top="0px",this.container.style.width=screen.width+"px",this.container.style.height=screen.height+"px");else{this.fullscreen.className="off";this.container.style.position="";this.container.style.left="";this.container.style.top="";var g=0,x=0;this.config.responsive?(g=this.container.clientWidth,
x=this.container.clientHeight):(this.config.width&&(g=this.config.width),this.config.height&&(x=this.config.height));10<g/x&&(x=Math.round(g/10));this.container.style.width=g?g+"px":"";this.container.style.height=x?x+"px":""}this.videoslot.style.width=""==this.container.style.width?""+this.container.clientWidth+"px":this.container.style.width;this.videoslot.style.height=""==this.container.style.height?""+this.container.clientHeight+"px":this.container.style.height;g=!1;!l&&(.1<d||this.player&&0<c)?
g=!0:this.player&&"function"===typeof this.player.isAudioReady?g=this.player.isAudioReady():1<d&&(g=!0);this.fullscreen.style.display=this.config.fullscreen?"inline":"none";this.share.style.display=this.config.share?"inline":"none";this.phone.style.display=this.config.phone?"inline":"none";this.sound.style.display=this.config.sound&&g?"inline":"none";this.playPause.style.display=this.config.playPause?"inline":"none";this.aniview.style.display=this.config.logo?"inline":"none";c=0<this.config.skipTimer;
this.skip.style.display=!b&&!c&&this.config.skip&&this.skipTimerStarted?"inline":"none";this.close.style.display=this.config.close?"inline":"none";this.timer.style.display=!b&&c&&(this.config.close||this.config.skip)&&this.skipTimerInitValue!=this.config.skipTimer?"inline":"none";"none"!=this.timer.style.display&&"none"!=this.close.style.display&&(this.timer.style.left=""+(this.close.clientWidth+2)+"px");this.setValue(this.timelineProgress,d/a);this.setValue(this.timelineBuffer,this.getBuffer(d)/
a)};b.prototype.resize=function(b,a){this.config.width=b;this.config.height=a;this.container.style.width=""+b+"px";this.container.style.height=""+a+"px";if(150>a){b=a/150;this.playPause.style.webkitTransform=this.playPause.style.transform="scale("+b+","+b+")";this.sound.style.webkitTransform=this.sound.style.transform="scale("+b+","+b+")";if(a=this.buttons.querySelector("#left"))a.style.left=""+Math.floor(13*b)+"px",a.style.bottom=""+Math.floor(11*b)+"px";if(a=this.buttons.querySelector("#right"))a.style.right=
""+Math.floor(13*b)+"px",a.style.bottom=""+Math.floor(11*b)+"px";this.timeline&&"overlay"==this.config.timelineMode&&(this.timeline.style.bottom=""+Math.floor(50*b)+"px");this.config.skip&&(this.skip.style.bottom=""+Math.floor(60*b)+"px",this.skip.style.height=""+Math.floor(32*b)+"px",this.skip.style.fontSize=""+Math.floor(14*b)+"px",this.skip.style.lineHeight=""+Math.floor(32*b)+"px",this.skip.style.padding="0 0")}else{this.playPause.style.webkitTransform=this.playPause.style.transform="";this.sound.style.webkitTransform=
this.sound.style.transform="";if(a=this.buttons.querySelector("#left"))a.style.left="",a.style.bottom="";if(a=this.buttons.querySelector("#right"))a.style.right="",a.style.bottom="";this.timeline&&"overlay"==this.config.timelineMode&&(this.timeline.style.bottom="");this.config.skip&&(this.skip.style.bottom="",this.skip.style.height="",this.skip.style.fontSize="",this.skip.style.lineHeight="",this.skip.style.padding="")}};b.prototype.showTimeline=function(b){if(b){b="av-"+this.config.timelineMode;
var a="av-hidden"}else a="av-"+this.config.timelineMode,b="av-hidden";t(this.timeline,a);c(this.timeline,b)}})(window);
(function(m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m():"function"===typeof define&&define.amd?define([],m):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).AV_VASTPlayer=m()})(function(){return function c(t,l,b){function p(d,g){if(!l[d]){if(!t[d]){var h="function"==typeof require&&require;if(!g&&h)return h(d,!0);if(a)return a(d,!0);g=Error("Cannot find module '"+d+"'");throw g.code="MODULE_NOT_FOUND",g;}g=l[d]=
{exports:{}};t[d][0].call(g.exports,function(a){var b=t[d][1][a];return p(b?b:a)},g,g.exports,c,t,l,b)}return l[d].exports}for(var a="function"==typeof require&&require,d=0;d<b.length;d++)p(b[d]);return p}({1:[function(c,t,l){t.exports=c("./lib/AV_VASTPlayer")},{"./lib/AV_VASTPlayer":5}],2:[function(c,t,l){function b(a,b,c){b.on(a,function(){for(var b=[],d=arguments.length;d--;)b[d]=arguments[d];c.emit.apply(c,[a].concat(b))})}function p(a,c,g){g.forEach(function(d){0<c.listeners(d).length&&b(d,a,
c)});c.on("newListener",function(d){-1<g.indexOf(d)&&1>c.listeners(d).length&&b(d,a,c)})}function a(a){this.events=a.slice();this.__private__={target:null,source:null}}a.prototype.from=function(a){this.__private__.source=a;this.__private__.target&&p(a,this.__private__.target,this.events);return this};a.prototype.to=function(a){this.__private__.target=a;this.__private__.source&&p(this.__private__.source,a,this.events);return this};t.exports=a},{}],3:[function(c,t,l){function b(b){var d=this;p.call(this,
Math.floor(b.duration||0));this.video=b;[a.PLAYING,a.PAUSE,a.TIMEUPDATE,a.ENDED].forEach(function(c){return b.addEventListener(c,function(){return d.tick(c==a.ENDED)},!1)})}var p=c("./VideoTracker");l=c("util").inherits;var a=c("./enums/HTML_MEDIA_EVENTS");l(b,p);b.prototype._getState=function(){return{playing:!this.video.paused,currentTime:this.video.currentTime}};t.exports=b},{"./VideoTracker":7,"./enums/HTML_MEDIA_EVENTS":8,util:25}],4:[function(c,t,l){function b(a){return a}function p(a,b,d,c,
l){try{(a||[]).forEach(function(a){try{if(2==a.t||3==a.t){var f=document.createElement(2==a.t?"script":"iframe");f.src=a.uri;l&&l.appendChild(f)}else{f=window;if("complete"==d&&"1"==c)try{f=parent}catch(w){}(new f.Image).src=b(a.uri)}}catch(w){}})}catch(r){}}function a(a,d,c){this.pixels=a.reduce(function(a,b){(a[b.event]||(a[b.event]=[])).push({uri:b.uri,t:b.t?b.t:1});return a},{});this.__private__={mapper:d||b,cpm:c}}var d=c("./enums/VPAID_EVENTS");a.prototype.track=function(a){function c(b){if(!q)try{q=
a.adDuration,(!q||0>=q)&&b&&(q=a.adRemainingTime),0>q&&(q=0)}catch(B){q=0}return q}function h(a,d,e){function f(a){return r((d||b)(a))}return function(){e&&!e(arguments)||p(l[a],f,a,this&&this.tgt,this&&this.container)}}function u(a){a=a.replace("[AV_VIEWABILITY]",Utils.getViewabilityPerc(window.AV_player.config.slot));a=a.replace("[AVC_CPM]",f);a=a.replace("[AVC_RANDOM]",Date.now());a=a.replace("[AVC_STK]",Utils.isFloating());return a.replace("[AV_ADDURATION]",c(!0))}var l=this.pixels,r=this.__private__.mapper,
f=""+(this.__private__.cpm||""),w=0;try{w=a.adVolume}catch(C){}var q=0;a.fireType=function(a){h(a,function(a){return a.replace("[AV_VIEWABILITY]",Utils.getViewabilityPerc(window.AV_player.config.slot))})()};a.on(d.AdSkipped,h("skip"));a.on(d.AdStarted,h("creativeView"));a.on(d.AdVolumeChange,h("unmute",null,function(){try{return 0===w&&0<a.adVolume}catch(C){}}));a.on(d.AdVolumeChange,h("mute",null,function(){try{return 0<w&&0===a.adVolume}catch(C){}}));a.once(d.AdImpression,h("impression",function(a){return u(a)},
function(){a.impEvtSent=!0;c();return!0}));a.on(d.AdVideoStart,h("start",null,function(){try{if(a.stickyImpression&&!a.impEvtSent){var b=h("impression");b&&b();a.impEvtSent=!0}}catch(B){}return!0}));a.on(d.AdVideoFirstQuartile,h("firstQuartile",function(a){return u(a)}));a.on(d.AdVideoMidpoint,h("midpoint",function(a){return u(a)}));a.on(d.AdVideoThirdQuartile,h("thirdQuartile",function(a){return u(a)}));a.on(d.AdVideoComplete,h("complete",function(a){return u(a)}));a.on(d.AdClickThru,h("clickThrough",
null,function(a){return a&&3<=a.length&&1==a[2]&&!a[0]?!1:!0}));a.on(d.AdUserAcceptInvitation,h("acceptInvitationLinear"));a.on(d.AdUserMinimize,h("collapse"));a.on(d.AdUserClose,h("closeLinear"));a.on(d.AdPaused,h("pause"));a.on(d.AdPlaying,h("resume"));a.on(d.AdError,h("error",function(a){return a.replace(/\[ERRORCODE\]/g,901)}));a.on(d.AdVolumeChange,function(){try{w=a.adVolume}catch(C){}})};t.exports=a},{"./enums/VPAID_EVENTS":10}],5:[function(c,t,l){function b(){var a={},d=arguments.length,f,
c;for(f=0;f<d;f++){var q=arguments[f]||{};for(c in q){var g=q[c];void 0===a[c]&&(a[c]=g);"object"===typeof g&&(a[c]=b(a[c],g))}}return a}function p(a){return a}function a(){return Error("AV_VASTPlayer not ready.")}function d(b){return function(){var e=this,d=this.__private__.player;return this.ready?d[b].apply(d,arguments).then(function(){return e}):C.reject(a())}}function h(b){return{get:function(){if(!this.ready)throw a();return this.__private__.player[b]},set:function(e){if(!this.ready)throw a();
return this.__private__.player[b]=e}}}function g(a,d,f){var e=this;x.call(this);this.__private__={container:a,config:b(f,{vast:{resolveWrappers:!0,maxRedirects:8,withCredentials:!0},tracking:{mapper:p}}),vast:null,ready:!1,player:null};this.on(w.AdClickThru,function(a,b,f){a=a||e.vast.get("ads[0].creatives[0].videoClicks.clickThrough");f&&a&&!d&&window.open(a)})}var x=c("events").EventEmitter;l=c("util").inherits;var u=c("vastacular").VAST,v=c("./players/JavaScriptVPAID");c("./players/FlashVPAID");
var r=c("./players/HTMLVideo"),f=c("./enums/MIME"),w=c("./enums/VPAID_EVENTS"),q=c("./EventProxy"),C=c("lie"),B=c("./PixelReporter");l(g,x);Object.defineProperties(g.prototype,{container:{get:function(){return this.__private__.container}},config:{get:function(){return this.__private__.config}},vast:{get:function(){return this.__private__.vast}},ready:{get:function(){return this.__private__.ready}},adRemainingTime:h("adRemainingTime"),adDuration:h("adDuration"),adVolume:h("adVolume"),adSkippableState:h("adSkippableState")});
g.prototype.dispatchTrackingPixel=function(a){var b=document.createElement("img");b.src=a+"&cb="+Date.now();b.style.display="none";b.style.width="1";document.body.appendChild(b)};g.prototype.mergeTrackers=function(a,b,d,f,c){function e(a){return a.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"")}f=f?"&cpm="+f:"";c="&d1="+c;var q=Utils.getAdPosition()?"&fv="+Utils.getAdPosition():"",g=Utils.floatPos?"&stk=[AVC_STK]":"";if(b)for(var h=0;h<b.length;h++)"click"==b[h].e&&(b[h].e="clickThrough"),a.push({event:b[h].e,
t:b[h].t?b[h].t:1,uri:b[h].url});if(d.trackers)for(h=0;h<d.trackers.length;h++)"click"==d.trackers[h].e&&(d.trackers[h].e="clickThrough"),a.push({event:d.trackers[h].e,t:d.trackers[h].t?d.trackers[h].t:1,uri:d.trackers[h].url});b="&cb="+Date.now();d.impressionTrackingPixel&&a.push({event:"impression",uri:e(d.impressionTrackingPixel)+"&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+f+c+q+g+b});d.trackingPixel&&(f=e(d.trackingPixel),a.push({event:"clickThrough",uri:f+"click"+c+b}),a.push({event:"firstQuartile",
uri:f+"firstQuartile&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+c+q+g+b}),a.push({event:"midpoint",uri:f+"midpoint&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+c+q+g+b}),a.push({event:"thirdQuartile",uri:f+"thirdQuartile&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+c+q+g+b}),a.push({event:"complete",uri:f+"complete&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+c+q+g+b}),a.push({event:"start",uri:f+"start"+c+q+b}),a.push({event:"pause",uri:f+"pause"+c+q+b}),a.push({event:"resume",uri:f+"resume"+c+q+b}),a.push({event:"mute",
uri:f+"mute"+c+q+b}),a.push({event:"unmute",uri:f+"unmute"+c+q+b}),a.push({event:"close",uri:f+"close"+c+q+b}),a.push({event:"creativeView",uri:f+"creativeView"+c+q+b}),a.push({event:"fullscreen",uri:f+"fullscreen"+c+q+b}),a.push({event:"sec3",uri:f+"sec3&vi=[AV_VIEWABILITY]"+c+q+b}),a.push({event:"sec10",uri:f+"sec10&vi=[AV_VIEWABILITY]"+c+q+b}),d.playerSettings&&a.push({event:"adViImpression",uri:f+"adViImpression&vit="+(d.playerSettings.vit||2)+"&vi=[AV_VIEWABILITY]"+c+q+b}));return a};g.prototype.load=
function(a,b,d,c,g){var e=this,h=this.config.vast,y=this,C=a.fixedUrl||a.url,x="vast";!a.playerSettings||1!=a.playerSettings.nc&&"1"!=a.playerSettings.nc||(h.withCredentials=!1);d=d||[];var l=[];if("undefined"===typeof b||null==b||"undefined"===typeof b.js)b={vpaidPriority:"js",swf:!0,js:!0,html5:!0};a.type=a.type.toLowerCase();"vastxml"==a.type&&(C=a.vastxml);"pl"==a.type&&(C=a.template);var p=b.vpaidPriority;a.vpp&&(1==a.vpp?p="js":2==a.vpp?p="swf":3==a.vpp&&(p="jsomp4"));return u.fetch(C,h,a.clickThroughUrl,
a.type,function(a,b){l="object"===typeof b?b.raw:l},a).then(function(c){var h=function(){var a=c.filter("ads[0].creatives[0].mediaFiles",function(a){return("video/mp4"===a.type||"video/webm"===a.type||"video/3gpp"===a.type||"video/x-ms-wmv"===a.type)&&a.uri&&"rtmp"!=a.uri.substring(0,4)}),d=c.filter("ads[0].creatives[0].mediaFiles",function(a){return(a.type===f.JAVASCRIPT||a.type===f.XJAVASCRIPT||a.type===f.TXTJAVASCRIPT)&&"string"===typeof a.apiFramework&&"VPAID"==a.apiFramework.toUpperCase()}),
q=[];b.nljs&&(q=c.filter("ads[0].creatives[0].ads[0].resources",function(a){return mediaFile.type===f.JAVASCRIPT||mediaFile.type===f.XJAVASCRIPT||mediaFile.type===f.TXTJAVASCRIPT}));if(b.js&&"jsomp4"==p&&0<d.length)return x="vpaid",{player:new v(e.container),mediaFiles:d};if(b.html5&&0<a.length)return{player:new r(e.container),mediaFiles:a};if(b.js&&0<d.length)return x="vpaid",{player:new v(e.container),mediaFiles:d};if(b.nljs&&0<q.length)return q[0].uri=q[0].data,{player:new v(e.container),mediaFiles:q};
throw TypeError("no valid media");}(),C=c.get("ads[0].creatives[0].parameters"),u=[].concat(c.map("ads[0].impressions",function(a){return{event:"impression",uri:a.uri}}),c.map("ads[0].errors",function(a){return{event:"error",uri:a}}),c.get("ads[0].creatives[0].trackingEvents"),c.map("ads[0].creatives[0].videoClicks.clickTrackings",function(a){return{event:"clickThrough",uri:a}}));"s2s"==a.type&&(a.asid=c.get("ads[0].extensions[0].extension[0].tag.data.tags[0].asid"),a.priority=c.get("ads[0].extensions[0].extension[0].tag.data.tags[0].priority"));
var l=c.get("ads[0].extensions[0].extension[0].type"),G="";"aniview"==l&&(G=c.get("ads[0].extensions[0].extension[0].cpm")||"");if("pb"==a.type&&!G)try{var t=c.get("ads[0].extensions");if(t&&t.length&&0<t.length)for(var D=0;D<t.length;D++)if(l=c.get("ads[0].extensions["+D+"].extension[0].type"),G="","aniview"==l){G=c.get("ads[0].extensions["+D+"].extension[0].cpm")||"";break}}catch(N){}G&&(e.bidCpm=G);u=e.mergeTrackers(u,d,a,G,x);l=h.player;h=h.mediaFiles;t=new q(w);l.reporter=new B(u,e.config.tracking.mapper,
G);l.timeouts.loadTimeout=a.loadTimeout||l.timeouts.loadTimeout;u=1==g&&"pl"==a.type&&3==a.platform?1.5:1;l.timeouts.initAdTimeout=a.initAdTimeout*u||a.tagTimeout;l.timeouts.startAdTimeout=a.startAdTimeout*u||a.tagTimeout;l.tgt=g;t.from(l).to(e);e.__private__.vast=c;e.__private__.player=l;e.emit("AdBid",l,h,C,y,a,x);l.dispatchWaterfallApiEvent("bid",l.asid,{vast:c.raw})}).then(function(){e.__private__.ready=!0;e.emit("ready");return e}).catch(function(b){"function"===typeof c&&c("vasterror",a.asid,
{vast:l,message:"object"===typeof b?b.message:""});e.emit("error",b);throw b;})};g.prototype.startAd=d("startAd");g.prototype.stopAd=d("stopAd");g.prototype.pauseAd=d("pauseAd");g.prototype.resumeAd=d("resumeAd");g.prototype.skipAd=d("skipAd");g.prototype.getAdSkippableState=d("getAdSkippableState");g.prototype.seekAd=d("seekAd");t.exports=g},{"./EventProxy":2,"./PixelReporter":4,"./enums/MIME":9,"./enums/VPAID_EVENTS":10,"./players/FlashVPAID":12,"./players/HTMLVideo":13,"./players/JavaScriptVPAID":14,
events:18,lie:26,util:25,vastacular:30}],6:[function(c,t,l){function b(b){b=""+b;var a=b.split(".").map(parseFloat);this.string=b;this.major=a[0];this.minor=a[1];this.patch=a[2];Object.freeze(this)}b.prototype.toString=function(){return this.string};t.exports=b},{}],7:[function(c,t,l){function b(a,b){b.fired[a]||(b.fired[a]=!0,b.emit(a))}function p(b){a.apply(this,arguments);Infinity===b&&(b=30);this.duration=b;this.seconds=Array.apply([],Array(b)).map(function(){return!1});this.fired=[d.AdVideoStart,
d.AdVideoFirstQuartile,d.AdVideoMidpoint,d.AdVideoThirdQuartile,d.AdVideoComplete].reduce(function(a,b){a[b]=!1;return a},{})}var a=c("events").EventEmitter;l=c("util").inherits;var d=c("./enums/VPAID_EVENTS");l(p,a);p.prototype.tick=function(a){function c(a){return h.currentTime>=l[a-1]?!0:!1}var h=this._getState(),u=Math.round(h.currentTime)-1,l=[1,2,3,4].map(function(a){return 10>this.duration||4==a?Math.floor(this.video.duration/4*a*10)/10:Math.floor(this.duration/4*a)},this);-1<u&&(this.seconds[u]=
!0);c(1)&&b(d.AdVideoFirstQuartile,this);c(2)&&b(d.AdVideoMidpoint,this);c(3)&&b(d.AdVideoThirdQuartile,this);(c(4)||a)&&b(d.AdVideoComplete,this)};t.exports=p},{"./enums/VPAID_EVENTS":10,events:18,util:25}],8:[function(c,t,l){c="abort canplay canplaythrough durationchange emptied encrypted ended error interruptbegin interruptend loadeddata loadedmetadata loadstart mozaudioavailable pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");c.forEach(function(b){this[b.toUpperCase()]=
b},c);Object.freeze(c);t.exports=c},{}],9:[function(c,t,l){c={JAVASCRIPT:"application/javascript",XJAVASCRIPT:"application/x-javascript",TXTJAVASCRIPT:"text/javascript",FLASH:"application/x-shockwave-flash"};Object.freeze(c);t.exports=c},{}],10:[function(c,t,l){var b="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdBid AdError".split(" ");
b.forEach(function(c){b[c]=c});Object.freeze(b);t.exports=b},{}],11:[function(c,t,l){var b=c("./window"),p=document.createElement("video"),a=AniviewImagePlayer.createAniviewVideoTag(),d=c("./enums/MIME");l.isDesktop=!/Android|Silk|Mobile|PlayBook/.test(b.navigator.userAgent);l.canPlay=function(c){var g=b.navigator.mimeTypes,h=b.ActiveXObject;switch(c){case d.FLASH:try{return new h("ShockwaveFlash.ShockwaveFlash"),2}catch(u){return g&&g[d.FLASH]?2:0}case d.JAVASCRIPT:case d.XJAVASCRIPT:case d.TXTJAVASCRIPT:return 2;
default:g=a;if(window.Utils&&!window.Utils.isMobile()||window.AV_player&&window.AV_player.config&&window.AV_player.config.nativevideo)g=p;if(g.canPlayType)switch(g.canPlayType(c)){case "probably":return 2;case "maybe":return 1}}return 0};Object.freeze(l)},{"./enums/MIME":9,"./window":17}],12:[function(c,t,l){function b(a,b){}l=c("./VPAID");var p=c("util").inherits;c("lie");c("../uuid");c("querystring");c("../enums/VPAID_EVENTS");c("../VPAIDVersion");c("VPAID_ERRORS");p(b,l);b.prototype.load=function(a,
b,c,g){};b.prototype.start=function(){};t.exports=b},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../uuid":16,"./VPAID":15,lie:26,querystring:23,util:25,VPAID_ERRORS:48}],13:[function(c,t,l){function b(a,b,e){return a.addEventListener(b,e,!1)}function p(a,d,e){return b(a,d,function G(){a.removeEventListener(d,G,!1);return e.apply(this,arguments)})}function a(a,b){function e(){return Error("The <video> has not been loaded.")}return function(){if(!this.video){if(b)return x.reject(e());throw e();
}return a.apply(this,arguments)}}function d(a,b){var e=b.width,d=b.height,c=a.map(function(a){return{mediaFile:a,playability:u(a.type),typePriority:"video/3gpp"===a.type?1:2}}).filter(function(a){return 0<a.playability}).sort(v("-playability","-mediaFile.bitrate"));b=c.map(function(a){return Math.abs(e-(a.mediaFile.width?a.mediaFile.width:300))});(a=c[b.indexOf(Math.min.apply(Math,b))])&&a.mediaFile&&"video/3gpp"===a.mediaFile.type&&(c=c.filter(function(a){return 1<a.typePriority}),b=c.map(function(a){return Math.abs(d-
(a.mediaFile.height?a.mediaFile.height:250))}),(b=c[b.indexOf(Math.min.apply(Math,b))])&&(a=b));return!a||1>a.playability?null:a.mediaFile}function h(a){var b=this;this.container=a;this.video=null;this.dispatchWaterfallApiEvent=function(){};this.timeouts={loadTimeout:2500,initAdTimeout:2E4,startAdTimeout:2E4};this.__private__={hasPlayed:!1};this.clearTimeouts=function(){b.timeouts.startAdTimer&&(clearTimeout(b.timeouts.startAdTimer),b.timeouts.startAdTimer=0);b.timeouts.loadAdTimer&&(clearTimeout(b.timeouts.loadAdTimer),
b.timeouts.loadAdTimer=0)}}l=c("events").EventEmitter;var g=c("util").inherits,x=c("lie"),u=c("../environment").canPlay,v=c("sort-by"),r=c("../enums/VPAID_EVENTS"),f=c("../enums/HTML_MEDIA_EVENTS"),w=c("../HTMLVideoTracker"),q=c("../EventProxy");g(h,l);Object.defineProperties(h.prototype,{adRemainingTime:{get:a(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:a(function(){return this.video.duration})},adVolume:{get:a(function(){return this.video.muted?0:this.video.volume}),
set:a(function(a){this.video.volume=a;this.video.muted=0>=a})},adSkippableState:{get:a(function(){return!0})}});h.prototype.load=function(a,c,e,g,h,u,l,t){var y=this,C=e&&e.vast&&e.vast.get("ads[0].creatives[0].videoClicks.clickThrough"),B=!1;C&&"string"==typeof C&&(C=C.trim(),B=2<C.length);return new x(function(e,c){function g(){if(!y.loaded){y.loaded=!0;var a=new w(l);(new q(r)).from(a).to(y);y.video=l;e(y);y.emit(r.AdLoaded);b(l,f.DURATIONCHANGE,function(){y.emit(r.AdDurationChange)});b(l,f.VOLUMECHANGE,
function(){y.emit(r.AdVolumeChange)})}}Utils.vcmgr.clean(u);var h;Utils.isMobile()&&t&&"string"===typeof t.url&&0<t.url.indexOf("rocket10.adspirit.net")&&(h=!0);var l=u?u:AniviewImagePlayer.createAniviewVideoTag(h);y.video=l;var x=d(a,y.container.getBoundingClientRect());!h&&Utils.isMobile()&&x&&"string"===typeof x.uri&&0<x.uri.indexOf("r.mradx.net")&&(l=u?u:AniviewImagePlayer.createAniviewVideoTag(!0),y.video=l);y.container.style.top="0px";l.asid=y.asid;if(!x)return c(Error("There are no playable <MediaFile>s."));
window.AV_player.config.noinlinevideo||(l.setAttribute("webkit-playsinline",!0),l.setAttribute("playsinline",!0));Utils.isMobile()||u||(l.muted=!0,l.volume=0);l.preload="auto";l.style.display="none";l.style.visibility="hidden";l.style.width="100%";l.style.height="100%";l.style.objectFit="contain";y.loaded=!1;y.timeouts.loadAdTimer=setTimeout(g,y.timeouts.loadTimeout);p(l,f.LOADEDMETADATA,function(){g()});p(l,"encodeerror",function(){y.loaded=!0;var a=l.error;y.emit(r.AdError,r.mediaPlayError);y.clearTimeouts();
c(a)});p(l,"error",function(){y.loaded=!0;var a=l.error,b="";a&&a.message&&(b=a.message);y.emit(r.AdError,b);y.clearTimeouts();c(a)});p(l,f.PLAYING,function(){y.loaded=!0;l.style.visibility="visible";y.__private__.hasPlayed=!0;y.emit(r.AdImpression);y.emit(r.AdVideoStart);y.clearTimeouts()});p(l,f.ENDED,function(){});B&&(h=l,u&&Utils.isiOS()&&(h=document.createElement("div"),h.style.position="absolute",h.style.top="0px",h.style.left="0px",h.style.width="100%",h.style.height="100%",h.style.zIndex=
"1",y.container.appendChild(h)),Utils.isMobile()||(h.style.cursor="pointer"),b(h,"click",function(){y.emit(r.AdClickThru,C,null,!0)}));u&&(u.isContent=!0);y.container.appendChild(l);l.src=x.uri;l.load()})};h.prototype.startAd=a(function(){var a=this,b=this.video;return this.__private__.hasPlayed?x.reject(Error("The ad has already been started.")):new x(function(e,d){p(b,f.PLAYING,function(){e(a);a.emit(r.AdStarted)});b.style.display="block";a.timeouts.startAdTimer=setTimeout(function(){a.emit(r.AdError,
r.mediaPlayError);a.timeouts.startAdTimer=0;a.loaded=!0;d({})},a.timeouts.startAdTimeout);return b.play()})},!0);h.prototype.start=function(){this.startAdCalled=!0;"function"===typeof this.video.startAd&&this.video.startAd();try{this.video.isContent||(this.adVolume=0)}catch(C){}this.startAd()};h.prototype.stopAd=a(function(){this.emit(r.AdStopped);return x.resolve(this)},!0);h.prototype.skipAd=a(function(){this.emit(r.AdSkipped);return x.resolve(this)},!0);h.prototype.pauseAd=a(function(){var a=this,
b=this.video;return this.video.paused?x.resolve(this):new x(function(e){p(b,f.PAUSE,function(){e(a);a.emit(r.AdPaused)});return b.pause()})},!0);h.prototype.resumeAd=a(function(){var a=this,b=this.video;return this.__private__.hasPlayed?this.video.paused?new x(function(e){p(b,f.PLAY,function(){e(a);a.emit(r.AdPlaying)});return b.play()}):x.resolve(this):x.reject(Error("The ad has not been started yet."))},!0);h.prototype.resizeAd=a(function(a,b,e){this.video.style.width=""+a+"px";this.video.width=
a;this.video.style.height=""+b+"px";this.video.height=b},!0);h.prototype.seekAd=a(function(a){this.video.currentTime=a},!0);t.exports=h},{"../EventProxy":2,"../HTMLVideoTracker":3,"../enums/HTML_MEDIA_EVENTS":8,"../enums/VPAID_EVENTS":10,"../environment":11,events:18,lie:26,"sort-by":28,util:25}],14:[function(c,t,l){function b(){p.apply(this,arguments);this.stateError=g.vpaidGeneralError;this.dispatchWaterfallApiEvent=function(){};this.frame=null;this.timeouts={loadTimeout:1E4,initAdTimeout:2E4,startAdTimeout:2E4};
this.subscriptions=[]}l=c("util").inherits;var p=c("./VPAID"),a=c("lie"),d=c("../enums/VPAID_EVENTS");c("../environment");var h=c("../VPAIDVersion"),g=c("VPAID_ERRORS"),x=function(a){function b(b){c[b]=function(){return a[b].apply(a,arguments)}}function d(){a.setAdVolume(0);setTimeout(function(){a.setAdVolume(0);a.startAd();a.setAdVolume(0)},10)}for(var c=this,g=new window.AVEvtMgr,q="handshakeVersion getAdLinear stopAd getAdVolume setAdVolume resizeAd pauseAd resumeAd expandAd getAdExpanded getAdSkippableState collapseAd skipAd getAdWidth getAdHeight getSkippableRemainingTime getAdRemainingTime getAdDuration getAdCompanions getIcons getAdIcons".split(" "),
h=0;h<q.length;h++)b(q[h]);var u=null;this.initAd=function(){u=arguments;setTimeout(function(){g.dispatch("AdLoaded")},10)};this.startAd=function(){u&&(a.subscribe(d,"AdLoaded"),a.initAd.apply(a,u))};this.subscribe=function(b,d,c){"AdLoaded"==d?g.subscribe(b,d,c):a.subscribe(b,d,c)};this.unsubscribe=function(b,c){"AdLoaded"==c?(g.unsubscribe(b,c),a.unsubscribe(d,"AdLoaded")):a.unsubscribe(b,c)}};l(b,p);b.prototype.load=function(b,c,r,f,w,q,C,l){var e=this,y=this.uri=b[0].uri,u=b[0].bitrate;e.trackingPixel=
f;e.tagType=C;var B=0;if(l&&l.playerSettings){if(l.playerSettings.impOn&&l.playerSettings.impOn==d.AdVideoStart)var p=l.playerSettings.impOn;l.playerSettings.vpm&&(B=l.playerSettings.vpm)}return new a(function(a,b){function f(a,b){function d(){!e.sndEnabled&&!c&&!this.muted&&0<this.volume&&(c=!0,this.volume=0,c=!1)}var c=!1;a.volume=0;if(b)for(b=0;b<k.length;b++)if(k[b].el===a)return;k.push({el:a,listener:d,evt:"volumechange"});a.addEventListener("volumechange",d)}function C(a){if("function"===typeof a.querySelectorAll&&
!Utils.isMobile()&&!window.AV_player.config.autosound){a=a.querySelectorAll("video");for(var b=0;b<a.length;b++)f(a[b],!0)}}function G(){n&&(clearInterval(n),n=0)}function t(a){window.AV_player.abt||window.AV_player.config.autosound||(n=setInterval(function(){if(e.sndEnabled)G();else if("function"===typeof a.getElementsByTagName&&!Utils.isMobile())for(var b=a.getElementsByTagName("embed"),d=0;d<b.length;d++)if(b[d]&&"string"===typeof b[d].src&&-1<b[d].src.indexOf("//redir.adap.tv/redir/client/VPAIDLoader.swf"))try{b[d].__adaptv___vpaidloader___set_adVolume(0)}catch(ca){}},
150))}function v(a){a.origAppendChild=a.appendChild;a.appendChild=function(b){if("IFRAME"==b.nodeName&&"string"===typeof b.src&&0==b.src.indexOf("http")&&-1==b.src.indexOf("ads.pubmatic.com")){var e=b.src;e=e.replace("http://","aniph/http___");e=e.replace("https://","aniph/https___");e="https://urlhandler.aniview.com/api/"+e+(-1==e.indexOf("?")?"?":"&")+"urlhandler=;urlhandler";b.src=e}"DIV"==b.nodeName&&v(b);return a.origAppendChild.call(a,b)}}function D(a,b,d,c){function q(a,d){if(b&&b[d]&&b[d].list){for(var f=
c.getHostName(a),q=!1,g=0;g<b[d].list.length;g++)if(-1<f.indexOf(b[d].list[g])){q=!0;break}if(q){if("function"===typeof b[d].callback)try{b[d].callback(a,d,e.asid)}catch(sa){}if(b[d].track)try{var k=encodeURIComponent(a);for(g=0;g<b[d].track.length;g++){var h=b[d].track[g].replace("AVC_BLKURL",k);(new Image).src=h}}catch(sa){}c.writeLog(c.logLevels.defaultLevel,"URL blocked: "+d+":"+a);return!0}if(-1<a.indexOf("/mad_united.js"))return!0}return!1}function g(a){return a&&"SCRIPT"==a.nodeName&&"string"===
typeof a.src?q(a.src.toLowerCase(),"script"):!1}function h(){try{this.contentWindow.cav_fl_set||(this.contentWindow.cav_fl_set=!0,this.contentWindow.Element.prototype.scrollIntoView=function(){Utils.writeLog(Utils.logLevels.debug,"scrollIntoView inner vpaid overwritten "+e.asid)},D(this.contentWindow,b))}catch(la){}}c||(c=Utils);if(b){if(b.script&&b.script.list&&0<b.script.list.length){var y=a.Element.prototype.appendChild,u=a.Element.prototype.insertBefore,r=function(a){try{if(g(a))return null}catch(va){}return y.apply(this,
arguments)},w=function(a,b){try{if(g(a))return null}catch(wa){}return u.apply(this,arguments)};try{a.Element.prototype.appendChild=r,a.Element.prototype.insertBefore=w}catch(la){}}if(b.vast&&b.vast.list&&0<b.vast.list.length){var l=a.XMLHttpRequest.prototype.open;r=function(a,e,d,c,f){try{this.av_bflagged=!1,"string"===typeof e&&q(e,"vast")&&(arguments[1]=b.vast.redirUrl||"https://play.aniview.com/block.txt",this.av_bflagged=!0)}catch(qa){}return l.apply(this,arguments)};var C=a.XMLHttpRequest.prototype.send;
try{a.XMLHttpRequest.prototype.open=r,a.XMLHttpRequest.prototype.send=function(){try{this.av_bflagged&&this.withCredentials&&(this.withCredentials=!1)}catch(la){}return C.apply(this,arguments)}}catch(la){}}if(d)return}if(!d){if(window.AV_player.config.customwndopen){var n=a.open;a.open=function(b){if(arguments&&0<arguments.length&&"string"===typeof arguments[0]){var e="&";-1==arguments[0].indexOf("?")&&(e="?");arguments[0]+=e+"avclickopt=aniview.com"}n.apply(a,arguments)}}var B=a.document.createElement;
a.document.createElement=function(b,e){e=B.call(a.document,b,e);"string"===typeof b&&("VIDEO"!=b.toUpperCase()||Utils.isMobile()||window.AV_player.config.autosound||f(e),"IFRAME"==b.toUpperCase()&&(e.addEventListener("load",h),k.push({el:e,listener:h,evt:"load"})));return e}}}function z(a,b){if(!window.AV_player.abt){var e=window.AV_player.slotWindow;if(b&&e&&!e.AV_startIframeListener)try{var d=document.createElement("script");d.innerText=D.toString();d.innerText=d.innerText.replace(/(\r\n|\n|\r)/gm,
"");d.innerText=d.innerText.replace("function "+D.name,"function AV_startIframeListener");e.document.body.appendChild(d);var c=JSON.parse(JSON.stringify(b));e.AV_startIframeListener(e,c,!0,Utils)}catch(ka){}D(a,b)}}function K(){try{J="pl"!=l.type||1!=l.platform&&3!=l.platform&&7!=l.platform?E.contentWindow.getVPAIDAd():new (window[" AVSpotXSDK  AVImaSDK    AVAolSDK".split(" ")[l.platform]])(E.contentWindow),window.AV_player.config.hideconsole&&"object"===typeof E.contentWindow.console&&(E.contentWindow.console.log=
function(){})}catch(ha){if("function"===typeof this.onerror)this.onerror();return}r.opt2&&(J=new x(J));if(Utils.isMobile()&&-1<y.trim().toLowerCase().indexOf("b.measuread.com/tl.js")&&(E.style.display="none",J=new x(J),Utils.isAndroid())){var q=L.addEventListener;L.addEventListener=function(a,b){if("click"==a&&"function"===typeof b){var e=b.toString().indexOf(".style.background");-1<e&&20>e&&setTimeout(function(){"function"===typeof L.click&&L.click()},10)}q.apply(L,arguments)}}var k=Utils.getSlotSize(L),
w=e.vpaidVersion=new h(J.handshakeVersion("2.0"));clearTimeout(e.timeouts.loadTimer);e.timeouts.loadTimer=0;if(2<w.major)return b(Error("VPAID version "+w+" is not supported."));E.contentWindow.addEventListener("resize",function(){if(!window.AV_player.isFullScreen){var a=Utils.getSlotSize(L);e.resizeAd(a.width,a.height,"normal")}},!1);d.forEach(function(a){var b=function(){try{Utils.writeLog(Utils.logLevels.debug,"JSVpaid event "+a+":"+e.asid);for(var b=Array(arguments.length),c=arguments.length;c--;)b[c]=
arguments[c];if(a==d.AdUserClose)return e.emit.apply(e,[d.AdSkipped].concat(b));if(p){if("AdImpression"==a)return;a==p&&e.emit.apply(e,[d.AdImpression].concat(b))}return e.emit.apply(e,[a].concat(b))}catch(ra){}};e.subscriptions.push({event:a,func:b});return J.subscribe(b,a)});e.once(d.AdLoaded,function(){e.fireTrackingPixel(e.trackingPixel+d.AdLoaded+"&ti="+(Date.now()-e.timeouts.initAdTime),!1,!0,d.AdLoaded,Date.now()-e.timeouts.initAdTime);e.dispatchWaterfallApiEvent(d.AdLoaded,e.asid);e.timeouts.startAdTime=
Date.now();e.frame&&(e.slot.style.width="100%",e.slot.style.height="100%");!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||C(e.slot);E.style.opacity="1";e.api=J;clearTimeout(e.timeouts.initAdTimer);e.timeouts.initAdTimer=0;a(e);if(0==y.trim().indexOf("https://b.measuread.com"))try{e.startAdCalled||(0==window.AV_player.config.autoplay&&(setTimeout(function(){e.startAdCalled||e.pauseAd();e.adVolume=0},10),setTimeout(function(){e.startAdCalled||e.pauseAd()},250),
setTimeout(function(){e.startAdCalled||e.pauseAd()},1E3)),e.pauseAd(),e.adVolume=0)}catch(ha){}});if(r.opt2)try{var n=window.atob("ZnVuY3Rpb24gaW5pdFBhcnNlKCl7dmFyIG9yaWdQYXJzZT13aW5kb3cuSlNPTi5wYXJzZTt3aW5kb3cuSlNPTi5wYXJzZT1mdW5jdGlvbigpe3ZhciByZXNKc29uPW9yaWdQYXJzZS5hcHBseSh3aW5kb3cuSlNPTixhcmd1bWVudHMpO3RyeXtpZihyZXNKc29uJiZyZXNKc29uLnNpdGUmJnJlc0pzb24uc2l0ZS5idHBzKSByZXNKc29uLnNpdGUuYnRwcz1mYWxzZTt9Y2F0Y2goZXhwKXt9OyByZXR1cm4gcmVzSnNvbjt9fQ=="),B=document.createElement("script");B.innerText=
n;e.frame.contentWindow.document.body.appendChild(B);e.frame.contentWindow.initParse()}catch(ha){e.frame.contentWindow.debuggeron=!0}e.once(d.AdError,function(a){e.stateError!=g.noError&&e.fireTrackingPixel(e.trackingPixel+e.stateError,!1,!1,e.stateError);e.dispatchWaterfallApiEvent(e.stateError,e.asid,{msg:a});e.cleanup(Error(a))});e.once(d.AdStarted,function(a){e.adStarted=!0});e.once(d.AdStopped,e.cleanup);w={slot:L,videoSlot:F,videoSlotCanAutoPlay:!0};-1<y.indexOf(".adap.tv")&&window.navigator&&
window.navigator.userAgent.toLowerCase().match(/(ipad|iphone|ipod)/g)&&(w.clickSlot=L);-1<y.indexOf(".adap.tv")&&window.navigator&&window.navigator.userAgent.toLowerCase().match(/(android)/g)&&(w.clickSlot=L,w.slot=null);if(-1<y.indexOf(".videologygroup.com/admanager/sbs/vpaidjs")&&Utils.isMobile()){if("function"===typeof J.setAdVolume){var D=J.setAdVolume;J.setAdVolume=function(a){0==a&&(a=1E-10);D.call(J,a)}}E.style.display="none";E.contentWindow.sbh5api&&"function"===typeof E.contentWindow.sbh5api.validateVideoSlot&&
(E.contentWindow.sbh5api.validateVideoSlot=function(){return!0})}-1<y.indexOf(".stickyadstv.com/mustang")&&(w.slot=null,""!=w.videoSlot.src&&(w.videoSlot.src=""),w.poster=!0,e.once(d.AdImpression,function(a){e.stickyImpression=!0}),F.parentNode.removeChild(F),E.contentWindow.document.body.appendChild(F),Utils.isMobile()&&(w.maxDelta=1E6));-1<y.indexOf("acdn.adnxs.com")&&(Utils.isiOS()&&(w.videoSlot.av_opt_adnxs=!0),E.style.display="none");(U||!Utils.isMobile()&&!window.AV_player.config.autosound||
window.AV_player.config.customwndopen||window.AV_player.config.antihjck)&&z(E.contentWindow,U);!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||"58a5addb28a0612d3529bc5e"==window.AV_player.config.publisherid||window.AV_player.abt||(v(L),e.on(d.AdVideoStart,function(){C(L)}),e.once(d.AdImpression,function(){setTimeout(function(){G();e.stopSRScan()},3E3);C(L)}));window.AV_player.config.autosound||f(F);e.timeouts.initAdTimer=setTimeout(function(){e.stateError=g.noError;
e.fireTrackingPixel(e.trackingPixel+g.vpaidInitAdTimeout,!1,!1,g.vpaidInitAdTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid initAd timeout:"+e.asid);e.dispatchWaterfallApiEvent(g.vpaidInitAdTimeout,e.asid);e.emit(d.AdError,g.vpaidInitAdTimeout)},e.timeouts.initAdTimeout);e.stateError=g.vpaidInitAdError;Utils.writeLog(Utils.logLevels.debug,"JSVpaid command initAd: "+e.asid);e.timeouts.initAdTime=Date.now();e.fireTrackingPixel(e.trackingPixel+"initAd",!0,!1,"initAd");L.parentNode.origAppendChild=
L.parentNode.appendChild;L.parentNode.appendChild=function(a){return a===L?L:L.parentNode.origAppendChild.call(L.parentNode,a)};!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||t(e.slot);Utils.vcmgr.clean(w.videoSlot);e.ima&&(w.imaWindow=window,w.imaLang=window.AV_player.config.imalang,w.imaAutoplay=window.AV_player.config.imaautoplay,w.imaMuted=window.AV_player.config.imamuted,w.imaiOSSkip=window.AV_player.config.imaiosskip,w.imaVpaidMode=window.AV_player.config.imavpaidmode);
window.AV_player.config.usevslot&&window.AV_player.config.videoslot&&(w.videoSlot=window.AV_player.config.videoslot,window.AV_player.config.slot&&(w.slot=window.AV_player.config.slot),window.AV_player.playerSlot&&(window.AV_player.playerSlot.style.display="none"));try{J.initAd(k.width,k.height,"normal",u,{AdParameters:c},w),e.dispatchWaterfallApiEvent("initAd",e.asid)}catch(ha){e.stateError=g.noError,e.fireTrackingPixel(e.trackingPixel+g.vpaidInitAdError,!1,!1,g.vpaidInitAdError),Utils.writeLog(Utils.logLevels.debug,
"JSVpaid initAd exception:"+e.asid),e.dispatchWaterfallApiEvent(g.vpaidInitAdError,e.asid),e.emit(d.AdError,g.vpaidInitAdError)}try{if(r.opt2&&e.frame.contentWindow.topWindowWithAccess&&e.frame.contentWindow.topWindowWithAccess.lkqd&&e.frame.contentWindow.topWindowWithAccess.lkqd.instances&&0<e.frame.contentWindow.topWindowWithAccess.lkqd.instances.length){var W=e.frame.contentWindow.topWindowWithAccess.lkqd.instances;for(k=0;k<W.length;k++)W[k].stop=Date.now()}}catch(ha){}}var J,E=document.createElement("iframe"),
aa=document.createElement("script"),L=w||document.createElement("div"),Y=!1;if(Utils.isMobile()){var N=y.indexOf(".sascdn.com/");-1<N&&20>N&&(Y=!0);N=y.indexOf("//connect.facebook.net");-1<N&&20>N&&(Y=!0);"5b72ebe6073ef476ef19d56a"==l.nasid&&(Y=!0);"string"===typeof l.url&&0<l.url.indexOf("rocket10.adspirit.net")&&(Y=!0)}var F=q||AniviewImagePlayer.createAniviewVideoTag(Y),k=[];e.vids=k;L.style.width="100%";L.style.height="100%";e.slot=L;e.video=F;F.asid=e.asid;Utils.isMobile()||window.AV_player.config.autosound||
(F.muted=!0,F.volume=0);"function"===typeof L.scrollIntoView&&(L.scrollIntoView=function(){},F.scrollIntoView=function(){},E.scrollIntoView=function(){});var n=0;e.stopSRScan=function(){e.srinterval&&(clearInterval(e.srinterval),e.srinterval=0);e.sndInterval&&(clearInterval(e.sndInterval),e.sndInterval=0)};var U=null;window.AV_player.waterfall&&window.AV_player.waterfall.data&&window.AV_player.waterfall.data.block&&(U=window.AV_player.waterfall.data.block);e.cleanup=function(a){if(e.frame)try{for(var d=
0;d<k.length;d++)k[d].el.removeEventListener(k[d].evt,k[d].listener);k=[];E.contentWindow.Element.prototype.scrollIntoView=E.contentWindow.Element.prototype.scrollIntoViewOrig}catch(A){}e.cleanupSubscriptions();e.api=null;e.cleanTimers();G();e.stopSRScan();a&&b(a)};e.cleanupSubscriptions=function(){try{J&&e.subscriptions.forEach(function(a){J.unsubscribe(a.func,a.event)})}catch(M){}e.subscriptions=[]};E.src="about:blank";1==B&&(E.src="javascript:false");E.style.width="100%";E.style.height="100%";
E.style.display="block";E.style.opacity="0";E.style.position="absolute";E.style.top="0px";E.style.border="none";E.scrolling="no";window.AV_player.config.noinlinevideo||(F.setAttribute("webkit-playsinline","true"),F.setAttribute("playsinline","true"));F.style.display="block";F.style.width="100%";F.style.height="100%";F.style.objectFit="contain";F.style.position="absolute";F.style.top="0px";w?E.style.display="none":(e.container.style.top="",e.container.appendChild(L),1==B?e.container.appendChild(F):
L.appendChild(F));!l||"pl"!=l.type||3!=l.platform&&6!=l.platform||(e.ima=!0,E.style.display="none");e.frame=E;Utils.writeLog(Utils.logLevels.debug,"JSVpaid command loadIframe: "+e.asid);4<y.indexOf("//r.mradx.net/")||1==B?e.container.appendChild(E):L.appendChild(E);E.contentWindow.document.open().write('<body onload="window.avCallback();"><style>iframe {border-width: 0;}</style></body>');E.contentWindow.avCallback=function(){aa.src=y;aa.onload=K;aa.onerror=function(){e.fireTrackingPixel(e.trackingPixel+
g.vpaidLoadError,!1,!1,g.vpaidLoadError);Utils.writeLog(Utils.logLevels.debug,"JSVpaid load Error:"+e.asid);e.dispatchWaterfallApiEvent(g.vpaidLoadError,e.asid);e.emit(d.AdError,g.vpaidLoadError)};Utils.writeLog(Utils.logLevels.debug,"JSVpaid command loadScript: "+e.asid);E.contentWindow.Element.prototype.scrollIntoViewOrig=E.contentWindow.Element.prototype.scrollIntoView;E.contentWindow.Element.prototype.scrollIntoView=function(){Utils.writeLog(Utils.logLevels.debug,"scrollIntoView overwritten "+
e.asid)};1==B&&E.contentWindow.document.body.appendChild(L);"pl"!=l.type||1!=l.platform&&3!=l.platform&&7!=l.platform?E.contentWindow.document.body.appendChild(aa):setTimeout(K,10);E.contentWindow.document.body.style.margin="0"};E.contentWindow.document.close();var S=0;E.contentDocument.body.addEventListener("click",function(){if(2!=S){S=1;Utils.writeLog(Utils.logLevels.debug,"Iframe clicked:"+e.asid);var a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!0);F.dispatchEvent(a)}});E.contentWindow.addEventListener("click",
function(){if(1!=S){S=2;Utils.writeLog(Utils.logLevels.debug,"Iframe clicked:"+e.asid);var a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!0);F.dispatchEvent(a)}});e.timeouts.loadTimer=setTimeout(function(){e.stateError=g.noError;e.fireTrackingPixel(e.trackingPixel+g.vpaidLoadTimeout,!1,!1,g.vpaidLoadTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid load timeout:"+e.asid);e.dispatchWaterfallApiEvent(g.vpaidLoadTimeout,e.asid);e.emit(d.AdError,g.vpaidLoadTimeout)},e.timeouts.loadTimeout)})};
b.prototype.start=function(){var a=this;a.startAdCalled=!0;a.stateError=g.vpaidStartAdError;var b=d.AdImpression;a.stickyImpression&&(b=d.AdVideoStart);a.once(b,function(){a.fireTrackingPixel(a.trackingPixel+d.AdImpression+"&ti="+(Date.now()-a.timeouts.startAdTime),!1,!0,d.AdImpression,Date.now()-a.timeouts.startAdTime);clearTimeout(a.timeouts.startAdTimer);a.timeouts.startAdTimer=0;a.stateError=g.vpaidPlayError;a.sndInterval&&(clearInterval(a.sndInterval),a.sndInterval=0);try{if(a.video&&(a.ima||
""==a.video.src||""==a.video.getAttribute("src"))&&2<a.slot.children.length&&(a.video.style.zIndex="-1",a.frame.style.zIndex="-1"),a.slot){for(var b=a.slot.getElementsByTagName("iframe"),c=0;c<b.length&&b[c];c++){var h=b[c].getAttribute("src");"string"===typeof h&&"<img"==h.substring(0,4)&&(b[c].src="about:blank",b[c].style.display="none")}for(c=0;c<a.vids.length;c++)a.vids[c]&&a.vids[c].el&&"IFRAME"===a.vids[c].el.nodeName&&(h=a.vids[c].el.getAttribute("src"),"string"===typeof h&&"<img"==h.substring(0,
4)&&(a.vids[c].el.src="about:blank",a.vids[c].el.style.display="none"))}}catch(q){}});a.timeouts.startAdTimer=setTimeout(function(){a.stateError=g.noError;a.fireTrackingPixel(a.trackingPixel+g.vpaidStartAdTimeout,!1,!1,g.vpaidStartAdTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid startAd timeout:"+a.asid);a.dispatchWaterfallApiEvent(g.vpaidStartAdTimeout,a.asid);a.stopAd();a.emit(d.AdError,g.vpaidStartAdTimeout)},a.timeouts.startAdTimeout);a.video.addEventListener("encodeerror",function(){"googima"!=
a.tagType&&a.emit(d.AdError,g.mediaPlayError)},!1);Utils.writeLog(Utils.logLevels.debug,"JSVpaid command startAd: "+a.asid);a.timeouts.startAdTime=Date.now();a.fireTrackingPixel(a.trackingPixel+"startAd",!0,!1,"startAd");try{window.AV_player.config.autosound||(a.adVolume=0)}catch(r){}window.AV_player.config.noifsnd&&!Utils.isMobile()&&!window.AV_player.config.autosound&&-1<this.uri.indexOf("streamrail.com")&&!window.AV_player.abt&&(a.srinterval=setInterval(function(){var b;try{a.sndEnabled?a.stopSRScan():
(b=a.api._waterfallManager)&&(b=b._currentIntegrator)&&(b=b.tech)&&(b=b.vpaidHTMLClient)&&(b=b._adUnit)&&(b=b._creative)&&(b=b._waterfallManager)&&(b=b._currentIntegrator)&&(b=b.tech)&&(b=b.vpaidHTMLClient)&&(b=b._adUnit)&&(b=b._creative)&&(b.setAdVolume(0)||0<b.getAdVolume()&&(b.setAdVolume(1E-5)||b.setAdVolume(0)))}catch(f){}},150));Utils.isMobile()||window.AV_player.config.autosound||a.sndEnabled||window.AV_player.config.sndblkmode&&!(4<window.AV_player.config.sndblkmode)||window.AV_player.abt||
(a.sndInterval=setInterval(function(){try{a.sndEnabled?a.stopSRScan():a.adVolume=0}catch(r){}},150));"function"===typeof a.video.startAd&&a.video.startAd();a.adStarted?a.resumeAd():a.startAd();a.dispatchWaterfallApiEvent("startAd",a.asid)};b.prototype.setAdVolumeExt=function(a){this.video.muted=!(0<a)};t.exports=b},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../environment":11,"./VPAID":15,lie:26,util:25,VPAID_ERRORS:48}],15:[function(c,t,l){function b(a,b){return function(){function c(){"function"===
typeof l[a+"Ext"]&&l[a+"Ext"].apply(l,g);return h[a].apply(h,g)}var g=arguments,h=this.api,l=this;if(!b){if(!h)throw Error("Ad has not been loaded.");return c()}return new d(function(a,d){if(!h)return d(Error("Ad has not been loaded."));l.once(b,function(){a(l)});return c()})}}function p(a){this.container=a;this.vpaidVersion=this.api=null;this.fireVpaidEvents=window.AV_player.config.tmf.vpaid}l=c("util").inherits;var a=c("events").EventEmitter,d=c("lie");c=c("../enums/VPAID_EVENTS");l(p,a);Object.defineProperties(p.prototype,
{adLinear:{get:b("getAdLinear")},adWidth:{get:b("getAdWidth")},adHeight:{get:b("getAdHeight")},adExpanded:{get:b("getAdExpanded")},adSkippableState:{get:b("getAdSkippableState")},adRemainingTime:{get:b("getAdRemainingTime")},adDuration:{get:b("getAdDuration")},adVolume:{get:b("getAdVolume"),set:b("setAdVolume")},adCompanions:{get:b("getAdCompanions")},adIcons:{get:b("getAdIcons")}});p.prototype.cleanTimers=function(){this.timeouts.loadTimer&&clearTimeout(this.timeouts.loadTimer);this.timeouts.initAdTimer&&
clearTimeout(this.timeouts.initAdTimer);this.timeouts.startAdTimer&&clearTimeout(this.timeouts.startAdTimer);this.timeouts.startAdTimer=this.timeouts.initAdTimer=this.timeouts.loadTimer=0};p.prototype.load=function(){throw Error("VPAID subclass must implement load() method.");};p.prototype.resizeAd=b("resizeAd",c.AdSizeChange);p.prototype.startAd=b("startAd",c.AdStarted);p.prototype.stopAd=b("stopAd",c.AdStopped);p.prototype.pauseAd=b("pauseAd",c.AdPaused);p.prototype.resumeAd=b("resumeAd",c.AdPlaying);
p.prototype.expandAd=b("expandAd",c.AdExpandedChange);p.prototype.collapseAd=b("collapseAd",c.AdExpandedChange);p.prototype.skipAd=b("skipAd",c.AdSkipped);p.prototype.seekAd=function(a){return!1};p.prototype.fireTrackingPixel=function(a,b,d,c,l){(this.fireVpaidEvents||d)&&50<a.length&&(d="",b&&(d="&vi="+Utils.getViewabilityPerc()),window.AV_player.config.postevt?this.asTrackingInfo&&this.asTrackingInfo.base&&this.asTrackingInfo.params&&(a="",l&&(a="&ti="+l),Utils.bufferTrackingPixel("vpaid",this.asTrackingInfo.base,
this.asTrackingInfo.params+"&e="+c+a+d+"&d1=vpaid",!1)):(new Image).src=a+d+"&d1=vpaid&cb="+Date.now())};t.exports=p},{"../enums/VPAID_EVENTS":10,events:18,lie:26,util:25}],16:[function(c,t,l){t.exports=function(b){for(var c="";b--;)c+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return c}},{}],17:[function(c,t,l){t.exports=window},{}],18:[function(c,t,l){function b(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}
function p(a){return"function"===typeof a}function a(a){return"object"===typeof a&&null!==a}t.exports=b;b.EventEmitter=b;b.prototype._events=void 0;b.prototype._maxListeners=void 0;b.defaultMaxListeners=50;b.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};b.prototype.emit=function(b){var d;this._events||(this._events={});if("error"===b&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){var c=
arguments[1];if(c instanceof Error)throw c;throw TypeError('Uncaught, unspecified "error" event.');}var l=this._events[b];if(void 0===l)return!1;if(p(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:c=arguments.length;var u=Array(c-1);for(d=1;d<c;d++)u[d-1]=arguments[d];l.apply(this,u)}else if(a(l)){c=arguments.length;u=Array(c-1);for(d=1;d<c;d++)u[d-1]=arguments[d];l=l.slice();c=l.length;for(d=
0;d<c;d++)l[d].apply(this,u)}return!0};b.prototype.addListener=function(d,c){if(!p(c))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,p(c.listener)?c.listener:c);this._events[d]?a(this._events[d])?this._events[d].push(c):this._events[d]=[this._events[d],c]:this._events[d]=c;a(this._events[d])&&!this._events[d].warned&&(c=void 0!==this._maxListeners?this._maxListeners:b.defaultMaxListeners)&&0<c&&this._events[d].length>
c&&(this._events[d].warned=!0,console.log("warning: EventEmitter maxListeners passed %d listeners added. ",this._events[d].length));return this};b.prototype.on=b.prototype.addListener;b.prototype.once=function(a,b){function d(){this.removeListener(a,d);c||(c=!0,b.apply(this,arguments))}if(!p(b))throw TypeError("listener must be a function");var c=!1;d.listener=b;this.on(a,d);return this};b.prototype.removeListener=function(b,c){if(!p(c))throw TypeError("listener must be a function");if(!this._events||
!this._events[b])return this;var d=this._events[b];var h=d.length;var l=-1;if(d===c||p(d.listener)&&d.listener===c)delete this._events[b],this._events.removeListener&&this.emit("removeListener",b,c);else if(a(d)){for(;0<h--;)if(d[h]===c||d[h].listener&&d[h].listener===c){l=h;break}if(0>l)return this;1===d.length?(d.length=0,delete this._events[b]):d.splice(l,1);this._events.removeListener&&this.emit("removeListener",b,c)}return this};b.prototype.removeAllListeners=function(a){if(!this._events)return this;
if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}var b=this._events[a];if(p(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};b.prototype.listeners=function(a){return this._events&&this._events[a]?
p(this._events[a])?[this._events[a]]:this._events[a].slice():[]};b.listenerCount=function(a,b){return a._events&&a._events[b]?p(a._events[b])?1:a._events[b].length:0}},{}],19:[function(c,t,l){t.exports="function"===typeof Object.create?function(b,c){b.super_=c;b.prototype=Object.create(c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})}:function(b,c){b.super_=c;var a=function(){};a.prototype=c.prototype;b.prototype=new a;b.prototype.constructor=b}},{}],20:[function(c,t,
l){function b(){g=!1;x.length?h=x.concat(h):u=-1;h.length&&p()}function p(){if(!g){var a=setTimeout(b);g=!0;for(var d=h.length;d;){x=h;for(h=[];++u<d;)x&&x[u].run();u=-1;d=h.length}x=null;g=!1;clearTimeout(a)}}function a(a,b){this.fun=a;this.array=b}function d(){}c=t.exports={};var h=[],g=!1,x,u=-1;c.nextTick=function(b){var d=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)d[c-1]=arguments[c];h.push(new a(b,d));1!==h.length||g||setTimeout(p,0)};a.prototype.run=
function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version="";c.versions={};c.on=d;c.addListener=d;c.once=d;c.off=d;c.removeListener=d;c.removeAllListeners=d;c.emit=d;c.binding=function(a){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(a){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},{}],21:[function(c,t,l){t.exports=function(c,a,d,h){d=d||"=";var g={};if("string"!==typeof c||
0===c.length)return g;var l=/\+/g;c=c.split(a||"&");a=1E3;h&&"number"===typeof h.maxKeys&&(a=h.maxKeys);h=c.length;0<a&&h>a&&(h=a);for(a=0;a<h;++a){var u=c[a].replace(l,"%20"),p=u.indexOf(d);if(0<=p){var r=u.substr(0,p);u=u.substr(p+1)}else r=u,u="";r=decodeURIComponent(r);u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(g,r)?b(g[r])?g[r].push(u):g[r]=[g[r],u]:g[r]=u}return g};var b=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],22:[function(c,
t,l){function b(a,b){if(a.map)return a.map(b);for(var d=[],c=0;c<a.length;c++)d.push(b(a[c],c));return d}var p=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};t.exports=function(c,g,l,u){g=g||"&";l=l||"=";null===c&&(c=void 0);return"object"===typeof c?b(d(c),function(d){var h=encodeURIComponent(p(d))+l;return a(c[d])?b(c[d],function(a){return h+encodeURIComponent(p(a))}).join(g):h+encodeURIComponent(p(c[d]))}).join(g):
u?encodeURIComponent(p(u))+l+encodeURIComponent(p(c)):""};var a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=Object.keys||function(a){var b=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.push(d);return b}},{}],23:[function(c,t,l){l.decode=l.parse=c("./decode");l.encode=l.stringify=c("./encode")},{"./decode":21,"./encode":22}],24:[function(c,t,l){t.exports=function(b){return b&&"object"===typeof b&&"function"===typeof b.copy&&"function"===typeof b.fill&&
"function"===typeof b.readUInt8}},{}],25:[function(c,t,l){(function(b,p){function a(a,b){var e={seen:[],stylize:h};3<=arguments.length&&(e.depth=arguments[2]);4<=arguments.length&&(e.colors=arguments[3]);C(b)?e.showHidden=b:b&&l._extend(e,b);y(e.showHidden)&&(e.showHidden=!1);y(e.depth)&&(e.depth=2);y(e.colors)&&(e.colors=!1);y(e.customInspect)&&(e.customInspect=!0);e.colors&&(e.stylize=d);return x(e,a,e.depth)}function d(b,e){return(e=a.styles[e])?"\u001b["+a.colors[e][0]+"m"+b+"\u001b["+a.colors[e][1]+
"m":b}function h(a,b){return a}function g(a){var b={};a.forEach(function(a,e){b[a]=!0});return b}function x(a,b,d){if(a.customInspect&&b&&J(b.inspect)&&b.inspect!==l.inspect&&(!b.constructor||b.constructor.prototype!==b)){var c=b.inspect(d,a);e(c)||(c=x(a,c,d));return c}if(c=u(a,b))return c;var h=Object.keys(b),y=g(h);a.showHidden&&(h=Object.getOwnPropertyNames(b));if(K(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return t(b);if(0===h.length){if(J(b))return a.stylize("[Function"+(b.name?
": "+b.name:"")+"]","special");if(G(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(z(b))return a.stylize(Date.prototype.toString.call(b),"date");if(K(b))return t(b)}c="";var C=!1,B=["{","}"];q(b)&&(C=!0,B=["[","]"]);J(b)&&(c=" [Function"+(b.name?": "+b.name:"")+"]");G(b)&&(c=" "+RegExp.prototype.toString.call(b));z(b)&&(c=" "+Date.prototype.toUTCString.call(b));K(b)&&(c=" "+t(b));if(0===h.length&&(!C||0==b.length))return B[0]+c+B[1];if(0>d)return G(b)?a.stylize(RegExp.prototype.toString.call(b),
"regexp"):a.stylize("[Object]","special");a.seen.push(b);h=C?r(a,b,d,y,h):h.map(function(e){return f(a,b,d,y,e,C)});a.seen.pop();return w(h,c,B)}function u(a,b){if(y(b))return a.stylize("undefined","undefined");if(e(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.stylize(b,"string");if(B(b))return a.stylize(""+b,"number");if(C(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function t(a){return"["+Error.prototype.toString.call(a)+
"]"}function r(a,b,e,d,c){for(var q=[],g=0,h=b.length;g<h;++g)Object.prototype.hasOwnProperty.call(b,String(g))?q.push(f(a,b,e,d,String(g),!0)):q.push("");c.forEach(function(c){c.match(/^\d+$/)||q.push(f(a,b,e,d,c,!0))});return q}function f(a,b,e,d,c,f){var q,g;b=Object.getOwnPropertyDescriptor(b,c)||{value:b[c]};b.get?g=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(g=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,c)||(q="["+c+"]");g||
(0>a.seen.indexOf(b.value)?(g=null===e?x(a,b.value,null):x(a,b.value,e-1),-1<g.indexOf("\n")&&(g=f?g.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+g.split("\n").map(function(a){return"   "+a}).join("\n"))):g=a.stylize("[Circular]","special"));if(y(q)){if(f&&c.match(/^\d+$/))return g;q=JSON.stringify(""+c);q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.substr(1,q.length-2),q=a.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=a.stylize(q,
"string"))}return q+": "+g}function w(a,b,e){var d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?e[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+e[1]:e[0]+b+" "+a.join(", ")+" "+e[1]}function q(a){return Array.isArray(a)}function C(a){return"boolean"===typeof a}function B(a){return"number"===typeof a}function e(a){return"string"===typeof a}function y(a){return void 0===a}function G(a){return D(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}
function D(a){return"object"===typeof a&&null!==a}function z(a){return D(a)&&"[object Date]"===Object.prototype.toString.call(a)}function K(a){return D(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function J(a){return"function"===typeof a}function R(a){return 10>a?"0"+a.toString(10):a.toString(10)}function ea(){var a=new Date,b=[R(a.getHours()),R(a.getMinutes()),R(a.getSeconds())].join(":");return[a.getDate(),ia[a.getMonth()],b].join(" ")}var I=/%[sdj%]/g;l.format=
function(b){if(!e(b)){for(var d=[],c=0;c<arguments.length;c++)d.push(a(arguments[c]));return d.join(" ")}c=1;var f=arguments,q=f.length;d=String(b).replace(I,function(a){if("%%"===a)return"%";if(c>=q)return a;switch(a){case "%s":return String(f[c++]);case "%d":return Number(f[c++]);case "%j":try{return JSON.stringify(f[c++])}catch(N){return"[Circular]"}default:return a}});for(var g=f[c];c<q;g=f[++c])d=null!==g&&D(g)?d+(" "+a(g)):d+(" "+g);return d};l.deprecate=function(a,e){if(y(p.process))return function(){return l.deprecate(a,
e).apply(this,arguments)};if(!0===b.noDeprecation)return a;var d=!1;return function(){if(!d){if(b.throwDeprecation)throw Error(e);b.traceDeprecation?console.trace(e):console.error(e);d=!0}return a.apply(this,arguments)}};var X={},Q;l.debuglog=function(a){y(Q)&&(Q=b.env.NODE_DEBUG||"");a=a.toUpperCase();if(!X[a])if((new RegExp("\\b"+a+"\\b","i")).test(Q)){var e=b.pid;X[a]=function(){var b=l.format.apply(l,arguments);console.error("%s %d: %s",a,e,b)}}else X[a]=function(){};return X[a]};l.inspect=a;
a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};l.isArray=q;l.isBoolean=C;l.isNull=function(a){return null===a};l.isNullOrUndefined=function(a){return null==a};l.isNumber=B;l.isString=e;l.isSymbol=function(a){return"symbol"===
typeof a};l.isUndefined=y;l.isRegExp=G;l.isObject=D;l.isDate=z;l.isError=K;l.isFunction=J;l.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};l.isBuffer=c("./support/isBuffer");var ia="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");l.log=function(){console.log("%s - %s",ea(),l.format.apply(l,arguments))};l.inherits=c("inherits");l._extend=function(a,b){if(!b||!D(b))return a;for(var e=Object.keys(b),
d=e.length;d--;)a[e[d]]=b[e[d]];return a}}).call(this,c("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":24,_process:20,inherits:19}],26:[function(c,t,l){function b(){}function p(a){if("function"!==typeof a)throw new TypeError("resolver must be a function");this.state=w;this.queue=[];this.outcome=void 0;a!==b&&g(this,a)}function a(a,b,d){this.promise=a;"function"===typeof b&&(this.onFulfilled=b,this.callFulfilled=
this.otherCallFulfilled);"function"===typeof d&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function d(a,b,d){u(function(){try{var e=b(d)}catch(y){return v.reject(a,y)}e===a?v.reject(a,new TypeError("Cannot resolve promise with itself")):v.resolve(a,e)})}function h(a){var b=a&&a.then;if(a&&"object"===typeof a&&"function"===typeof b)return function(){b.apply(a,arguments)}}function g(a,b){function d(b){c||(c=!0,v.reject(a,b))}function e(b){c||(c=!0,v.resolve(a,b))}var c=!1,f=x(function(){b(e,
d)});"error"===f.status&&d(f.value)}function x(a,b){var d={};try{d.value=a(b),d.status="success"}catch(e){d.status="error",d.value=e}return d}var u=c("immediate"),v={},r=["REJECTED"],f=["FULFILLED"],w=["PENDING"];t.exports=l=p;p.prototype["catch"]=function(a){return this.then(null,a)};p.prototype.then=function(c,g){if("function"!==typeof c&&this.state===f||"function"!==typeof g&&this.state===r)return this;var q=new this.constructor(b);this.state!==w?d(q,this.state===f?c:g,this.outcome):this.queue.push(new a(q,
c,g));return q};a.prototype.callFulfilled=function(a){v.resolve(this.promise,a)};a.prototype.otherCallFulfilled=function(a){d(this.promise,this.onFulfilled,a)};a.prototype.callRejected=function(a){v.reject(this.promise,a)};a.prototype.otherCallRejected=function(a){d(this.promise,this.onRejected,a)};v.resolve=function(a,b){var d=x(h,b);if("error"===d.status)return v.reject(a,d.value);if(d=d.value)g(a,d);else{a.state=f;a.outcome=b;d=-1;for(var e=a.queue.length;++d<e;)a.queue[d].callFulfilled(b)}return a};
v.reject=function(a,b){a.state=r;a.outcome=b;for(var d=-1,e=a.queue.length;++d<e;)a.queue[d].callRejected(b);return a};l.resolve=function(a){return a instanceof this?a:v.resolve(new this(b),a)};l.reject=function(a){var d=new this(b);return v.reject(d,a)};l.all=function(a){function d(a,b){c.resolve(a).then(function(a){g[b]=a;++q!==e||f||(f=!0,v.resolve(l,g))},function(a){f||(f=!0,v.reject(l,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));
var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=Array(e),q=0,h=-1,l=new this(b);++h<e;)d(a[h],h);return l};l.race=function(a){function d(a){c.resolve(a).then(function(a){f||(f=!0,v.resolve(q,a))},function(a){f||(f=!0,v.reject(q,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,q=new this(b);++g<e;)d(a[g]);return q}},{immediate:27}],27:[function(c,
t,l){(function(b){function c(){u=!0;for(var a,b,d=v.length;d;){b=v;v=[];for(a=-1;++a<d;)b[a]();d=v.length}u=!1}var a=b.MutationObserver||b.WebKitMutationObserver;if(a){var d=0;a=new a(c);var h=b.document.createTextNode("");a.observe(h,{characterData:!0});var g=function(){h.data=d=++d%2}}else if(b.setImmediate||"undefined"===typeof b.MessageChannel)g="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var a=b.document.createElement("script");a.onreadystatechange=function(){c();
a.onreadystatechange=null;a.parentNode.removeChild(a);a=null};b.document.documentElement.appendChild(a)}:function(){setTimeout(c,0)};else{var l=new b.MessageChannel;l.port1.onmessage=c;g=function(){l.port2.postMessage(0)}}var u,v=[];t.exports=function(a){1!==v.push(a)||u||g()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(c,t,l){var b=c("object-path");var p=function(a){var d=1;"-"===a[0]&&(d=-1,a=a.substr(1));
return function(c,g){var h;b.get(c,a)<b.get(g,a)&&(h=-1);b.get(c,a)>b.get(g,a)&&(h=1);b.get(c,a)===b.get(g,a)&&(h=0);return h*d}};t.exports=function(){var a=arguments;return function(b,c){for(var d=a.length,h=0,l=0;0===h&&l<d;)h=p(a[l])(b,c),l++;return h}}},{"object-path":29}],29:[function(c,t,l){(function(b,c){"object"===typeof t&&"object"===typeof t.exports?t.exports=c():b.objectPath=c()})(this,function(){function b(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(t.call(a,b))return!1;
return!0}function c(a){return"number"===typeof a||"[object Number]"===u.call(a)}function a(a){return"string"===typeof a||"[object String]"===u.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===u.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function g(d,l,q,C){c(l)&&(l=[l]);if(b(l))return d;if(a(l))return g(d,l.split("."),q,C);var f=h(l[0]);if(1===l.length)return l=d[f],void 0!==l&&C||(d[f]=q),l;void 0===d[f]&&(c(f)?d[f]=[]:d[f]=
{});return g(d[f],l.slice(1),q,C)}function l(f,g){c(g)&&(g=[g]);if(!b(f)){if(b(g))return f;if(a(g))return l(f,g.split("."));var q=h(g[0]),w=f[q];if(1===g.length)void 0!==w&&(d(f)?f.splice(q,1):delete f[q]);else if(void 0!==f[q])return l(f[q],g.slice(1));return f}}var u=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r={ensureExists:function(a,b,d){return g(a,b,d,!0)},set:function(a,b,d,c){return g(a,b,d,c)},insert:function(a,b,c,g){var f=r.get(a,b);g=~~g;d(f)||(f=[],r.set(a,b,f));f.splice(g,
0,c)},empty:function(f,g){if(b(g))return f;if(!b(f)){var q,h;if(!(q=r.get(f,g)))return f;if(a(q))return r.set(f,g,"");if("boolean"===typeof q||"[object Boolean]"===u.call(q))return r.set(f,g,!1);if(c(q))return r.set(f,g,0);if(d(q))q.length=0;else if("object"===typeof q&&"[object Object]"===u.call(q))for(h in q)t.call(q,h)&&delete q[h];else return r.set(f,g,null)}},push:function(a,b){var c=r.get(a,b);d(c)||(c=[],r.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,
b,d){for(var c,f=0,e=b.length;f<e;f++)if(void 0!==(c=r.get(a,b[f])))return c;return d},get:function(d,g,q){c(g)&&(g=[g]);if(b(g))return d;if(b(d))return q;if(a(g))return r.get(d,g.split("."),q);var f=h(g[0]);return 1===g.length?void 0===d[f]?q:d[f]:r.get(d[f],g.slice(1),q)},del:function(a,b){return l(a,b)}};return r})},{}],30:[function(c,t,l){l.VAST=c("./lib/VAST")},{"./lib/VAST":31}],31:[function(c,t,l){function b(){}function p(a){h(a,this,!0);this.raw=[];this.ads.forEach(function(a){g({system:{version:null},
errors:[]},a);a.creatives.forEach(function(a){g({id:null,sequence:null,adID:null},a);w[a.type](a)});f[a.type](a)});this.__private__={wrappers:[],inlines:[]}}var a=c("lie"),d=c("superagent"),h=c("./utils/copy"),g=c("./utils/defaults"),x=c("./utils/extend"),u=c("./utils/nodeify_promise"),v=Array.prototype.push,r=c("./xml_from_vast"),f={inline:function(a){g({description:null,survey:null},a)},wrapper:function(){}},w={linear:function(a){g({trackingEvents:[],parameters:null,videoClicks:null},a);(a.mediaFiles||
[]).forEach(function(a){g({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},a)})},companions:function(a){a.companions.forEach(function(a){g({expandedWidth:null,expandedHeight:null,apiFramework:null,trackingEvents:[],clickThrough:null,altText:null,parameters:null},a)})},nonLinear:function(a){g({trackingEvents:[]},a);a.ads.forEach(function(a){g({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,apiFramework:null,
clickThrough:null,parameters:null},a)})}};Object.defineProperties(p.prototype,{wrappers:{get:function(){var a=this.__private__.wrappers;a.length=0;v.apply(a,this.filter("ads",function(a){return"wrapper"===a.type}));return a}},inlines:{get:function(){var a=this.__private__.inlines;a.length=0;v.apply(a,this.filter("ads",function(a){return"inline"===a.type}));return a}}});p.prototype.get=function(a){return((a||"").match(/[^\[\]\.]+/g)||[]).reduce(function(a,b){return(a||void 0)&&a[b]},this)};p.prototype.set=
function(a,b){function d(a,b){switch(a.input.charAt(b)){case ".":return Object;case "[":return Array;case "]":return d(a,b+1);default:return null}}var e=function(){for(var b=/[^\[\]\.]+/g,e=[],c;c=b.exec(a);)e.push({token:c[0],type:d(c,c.index+c[0].length)});return e}(),c=e.pop();e=e.reduce(function(a,b){return a[b.token]||(a[b.token]=new b.type)},this);if(!a)throw Error("prop must be specified.");return e[c.token]=b};p.prototype.map=function(a,b){a=this.get(a)||[];var d=a.length,e=[];if(!(a instanceof
Array))return e;for(var c=0;c<d;c++)e.push(b.call(this,a[c],c,a));return e};p.prototype.filter=function(a,b){a=this.get(a)||[];var d=a.length,e=[];if(!(a instanceof Array))return e;for(var c=0;c<d;c++)b.call(this,a[c],c,a)&&e.push(a[c]);return e};p.prototype.find=function(a,b){a=this.get(a)||[];var d=a.length;if(a instanceof Array)for(var e=0;e<d;e++)if(b.call(this,a[e],e,a))return a[e]};p.prototype.toPOJO=function(){var a=JSON.parse(JSON.stringify(this));delete a.__private__;return a};p.prototype.copy=
function(){return new this.constructor(this.toPOJO())};p.prototype.resolveWrappers=function(b,c){function f(a,b){function e(a){return function(b){return b.type===a}}var d=function(a){return{linear:a.filter(e("linear")),companions:a.filter(e("companions")),nonLinear:a.filter(e("nonLinear"))}}(a.creatives);g(a.impressions,b.impressions);g(a.errors,b.errors);g(a.extensions,b.extensions);b.creatives.forEach(function(a){g(d[a.type].shift()||{},a)});v.apply(b.creatives,"wrapper"!==b.type?[]:["linear","companions",
"nonLinear"].reduce(function(a,b){return a.concat(d[b])},[]));return b}var e=isNaN(b)?Infinity:b,q="function"===typeof b?b:c,h=this.constructor,l=this,w=this;return 0===e?a.reject(Error("Too many redirects were made.")):u(a.all(this.map("wrappers",function(b){return a.resolve(d.get(b.vastAdTagURI)).then(function(a){w.raw.push(a.text);return{wrapper:b,response:h.pojoFromXML(a.text).ads}})})).then(function(a){var b=a.map(function(a){return a.wrapper}),e=a.map(function(a){return a.response});a=new h(x(l.toPOJO(),
{ads:l.map("ads",function(a){var d=b.indexOf(a),c=b[d];return(d=e[d])?d.map(f.bind(null,c)):[a]}).reduce(function(a,b){return a.concat(b)})}));a.raw=l.raw;return a}).then(function(a){return 0<a.get("wrappers.length")?a.resolveWrappers(e-1,q):a}),function(a,b){b||(b=w);q(a,b)})};p.prototype.toXML=function(){var a=this.validate();if(!a.valid)throw Error("VAST is invalid: "+a.reasons.join(", "));return r(this)};p.prototype.validate=function(){function a(a){e.get(a)||f.push(a+" is required")}function d(a){0<
e.get(a+".length")||f.push(a+" must contain at least one value")}function c(b,e){e.exists.map(b).forEach(a);e.atLeastOne.map(b).forEach(d)}var e=this,f=[],g={inline:function(a){var d={linear:function(a){c(a,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(a){e.get(a("companions")).forEach(function(b,e){c(function(b){return a("companions["+e+"]."+b)},{exists:[],atLeastOne:["resources"]})})},nonLinear:function(a){e.get(a("ads")).forEach(function(b,e){c(function(b){return a("ads["+
e+"]."+b)},{exists:[],atLeastOne:["resources"]})})}};c(a,{exists:["title"],atLeastOne:["creatives"]});e.get(a("creatives")).forEach(function(e,f){function g(b){return a("creatives["+f+"]."+b)}c(g,{exists:["type"],atLeastOne:[]});(d[e.type]||b)(g)})},wrapper:function(a){c(a,{exists:["vastAdTagURI"],atLeastOne:[]})}};c(function(a){return a},{exists:[],atLeastOne:["ads"]});this.get("ads").forEach(function(a,e){function d(a){return"ads["+e+"]."+a}c(d,{exists:["type","system.name"],atLeastOne:["impressions"]});
(g[a.type]||b)(d)});return{valid:0===f.length,reasons:0===f.length?null:f}};p.pojoFromXML=c("./pojo_from_xml");p.fetch=function(b,c,f,e,g,h){var q="object"===typeof c?c||{}:{},l=0;h&&h.playerSettings&&(h.playerSettings.cbtic=h.playerSettings.btic||0,l=h.playerSettings.bti||0);var y=this;if("video"==e||"vastxml"==e||"pl"==e)return c="","video"==e?c='<VAST version="2.0"><Ad id="aniview"><InLine><AdSystem>aniview</AdSystem><AdTitle>aniview</AdTitle><Creatives><Creative><Linear><Duration></Duration><VideoClicks><ClickThrough id="aniview"><![CDATA['+
f.trim()+']]\x3e</ClickThrough></VideoClicks><MediaFiles><MediaFile height="360" width="480" bitrate="527" type="video/mp4" delivery="progressive"><![CDATA['+b+"]]\x3e</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>":"pl"==e?(c=window.AV_player.config.basejsurl+"sdk/"+h.platform+".js",c='<VAST version="2.0"><Ad id="aniview"><InLine><AdSystem>aniview</AdSystem><AdTitle>aniview</AdTitle><Creatives><Creative><Linear><Duration></Duration><AdParameters><![CDATA['+decodeURIComponent(b)+
']]\x3e</AdParameters><MediaFiles><MediaFile height="360" width="480" type="application/javascript" apiFramework="VPAID"><![CDATA['+c+"]]\x3e</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>"):c=b,b=new y(y.pojoFromXML(c)),b.raw.push(c),q.resolveWrappers?b.resolveWrappers(q.maxRedirects,g):b;if("pb"==e)return b=d.prebid(function(b){try{var e=new AV_PrebidBase(h.platform);if(e.av_async){var c=!1;e.av.getRequest(h.template,function(a){if(!c){var d=(a=e.av.getVastResponse("",
a))&&a.vast?a.vast:"<VAST/>";a&&0<a.cpm&&h.playerSettings&&(h.playerSettings.cbtic=l*a.cpm);b(d);c=!0}});setTimeout(function(){c||(b("<VAST/>"),c=!0)},3E3)}else{var f=e.av.getRequest(h.template);"object"==typeof f&&"function"===typeof f.push&&0<f.length&&(f=f[0]);if(!f||"string"!==typeof f.url||6>f.url.trim().length)throw"prebid error "+h.platform;var y=f.url;if("GET"===f.method){f.avParams&&(y=y+"?"+f.avParams);var w=d.get(y).set(q.headers||{});f.options&&!1===f.options.withCredentials&&(w._withCredentials=
!1)}else w=d.post(y,f.data).set("Content-Type","text/plain"),f.requestContentType&&(w.unset("Content-Type"),w.set({"Content-Type":"text/plain"}));return u(a.resolve(w).then(function(a){a=e.av.getVastResponse(a.text,f);b(a&&a.vast?a.vast:"<VAST/>");Utils.firePrebidPixels(e.av.getUserSyncs())}).catch(function(){b("<VAST/>");Utils.firePrebidPixels(e.av.getUserSyncs())}),g)}}catch(ia){b("<VAST/>")}},function(){}),u(a.resolve(b).then(function(a){var b=new y(y.pojoFromXML(a.text,e));b.raw.push(a.text);
return q.resolveWrappers?b.resolveWrappers(q.maxRedirects,g):b}),g);b=d.get(b).set(q.headers||{});"s2s"==e&&b.timeout(1600);c.withCredentials||(b._withCredentials=!1);return u(a.resolve(b).then(function(a){var b=new y(y.pojoFromXML(a.text,e));b.raw.push(a.text);return q.resolveWrappers?b.resolveWrappers(q.maxRedirects,g):b}),g)};t.exports=p},{"./pojo_from_xml":32,"./utils/copy":34,"./utils/defaults":35,"./utils/extend":36,"./utils/nodeify_promise":37,"./xml_from_vast":44,lie:26,superagent:45}],32:[function(c,
t,l){function b(a){return a[0]||{attributes:{}}}function p(a){return a.find("StaticResource,IFrameResource,HTMLResource").map(function(a){return{type:a.tag.replace(/Resource$/,"").toLowerCase(),creativeType:a.attributes.creativeType,data:a.value}})}var a=c("./utils/parse_xml"),d=c("./utils/timestamp_to_seconds"),h=c("./utils/string_to_boolean"),g=c("./utils/extend"),x=c("./utils/trim_object"),u=c("./utils/numberify"),v={linear:function(a){var c=b(a.find("Duration")),f=a.find("Tracking"),g=b(a.find("AdParameters")),
l=a.find("VideoClicks")[0];a=a.find("MediaFile");return{type:"linear",duration:d(c.value)||void 0,trackingEvents:f.map(function(a){return{event:a.attributes.event,uri:a.value}}),parameters:g.value,videoClicks:l&&function(){var a=b(l.find("ClickThrough")),d=l.find("ClickTracking"),c=l.find("CustomClick");return{clickThrough:a.value,clickTrackings:d.map(function(a){return a.value}),customClicks:c.map(function(a){return{id:a.attributes.id,uri:a.value}})}}(),mediaFiles:a.map(function(a){var b=a.attributes;
return{id:b.id,delivery:b.delivery,type:b.type,uri:a.value,bitrate:u(b.bitrate),width:u(b.width),height:u(b.height),scalable:h(b.scalable),maintainAspectRatio:h(b.maintainAspectRatio),apiFramework:b.apiFramework}})}},companions:function(a){return{type:"companions",companions:a.find("Companion").map(function(a){var d=a.find("Tracking"),c=b(a.find("CompanionClickThrough")),f=b(a.find("AltText")),e=b(a.find("AdParameters"));return{id:a.attributes.id,width:u(a.attributes.width),height:u(a.attributes.height),
expandedWidth:u(a.attributes.expandedWidth),expandedHeight:u(a.attributes.expandedHeight),apiFramework:a.attributes.apiFramework,resources:p(a),trackingEvents:d.map(function(a){return{event:a.attributes.event,uri:a.value}}),clickThrough:c.value,altText:f.value,parameters:e.value}})}},nonLinear:function(a){var c=a.find("NonLinear");a=a.find("Tracking");return{type:"nonLinear",ads:c.map(function(a){var c=b(a.find("NonLinearClickThrough")),f=b(a.find("AdParameters"));return{id:a.attributes.id,width:u(a.attributes.width),
height:u(a.attributes.height),expandedWidth:u(a.attributes.expandedWidth),expandedHeight:u(a.attributes.expandedHeight),scalable:h(a.attributes.scalable),maintainAspectRatio:h(a.attributes.maintainAspectRatio),minSuggestedDuration:d(a.attributes.minSuggestedDuration)||void 0,apiFramework:a.attributes.apiFramework,resources:p(a),clickThrough:c.value,parameters:f.value}}),trackingEvents:a.map(function(a){return{event:a.attributes.event,uri:a.value}})}}},r={inline:function(a){var d=b(a.find("AdTitle")),
c=b(a.find("Description"));a=b(a.find("Survey"));return{type:"inline",title:d.value,description:c.value,survey:a.value}},wrapper:function(a){return{type:"wrapper",vastAdTagURI:b(a.find("VASTAdTagURI")).value}}};t.exports=function(d,c){d=a(d,c);return x({version:b(d("VAST")).attributes.version,ads:d("Ad").map(function(a){var d=b(a.find("Wrapper,InLine")).tag.toLowerCase(),c=b(a.find("AdSystem")),e=a.find("Error"),f=a.find("Impression"),h=a.find("Creative"),q=a.find("Extensions");return g({id:a.attributes.id,
system:{name:c.value,version:c.attributes.version},errors:e.map(function(a){return a.value}),impressions:f.map(function(a){return{uri:a.value,id:a.attributes.id}}),creatives:h.map(function(a){var e=function(){switch(b(a.find("Linear,CompanionAds,NonLinearAds")).tag){case "Linear":return"linear";case "CompanionAds":return"companions";case "NonLinearAds":return"nonLinear";default:return null}}();if(null!=e)return g({id:a.attributes.id,sequence:u(a.attributes.sequence),adID:a.attributes.AdID},v[e](a))}),
extensions:q.map(function(a){try{return{extension:a.children().map(function(a){if("aniview"==a.attributes.type){var b={type:a.attributes.type};if("CPM"!=a.children()[0].tag)try{b.tag=JSON.parse(a.children()[0].value)}catch(R){}else b.cpm=a.children()[0].value;return b}})}}catch(K){}return null})},r[d](a))})},!0)}},{"./utils/extend":36,"./utils/numberify":38,"./utils/parse_xml":39,"./utils/string_to_boolean":41,"./utils/timestamp_to_seconds":42,"./utils/trim_object":43}],33:[function(c,t,l){function b(a){return null!==
a&&void 0!==a}function p(a){return void 0!==a?String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function a(a){for(var b="";a--;)b+=" ";return b}function d(a){return(void 0!==a?function(a){for(var b=[],d=/]]\x3e/g,c=0,g,h;g=d.exec(a);)h=g.index+2,b.push(g.input.substring(c,h)),c=h;b.push(a.substring(c,a.length));return b}(String(a)):[""]).reduce(function(a,b){return a+"<![CDATA["+b+"]]\x3e"},"")}function h(a){return a.cdata?d(a.value):
p(a.value)}function g(d,c,l){var r=d.tag,f=d.attributes||{},w=Object.keys(f),q=d.value,u=0<(d.children||[]).length;w=w.every(function(a){return b(f[a])})&&0<w.length;q=b(q)||u||w;w=a(c);var B="<"+r+Object.keys(f).reduce(function(a,d){return l&&!b(f[d])?a:a+" "+d+'="'+p(f[d])+'"'},"")+">";r="</"+r+">";return!l||q||d.required?u?[w+B].concat(d.children.reduce(function(a,b){return a.concat(g(b,c+4,l))},[]),[w+r]):[w+B+h(d)+r]:[]}t.exports=function(a,b){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(g(a,
0,b)).join("\n")}},{}],34:[function(c,t,l){function b(b,d,c){return Object.keys(b).reduce(function(d,g){d[g]=c?a(b[g],null,!0):b[g];return d},d||{})}function p(b,c,l){c=c||[];d.apply(c,l?b.map(function(b){return a(b,null,!0)}):b);return c}function a(a,d,c){var g=("object"===typeof d||null)&&d;d="boolean"===typeof d?d:c;return Object(a)!==a?a:a instanceof Array?p(a,g,d):b(a,g,d)}var d=Array.prototype.push;t.exports=a},{}],35:[function(c,t,l){function b(a){return Object(a)===a}function p(a){return a instanceof
Array}var a=Array.prototype.push;t.exports=function h(c,l){return[c,l].every(p)?(a.apply(l,c.filter(function(a){return 0>l.indexOf(a)})),l):Object.keys(c).reduce(function(a,g){[c[g],a[g]].every(b)&&h(c[g],a[g]);g in a||(a[g]=c[g]);return a},l)}},{}],36:[function(c,t,l){t.exports=function(){return Array.prototype.slice.call(arguments).reduce(function(b,c){return Object.keys(c||{}).reduce(function(a,b){a[b]=c[b];return a},b)},{})}},{}],37:[function(c,t,l){t.exports=function(b,c){if("function"!==typeof c)return b;
b.then(function(a){c(null,a)},function(a){c(a)});return b}},{}],38:[function(c,t,l){t.exports=function(b){if(/string|number|boolean/.test(typeof b))return isNaN(b)?void 0:Number(b)}},{}],39:[function(c,t,l){function b(c){return{tag:c.tagName,value:0<c.childElementCount?null:c.textContent,attributes:d.call(c.attributes,function(a,b){a[b.name]=b.value;return a},{}),find:function(a){return p.call(c.querySelectorAll(a),b)},children:function(){return a.call(c.childNodes,function(a){return a instanceof
Element}).map(b)}}}var p=Array.prototype.map,a=Array.prototype.filter,d=Array.prototype.reduce,h=new DOMParser;t.exports=function(a,d){var c=h.parseFromString(a,"application/xml");try{if(c&&c.children){var g=c.getElementsByTagName("parsererror");g&&0<g.length&&(a=a.replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,""),c=h.parseFromString(a,"application/xml"),"s2s"==d&&(g=c.getElementsByTagName("parsererror"))&&0<g.length&&(1<a.indexOf("<ClickThrough>")&&-1==a.indexOf("]]\x3e</ClickThrough>")&&
(a=a.replace("</ClickThrough>","]]\x3e</ClickThrough>"),c=h.parseFromString(a,"application/xml")),1<a.indexOf("<AdParameters><?xml")&&(a=a.replace("<AdParameters><?xml","<AdParameters><![CDATA[<?xml"),a=a.replace("fig></AdParameters>","fig>]]\x3e </AdParameters>"),c=h.parseFromString(a,"application/xml"))))}}catch(r){}return function(a){return p.call(c.querySelectorAll(a),b)}}},{}],40:[function(c,t,l){function b(b){return(9<b?"":"0")+b.toString()}t.exports=function(c){return Number(c)!==c?null:[Math.floor(c/
60/60),Math.floor(c/60%60),Math.floor(c%60%60)].map(b).join(":")}},{}],41:[function(c,t,l){t.exports=function(b){switch((b||"").toLowerCase()){case "true":return!0;case "false":return!1}}},{}],42:[function(c,t,l){t.exports=function(b){return(b=(b||"").match(/^(\d\d):(\d\d):(\d\d)$/))&&b.slice(1,4).map(parseFloat).reduce(function(b,a,c){return b+a*Math.pow(60,Math.abs(c-2))},0)}},{}],43:[function(c,t,l){t.exports=function p(a,c){return Object(a)!==a?a:Object.keys(a).reduce(function(d,g){c&&a[g]instanceof
Array?d[g]=a[g].filter(function(a){return void 0!==a}).map(function(a){return p(a,!0)}):c&&a[g]instanceof Object?d[g]=p(a[g],!0):void 0!==a[g]&&(d[g]=a[g]);return d},{})}},{}],44:[function(c,t,l){function b(a){return{tag:"TrackingEvents",children:a.map(function(a){return{tag:"Tracking",attributes:{event:a.event},value:a.uri,cdata:!0}})}}function p(a){return a.map(function(a){a:{switch(a.type){case "static":var b="StaticResource";break a;case "iframe":b="IFrameResource";break a;case "html":b="HTMLResource";
break a}b=void 0}return{tag:b,attributes:{creativeType:a.creativeType},value:a.data,cdata:!0}})}function a(a){return{tag:"AdParameters",value:a.parameters}}var d=c("./utils/seconds_to_timestamp"),h=c("./utils/compile_xml"),g={linear:function(c){return{tag:"Linear",children:[{tag:"Duration",value:d(c.duration)},b(c.trackingEvents),a(c)].concat(c.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",value:c.videoClicks.clickThrough,cdata:!0}].concat(c.videoClicks.clickTrackings.map(function(a){return{tag:"ClickTracking",
value:a,cdata:!0}}),c.videoClicks.customClicks.map(function(a){return{tag:"CustomClick",attributes:{id:a.id},value:a.uri,cdata:!0}}))}]:[],[{tag:"MediaFiles",children:c.mediaFiles.map(function(a){return{tag:"MediaFile",attributes:{id:a.id,width:a.width,height:a.height,bitrate:a.bitrate,type:a.type,delivery:a.delivery,scalable:a.scalable,maintainAspectRatio:a.maintainAspectRatio,apiFramework:a.apiFramework},value:a.uri,cdata:!0}})}])}},companions:function(c){return{tag:"CompanionAds",children:c.companions.map(function(c){return{tag:"Companion",
attributes:{id:c.id,width:c.width,height:c.height,expandedWidth:c.expandedWidth,expandedHeight:c.expandedHeight,apiFramework:c.apiFramework},children:p(c.resources).concat([b(c.trackingEvents),{tag:"CompanionClickThrough",value:c.clickThrough,cdata:!0},{tag:"AltText",value:c.altText},a(c)])}})}},nonLinear:function(c){return{tag:"NonLinearAds",children:c.ads.map(function(b){return{tag:"NonLinear",attributes:{id:b.id,width:b.width,height:b.height,expandedWidth:b.expandedWidth,expandedHeight:b.expandedHeight,
scalable:b.scalable,maintainAspectRatio:b.maintainAspectRatio,minSuggestedDuration:d(b.minSuggestedDuration),apiFramework:b.apiFramework},children:p(b.resources).concat([{tag:"NonLinearClickThrough",value:b.clickThrough,cdata:!0},a(b)])}}).concat([b(c.trackingEvents)])}}};t.exports=function(a){return h({tag:"VAST",attributes:{version:a.get("version")},children:a.map("ads",function(a){var b={id:a.id};a:{switch(a.type){case "inline":var c="InLine";break a;case "wrapper":c="Wrapper";break a}c=void 0}return{tag:"Ad",
attributes:b,children:[{tag:c,children:[{tag:"AdSystem",attributes:{version:a.system.version},value:a.system.name},{tag:"AdTitle",value:a.title},{tag:"Description",value:a.description},{tag:"Survey",value:a.survey,cdata:!0},{tag:"VASTAdTagURI",value:a.vastAdTagURI,cdata:!0}].concat(a.errors.map(function(a){return{tag:"Error",value:a,cdata:!0}}),a.impressions.map(function(a){return{tag:"Impression",value:a.uri,cdata:!0,attributes:{id:a.id}}}),[{tag:"Creatives",children:a.creatives.map(function(a){return{tag:"Creative",
attributes:{id:a.id,sequence:a.sequence,AdID:a.adID},children:[g[a.type](a)]}}),required:!0}])}]}})},!0)}},{"./utils/compile_xml":33,"./utils/seconds_to_timestamp":40}],45:[function(c,t,l){function b(){}function p(a){switch({}.toString.call(a)){case "[object File]":case "[object Blob]":case "[object FormData]":return!0;default:return!1}}function a(){var a=this;this.readyState=this.status=0;this.responseText=this.utl=this.method="";this.aborted=!1;this.open=function(b,c){a.url=c};this.send=function(){if(!a.aborted){var b=
window.AV_player.config.getvast(a.url);setTimeout(function(){a.responseText=b;a.readyState=4;a.status=200;a.onload()},10)}};this.abort=function(){a.aborted=!0}}function d(a){if(a!==Object(a))return a;var b=[],c;for(c in a)null!=a[c]&&h(b,c,a[c]);return b.join("&")}function h(a,b,c){if(Array.isArray(c))return c.forEach(function(c){h(a,b,c)});a.push(encodeURIComponent(b)+"="+encodeURIComponent(c))}function g(a){var b={};a=a.split("&");for(var c,d=0,e=a.length;d<e;++d)c=a[d],c=c.split("="),b[decodeURIComponent(c[0])]=
decodeURIComponent(c[1]);return b}function x(a){return q(a.split(/ *; */),function(a,b){var c=b.split(/ *= */);b=c.shift();c=c.shift();b&&c&&(a[b]=c);return a},{})}function u(a,b){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;if("function"==typeof this.xhr.getAllResponseHeaders){a=this.xhr.getAllResponseHeaders().split(/\r?\n/);
b={};a.pop();for(var c=0,d=a.length;c<d;++c){var e=a[c];var f=e.indexOf(":");var g=e.slice(0,f).toLowerCase();f=B(e.slice(f+1));b[g]=f}this.header=this.headers=b}else this.statusText="OK",this.header={};this.setStatusProperties("undefined"===typeof this.xhr.status?200:this.xhr.status);this.header["content-type"]="function"==typeof this.xhr.getResponseHeader?this.xhr.getResponseHeader("content-type"):this.xhr.contentType;this.setHeaderProperties(this.header);this.body="HEAD"!=this.req.method?this.parseBody(this.text?
this.text:this.xhr.response):null}function v(a,b){var c=this;w.call(this);this._query=this._query||[];this.method=a;this.url=b;this._withCredentials=!0;this.header={};this._header={};this.on("end",function(){var a=null,b=null;try{b=new u(c)}catch(J){return a=Error("Parser is unable to parse the response"),a.parse=!0,a.original=J,a.rawResponse=c.xhr&&c.xhr.responseText?c.xhr.responseText:null,c.callback(a)}c.emit("response",b);if(a||200<=b.status&&300>b.status)return c.callback(a,b);var d=Error(b.statusText||
"Unsuccessful HTTP response");d.original=a;d.response=b;d.status=b.status;c.callback(d,b)})}function r(a,b){return"function"==typeof a?new v(a,b):"function"==typeof b?(new v("GET",a)).end(b):1==arguments.length?new v("GET",a):new v(a,b)}function f(a,b){a=r("DELETE",a);b&&a.end(b);return a}var w=c("emitter"),q=c("reduce");var C="undefined"!==typeof window?window:"undefined"!==typeof self?self:this;r.getXHR=function(){if("function"===typeof window.AV_player.config.getvast)return new a;var b=new XMLHttpRequest;
return"withCredentials"in b?b:"undefined"!=typeof XDomainRequest?new XDomainRequest:null};var B="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};r.serializeObject=d;r.parseString=g;r.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};r.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify};
r.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse};u.prototype.get=function(a){return this.header[a.toLowerCase()]};u.prototype.setHeaderProperties=function(a){a=this.header["content-type"]||"";this.type=a.split(/ *; */).shift();a=x(a);for(var b in a)this[b]=a[b]};u.prototype.parseBody=function(a){var b=r.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null};u.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=this.statusCode=
a;this.statusType=b;this.info=1==b;this.ok=2==b;this.clientError=4==b;this.serverError=5==b;this.error=4==b||5==b?this.toError():!1;this.accepted=202==a;this.noContent=204==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==a;this.notFound=404==a;this.forbidden=403==a};u.prototype.toError=function(){var a=this.req,b=a.method;a=a.url;var c=Error("cannot "+b+" "+a+" ("+this.status+")");c.status=this.status;c.method=b;c.url=a;return c};r.Response=u;w(v.prototype);v.prototype.use=
function(a){a(this);return this};v.prototype.timeout=function(a){this._timeout=a;return this};v.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};v.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("end"),this};v.prototype.set=function(a,b){if(a===Object(a)){for(var c in a)this.set(c,a[c]);return this}this._header[a.toLowerCase()]=b;this.header[a]=b;return this};v.prototype.unset=function(a){delete this._header[a.toLowerCase()];
delete this.header[a];return this};v.prototype.getHeader=function(a){return this._header[a.toLowerCase()]};v.prototype.type=function(a){this.set("Content-Type",r.types[a]||a);return this};v.prototype.parse=function(a){this._parser=a;return this};v.prototype.accept=function(a){this.set("Accept",r.types[a]||a);return this};v.prototype.auth=function(a,b){a=btoa(a+":"+b);this.set("Authorization","Basic "+a);return this};v.prototype.query=function(a){"string"!=typeof a&&(a=d(a));a&&this._query.push(a);
return this};v.prototype.field=function(a,b){this._formData||(this._formData=new C.FormData);this._formData.append(a,b);return this};v.prototype.attach=function(a,b,c){this._formData||(this._formData=new C.FormData);this._formData.append(a,b,c||b.name);return this};v.prototype.send=function(a){var b=a===Object(a),c=this.getHeader("Content-Type"),d;if(d=b)d=this._data,d=d===Object(d);if(d)for(var e in a)this._data[e]=a[e];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),
this._data="application/x-www-form-urlencoded"==c?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!b||p(a))return this;c||this.type("json");return this};v.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout();c(a,b)};v.prototype.crossDomainError=function(){var a=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0;a.status=this.status;
a.method=this.method;a.url=this.url;this.callback(a)};v.prototype.timeoutError=function(){var a=this._timeout,b=Error("timeout of "+a+"ms exceeded");b.timeout=a;this.callback(b)};v.prototype.withCredentials=function(){this._withCredentials=!0;return this};v.prototype.end=function(a){var c=this,d=this.xhr=r.getXHR(),e=this._query.join("&"),f=this._timeout||7E3,g=this._formData||this._data;if("function"===typeof this.method)c._callback=a||b,this.method(function(a){c.xhr={responseText:a,status:200,readyState:4};
c.emit("end")});else{if(this.url){if(this.url&&-1<this.url.indexOf("ssp.lkqd.net")){if(window.lastLCall&&300>Date.now()-window.lastLCall){setTimeout(function(){c.end(a)},300);return}window.lastLCall=Date.now()}this._callback=a||b;"undefined"!==typeof d.onreadystatechange?d.onreadystatechange=function(){if(4==d.readyState){try{var a=d.status}catch(I){a=0}if(0==a){if(c.timedout)return c.timeoutError();if(c.aborted)return;if(c._withCredentials){c._withCredentials=!1;setTimeout(function(){c.end.call(c,
c._callback)},10);return}return c.crossDomainError()}c.emit("end")}}:(d.onprogress=function(){},d.ontimeout=function(){},d.onload=function(){c.emit("end")});var h=function(a){0<a.total&&(a.percent=a.loaded/a.total*100);a.direction="download";c.emit("progress",a)};this.hasListeners("progress")&&(d.onprogress=h);try{d.upload&&this.hasListeners("progress")&&(d.upload.onprogress=h)}catch(ea){}f&&!this._timer&&(this._timer=setTimeout(function(){c.timedout=!0;c.abort()},f));e&&(e=r.serializeObject(e),this.url+=
~this.url.indexOf("?")?"&"+e:"?"+e);d.open(this.method,this.url,!0);this._withCredentials&&(d.withCredentials=!0);"GET"==this.method||"HEAD"==this.method||"string"==typeof g||p(g)||(e=this.getHeader("Content-Type"),f=this._parser||r.serialize[e?e.split(";")[0]:""],!f&&/[\/+]json\b/.test(e)&&(f=r.serialize["application/json"]),f&&(g=f(g)));for(var q in this.header)null!=this.header[q]&&d.setRequestHeader(q,this.header[q]);this.emit("request",this);d.send("undefined"!==typeof g?g:null);return this}c.abort()}};
v.prototype.then=function(a,b){return this.end(function(c,d){c?b(c):a(d)})};r.Request=v;r.get=function(a,b,c){a=r("GET",a);"function"==typeof b&&(c=b,b=null);b&&a.query(b);c&&a.end(c);return a};r.prebid=function(a,b){return r(a,b)};r.head=function(a,b,c){a=r("HEAD",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};r.del=f;r["delete"]=f;r.patch=function(a,b,c){a=r("PATCH",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};r.post=function(a,b,c){a=r("POST",
a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};r.put=function(a,b,c){a=r("PUT",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.exports=r},{emitter:46,reduce:47}],46:[function(c,t,l){function b(c){if(c){for(var a in b.prototype)c[a]=b.prototype[a];return c}}t.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(a);return this};b.prototype.once=
function(b,a){function c(){this.off(b,c);a.apply(this,arguments)}c.fn=a;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+b];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var h,g=0;g<c.length;g++)if(h=c[g],h===a||h.fn===a){c.splice(g,1);break}return this};
b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),c=this._callbacks["$"+b];if(c){c=c.slice(0);for(var h=0,g=c.length;h<g;++h)c[h].apply(this,a)}return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks["$"+b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],47:[function(c,t,l){t.exports=function(b,c,a){for(var d=0,h=b.length,g=3==arguments.length?a:b[d++];d<h;)g=c.call(null,
g,b[d],++d,b);return g}},{}],48:[function(c,t,l){var b="noError mediaPlayError mediaTimeout vpaidGeneralError vpaidLoadError vpaidLoadTimeout vpaidInitAdError vpaidInitAdTimeout vpaidStartAdError vpaidStartAdTimeout vpaidPlayError mediaJsonError".split(" ");b.forEach(function(c){b[c]=c});Object.freeze(b);t.exports=b},{}]},{},[1])(1)});
(function(m){m.AV_PrebidBase=function(c){var t=this.av={},l=this,b=AV_biddersFactory.specs[c];Array.prototype.find||(Array.prototype.find=function(a,b){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var c=Object(this),d=c.length>>>0,l,m=0;m<d;m++)if(l=c[m],a.call(b,l,m,c))return l});this.avGetFloor=function(){};this.getUserSyncs=function(){};if(b)for(var p in b)b.hasOwnProperty(p)&&
(this[p]=b[p]);this.version="1.13.0";this.av.prepBid=function(a){a.uuid=t.getUuid();var b=a.bids;b.forEach(function(b){b.sizes=a.sizes;b.mediaTypes=a.mediaTypes;b.bidId||(b.bidId=t.getUuid());b.transactionId||(b.transactionId=t.getUuid())});return b};this.av.getRequest=function(a,b){"string"===typeof a&&(a=decodeURIComponent(a),a=JSON.parse(a));var c={bidderCode:a.bids[0].bidder,auctionId:t.getUuid(),bidderRequestId:t.getUuid(),bids:a.bids,refererInfo:Utils.getPrebidRefInfo()},d=Utils.getConsent();
d&&d.gdprApplies&&d.consentData&&(c.gdprConsent={gdprApplies:d.gdprApplies,consentString:d.consentData,vendorData:{hasGlobalScope:d.hasGlobalScope}});this.aniviewFloor=l.avGetFloor(a);a=l.buildRequests(t.prepBid(a),c,function(a){l.av_async&&b(a)});if(!l.av_async)return a&&"function"===typeof a.push&&a[0]&&(a=a[0]),a&&a.data&&("object"===typeof a.data&&"POST"===a.method&&(a.data=JSON.stringify(a.data)),"string"===typeof a.data&&(a.data=a.data.replace("$prebid.version$",l.version)),"GET"===a.method&&
("object"===typeof a.data&&(a.avParams=m.AV_biddersFactory.utils.parseQueryStringParameters(a.data)||""),"string"===typeof a.data&&(a.avParams=a.data))),a};this.av.getUuid=function(){return Date.now().toString()};this.av.getVastResponse=function(a,b){try{try{var c=JSON.parse(a)}catch(v){c=a}var d=l.interpretResponse({body:c,headers:{get:function(){}}},b);d&&!d.push&&(d.vastXml||d.vastUrl)&&(d=[d]);if(d&&d[0]){if(!d[0].vastUrl&&d[0].vastXml){var t=new Blob([d[0].vastXml],{type:"application/xml"});
d[0].vastUrl=m.URL.createObjectURL(t)}if(d[0].vastUrl){"openx"==l.code&&(d[0].vastUrl=d[0].vastUrl.replace("u.openx.net","delivery-us-west-1.openx.net"));a="";var p=d[0].cpm||"";a=this.aniviewFloor&&d[0].cpm&&d[0].cpm<this.aniviewFloor?'<?xml version="1.0" encoding="UTF-8"?><VAST></VAST>':'<?xml version="1.0" encoding="UTF-8"?><VAST version="2.0"><Ad><Wrapper><AdSystem></AdSystem><VASTAdTagURI><![CDATA['+d[0].vastUrl+']]\x3e</VASTAdTagURI><Extensions><Extension type="aniview"><CPM>'+p+"</CPM></Extension></Extensions></Wrapper></Ad></VAST>";
return{vast:a,cpm:d[0].cpm}}}}catch(v){}return{}};this.av.getUserSyncs=function(){try{if(!m.AV_biddersFactory.syncs[c.toString()]){m.AV_biddersFactory.syncs[c.toString()]=!0;var a={iframeEnabled:!0,pixelEnabled:!0};if("function"===typeof l.getUserSyncs){var b=Utils.getConsent(),h;b&&b.gdprApplies&&b.consentData&&(h={gdprApplies:b.gdprApplies,consentString:b.consentData,vendorData:{hasGlobalScope:b.hasGlobalScope}});var g=l.getUserSyncs(a,[],h);g.push||(g=[g]);return g}}}catch(x){}}};m.AV_biddersFactory=
{syncs:{},specs:{},register:function(c,m){this.specs[{openx:"1",appnexus:"2",rubicon:"3",pubmatic:"4",freewheel:"5",tremor:"8",spotx:"9",spotx2:"10",beachfront:"11",rubicon2:"12",rhythmone:"13",oneVideo:"14",adsdataav:"15",synacormedia:"16",loopme:"17",ix:"18",a9:"19"}[c]]=m},VIDEO:"video",NATIVE:"native",BANNER:"banner",STATUS:{GOOD:1,NO_BID:2},utils:{scripts:{},loadScript:function(c,m){this.scripts[c]&&this.scripts[c].loaded&&m();if(this.scripts[c])this.scripts[c].callbacks.push(m);else{this.scripts[c]=
{};this.scripts[c].callbacks=[m];m=document.createElement("script");m.src=c;var l=this;m.onload=function(){l.scripts[c].loaded=!0;l.scripts[c].callbacks.forEach(function(b){b()});l.scripts[c].callbacks=[]};var b=document.getElementsByTagName("head");(b=b.length?b:document.getElementsByTagName("body"))&&0<b.length&&b[0]&&b[0].appendChild(m)}},isArray:function(c){return"object"===typeof c&&c.push},isStr:function(c){return"string"===typeof c},isBoolean:function(c){return"boolean"===typeof c},isNumber:function(c){return"number"===
typeof c},isInteger:function(c){return Number.isInteger?Number.isInteger(c):"number"===typeof c&&isFinite(c)&&Math.floor(c)===c},isEmpty:function(c){if(!c)return!0;if(this.isArray(c)||this.isStr(c))return!(0<c.length);for(var m in c)if(hasOwnProperty.call(c,m))return!1;return!0},isFn:function(c){return"function"===typeof c},deepAccess:function(c,m){if(c){m=String(m).split(".");for(var l=0;l<m.length;l++)if(void 0===(c=c[m[l]]))return;return c}},logError:function(){},inIframe:function(){return m===
top},getTopWindowUrl:function(){return Utils.getTrueDomain()},getTopWindowReferrer:function(){return Utils.getTrueDomain()},_map:function(c,m){if(this.isEmpty(c))return[];if(this.isFn(c.map))return c.map(m);var l=[];this._each(c,function(b,p){l.push(m(b,p,c))});return l},_each:function(c,m){if(!this.isEmpty(c)){if(this.isFn(c.forEach))return c.forEach(m,this);var l=0,b=c.length;if(0<b)for(;l<b;l++)m(c[l],l,c);else for(l in c)hasOwnProperty.call(c,l)&&m.call(this,c[l],l)}},parseQueryStringParameters:function(c){var m=
"",l;for(l in c)c.hasOwnProperty(l)&&(m+=l+"="+encodeURIComponent(c[l])+"&");return m},getTopWindowLocation:function(){var c=Utils.getTrueDomain(),m=Utils.getHostName(c);return{protocol:Utils.getProtocol(),href:c,host:m,hostname:m}},deepClone:function(c){return c},convertTypes:function(c,m){Object.keys(c).forEach(function(l){m[l]&&(exports.isFn(c[l])?m[l]=c[l](m[l]):m[l]=tryConvertType(c[l],m[l]),isNaN(m[l])&&delete m.key)});return m},count:0,getIncrementalInteger:function(){this.count++;return this.count},
getUniqueIdentifierStr:function(){return this.getIncrementalInteger()+Math.random().toString(16).substr(2)},getValue:function(c,m){return c[m]},parseSizesInput:function(c){var m="";"object"===typeof c&&1===c.length&&"object"===typeof c[0]&&(m='["'+c[0][0]+"x"+c[0][1]+'"]');return m},parseGPTSingleSizeArray:function(c){if(this.isArray(c)&&2===c.length&&!isNaN(c[0])&&!isNaN(c[1]))return c[0]+"x"+c[1]},getBidIdParameter:function(c,m){return m&&m[c]?m[c]:""},getDNT:function(){return"1"===navigator.doNotTrack||
"1"===m.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},generateUUID:function(c){return c?(c^m.AV_biddersFactory.utils._getRandomData()>>c/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,m.AV_biddersFactory.utils.generateUUID)},_getRandomData:function(){return m&&m.crypto&&m.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()},transformBidderParamKeywords:function(c,t){t=void 0===t?"keywords":t;var l=[];m.AV_biddersFactory.utils._each(c,
function(b,c){if(m.AV_biddersFactory.utils.isArray(b)){var a=[];m.AV_biddersFactory.utils._each(b,function(b){((b=m.AV_biddersFactory.utils.getValueString(t+"."+c,b))||""===b)&&a.push(b)});b=a}else if(b=m.AV_biddersFactory.utils.getValueString(t+"."+c,b),m.AV_biddersFactory.utils.isStr(b))b=[b];else return;l.push({key:c,value:b})});return l},getValueString:function(c,t,l){if(void 0===t||null===t)return l;if(m.AV_biddersFactory.utils.isStr(t))return t;if(m.AV_biddersFactory.utils.isNumber(t))return t.toString()},
getCookie:function(c){return(c=m.document.cookie.match("(^|;)\\s*"+c+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(c[2]):null},getAdUnitSizes:function(c){if(c){var m=[];c.mediaTypes&&c.mediaTypes.banner&&Array.isArray(c.mediaTypes.banner.sizes)?(c=c.mediaTypes.banner.sizes,Array.isArray(c[0])?m=c:m.push(c)):Array.isArray(c.sizes)&&(Array.isArray(c.sizes[0])?m=c.sizes:m.push(c.sizes));return m}}},config:{getConfig:function(c){if("bidderTimeout"===c)return 2E3}},includes:function(c,m){if(c&&0<c.length&&
c.push)return"function"===typeof c.includes?c.includes(m):-1<c.indexOf(m)},find:function(c,m){return c.find(m)},parseQS:function(c){return c?c.replace(/^\?/,"").split("&").reduce(function(c,l){var b=$jscomp.makeIterator(l.split("="));l=b.next().value;b=b.next().value;/\[\]$/.test(l)?(l=l.replace("[]",""),c[l]=c[l]||[],c[l].push(b)):c[l]=b||"";return c},{}):{}},parse:function(c,t){var l=document.createElement("a");l.href=t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?c:decodeURIComponent(c);c=t&&"decodeSearchAsString"in
t&&t.decodeSearchAsString;return{href:l.href,protocol:(l.protocol||"").replace(/:$/,""),hostname:l.hostname,port:+l.port,pathname:l.pathname.replace(/^(?!\/)/,"/"),search:c?l.search:m.AV_biddersFactory.parseQS(l.search||""),hash:(l.hash||"").replace(/^#/,""),host:l.host||m.location.host}},Renderer:{install:function(){return{setRender:function(){},setEventHandlers:function(){}}}},userSync:{registerSync:function(){}},adaptermanager:{registerBidAdapter:function(c,t,l){m.AV_biddersFactory.register(t,
c)}},Adapter:function(){return{}},bidmanager:{registerDefaultBidderSetting:function(){},addBidResponse:function(c,m){}},bidfactory:{createBid:function(){}}}})(window);
(function(m){function c(a,b,c){c=void 0===c?{}:c;b=q.install({id:b.renderer_id,url:b.renderer_url,config:c,loaded:!1});try{b.setRender(u)}catch(D){r.logWarn("Prebid Error calling setRender on renderer",D)}b.setEventHandlers({impression:function(){return r.logMessage("AppNexus outstream video impression event")},loaded:function(){return r.logMessage("AppNexus outstream video loaded event")},ended:function(){r.logMessage("AppNexus outstream renderer video event");document.querySelector("#"+a).style.display=
"none"}});return b}function t(a,b){var c=[];if(15<a.tags.length){var d=r.deepClone(a);r.chunk(a.tags,15).forEach(function(a){d.tags=a;a=JSON.stringify(d);c.push({method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:a,bidderRequest:b})})}else c={method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(a),bidderRequest:b};return c}function l(a){var c={};c.sizes=b(a.sizes);c.primary_size=c.sizes[0];c.ad_types=[];c.uuid=a.bidId;a.params.placementId?c.id=parseInt(a.params.placementId,10):c.code=
a.params.invCode;c.allow_smaller_sizes=a.params.allowSmallerSizes||!1;c.use_pmt_rule=a.params.usePaymentRule||!1;c.prebid=!0;c.disable_psa=!0;a.params.reserve&&(c.reserve=a.params.reserve);a.params.position&&(c.position={above:1,below:2}[a.params.position]||0);a.params.trafficSourceCode&&(c.traffic_source_code=a.params.trafficSourceCode);a.params.privateSizes&&(c.private_sizes=b(a.params.privateSizes));a.params.supplyType&&(c.supply_type=a.params.supplyType);a.params.pubClick&&(c.pubclick=a.params.pubClick);
a.params.extInvCode&&(c.ext_inv_code=a.params.extInvCode);a.params.externalImpId&&(c.external_imp_id=a.params.externalImpId);if(!r.isEmpty(a.params.keywords)){var d=r.transformBidderParamKeywords(a.params.keywords);0<d.length&&d.forEach(deleteValues);c.keywords=d}d=r.deepAccess(a,"mediaTypes.video");var e=r.deepAccess(a,"mediaTypes.video.context");("video"===a.mediaType||d)&&c.ad_types.push("video");if("video"===a.mediaType||d&&"outstream"!==e)c.require_asset_url=!0;a.params.video&&(c.video={},Object.keys(a.params.video).filter(function(a){return f(C,
a)}).forEach(function(b){return c.video[b]=a.params.video[b]}));return c}function b(a){var b=[],c={};if(r.isArray(a)&&2===a.length&&!r.isArray(a[0]))c.width=parseInt(a[0],10),c.height=parseInt(a[1],10),b.push(c);else if("object"===typeof a)for(var d=0;d<a.length;d++){var e=a[d];c={};c.width=parseInt(e[0],10);c.height=parseInt(e[1],10);b.push(c)}return b}function p(a){return!!a.params.user}function a(a){return!!parseInt(a.params.member,10)}function d(a){if(a.params)return!!a.params.app}function h(a){return a.params&&
a.params.app?!!a.params.app.id:!!a.params.app}function g(a){return a&&a.ads&&a.ads.length&&w(a.ads,function(a){return a.rtb})}function x(a){return!!a.debug}function u(a){a.renderer.push(function(){m.ANOutstreamVideo.renderAd({tagId:a.adResponse.tag_id,sizes:[a.getSize().split("x")],targetId:a.adUnitCode,uuid:a.adResponse.uuid,adResponse:a.adResponse,rendererOptions:a.renderer.getConfig()},v.bind(null,a))})}function v(a,b,c){a.renderer.handleVideoEvent({id:b,eventName:c})}var r=m.AV_biddersFactory.utils,
f=m.AV_biddersFactory.includes,w=m.AV_biddersFactory.find,q=m.AV_biddersFactory.Renderer,C="id mimes minduration maxduration startdelay skippable playback_method frameworks".split(" "),B="age externalUid segments gender dnt language".split(" ");m.AV_biddersFactory.register("appnexus",{code:"appnexus",aliases:"appnexusAst brealtime emxdigital pagescience defymedia gourmetads matomy featureforward oftmedia districtm".split(" "),supportedMediaTypes:["video"],isBidRequestValid:function(a){return!!(a.params.placementId||
a.params.member&&a.params.invCode)},buildRequests:function(b,c){var e=b.map(l),g=w(b,p);if(g){var q={};Object.keys(g.params.user).filter(function(a){return f(B,a)}).forEach(function(a){return q[a]=g.params.user[a]})}var m=w(b,d);if(m&&m.params&&m.params.app){var C={};Object.keys(m.params.app).filter(function(a){return f(APP_DEVICE_PARAMS,a)}).forEach(function(a){return C[a]=m.params.app[a]})}var y=w(b,h),u;y&&y.params&&m.params.app&&m.params.app.id&&(u={appid:y.params.app.id});var v={},X={},Q=r.getCookie("apn_prebid_debug")||
null;if(Q)try{v=JSON.parse(Q)}catch(ia){r.logError("AppNexus Debug Auction Cookie Error:\n\n"+ia)}else(Q=w(b,x))&&Q.debug&&(v=Q.debug);v&&v.enabled&&Object.keys(v).filter(function(a){return f(DEBUG_PARAMS,a)}).forEach(function(a){X[a]=v[a]});b=(b=w(b,a))?parseInt(b.params.member,10):0;e={tags:[].concat($jscomp.arrayFromIterable(e)),user:q,sdk:{source:"pbjs",version:"2.20.0"}};0<b&&(e.member_id=b);m&&(e.device=C);y&&(e.app=u);X.enabled&&(e.debug=X);c&&c.gdprConsent&&(e.gdpr_consent={consent_string:c.gdprConsent.consentString,
consent_required:c.gdprConsent.gdprApplies});c&&c.refererInfo&&(y={rd_ref:encodeURIComponent(c.refererInfo.referer),rd_top:c.refererInfo.reachedTop,rd_ifs:c.refererInfo.numIframes,rd_stk:c.refererInfo.stack?c.refererInfo.stack.map(function(a){return encodeURIComponent(a)}).join(","):void 0},e.referrer_detection=y);return t(e,c)},interpretResponse:function(a,b){var d=this,e=b.bidderRequest;a=a.body;var h=[];if(!a||a.error)return h;a.tags&&a.tags.forEach(function(a){var b=g(a);if(b&&0!==b.cpm&&f(d.supportedMediaTypes,
b.ad_type)){var q={requestId:a.uuid,cpm:b.cpm,creativeId:b.creative_id,dealId:b.deal_id,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:b.buyer_member_id}};if(b.rtb.video&&(Object.assign(q,{width:b.rtb.video.player_width,height:b.rtb.video.player_height,vastUrl:b.rtb.video.asset_url,vastImpUrl:b.notify_url,ttl:3600}),b.renderer_url)){var l=r.deepAccess(e.bids[0],"renderer.options");Object.assign(q,{adResponse:a,renderer:c(q.adUnitCode,b,l)});q.adResponse.ad=q.adResponse.ads[0];q.adResponse.ad.video=
q.adResponse.ad.rtb.video}a="video"===b.ad_type?"video":void 0;q.mediaType=a;h.push(q)}});return h},getUserSyncs:function(a){if(a.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]},avGetFloor:function(a){try{return a.bids[0].params.reserve}catch(y){}}})})(window);
(function(m){function c(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]||delete a[b]);return h._map(Object.keys(a),function(b){return b+"="+a[b]}).join("&")}function t(a){var b=m;var c=document;if(a){try{b=m.top,c=m.top.document}catch(B){return}a=c.documentElement;var d=c.body;c=b.innerWidth||a.clientWidth||d.clientWidth;b=b.innerHeight||a.clientHeight||d.clientHeight}else a=c.documentElement,c=b.innerWidth||a.clientWidth,b=b.innerHeight||a.clientHeight;return c+"x"+b}function l(a){return a.reduce(function(a,
b){h.deepAccess(b,"mediaTypes.video")||b.mediaType===g?a[0].push(b):a[1].push(b);return a},[[],[]])}function b(a,b){var c=h.inIframe();a={ju:d.getConfig("pageUrl")||h.getTopWindowUrl(),jr:h.getTopWindowReferrer(),ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:c,tz:(new Date).getTimezoneOffset(),tws:t(c),be:1,dddid:h._map(a,function(a){return a.transactionId}).join(","),nocache:(new Date).getTime()};h.deepAccess(b,"gdprConsent")&&(b=b.gdprConsent,
void 0!==b.consentString&&(a.gdpr_consent=b.consentString),void 0!==b.gdprApplies&&(a.gdpr=b.gdprApplies?1:0),"iab"===d.getConfig("consentManagement.cmpApi")&&(a.x_gdpr_f=1));return a}function p(b,c){var d="//"+b.params.delDomain+"/v/1.0/avjp";c=a(b,c);return{method:"GET",url:d,data:c,payload:{bid:b,startTime:new Date}}}function a(a,c){var d=b([a],c),f=h.deepAccess(a,"params.video")||{};c=h.deepAccess(a,"mediaTypes.video.context");var g=h.deepAccess(a,"mediaTypes.video.playerSize");if(h.isArray(a.sizes)&&
2===a.sizes.length&&!h.isArray(a.sizes[0])){var e=parseInt(a.sizes[0],10);var l=parseInt(a.sizes[1],10)}else h.isArray(a.sizes)&&h.isArray(a.sizes[0])&&2===a.sizes[0].length?(e=parseInt(a.sizes[0][0],10),l=parseInt(a.sizes[0][1],10)):h.isArray(g)&&2===g.length&&(e=parseInt(g[0],10),l=parseInt(g[1],10));Object.keys(f).forEach(function(a){"openrtb"===a?(f[a].w=e||f[a].w,f[a].v=l||f[a].v,d[a]=JSON.stringify(f[a])):a in d||"url"===a||(d[a]=f[a])});d.auid=a.params.unit;d.vwd=e||f.vwd;d.vht=l||f.vht;"outstream"===
c&&(d.vos="101");f.mimes&&(d.vmimes=f.mimes);return d}var d=m.AV_biddersFactory.config,h=m.AV_biddersFactory.utils,g=m.AV_biddersFactory.VIDEO,x=m.AV_biddersFactory.BANNER,u=m.AV_biddersFactory.parse,v=m.AV_biddersFactory.userSync,r=!0;m.AV_biddersFactory.register("openx",{code:"openx",supportedMediaTypes:[g],isBidRequestValid:function(a){return!(!a.params.unit||!a.params.delDomain)},buildRequests:function(a,b){if(0===a.length)return[];var c=[];a=$jscomp.makeIterator(l(a));var d=a.next().value;0<
a.next().value.length&&c.push(void 0);0<d.length&&d.forEach(function(a){c.push(p(a,b))});return c},interpretResponse:function(a,b){a=a.body;if((/avjp$/.test(b.url)?g:x)===g){b=b.payload;var f=b.bid,l=b.startTime;b=[];if(void 0!==a&&""!==a.vastUrl&&""!==a.pub_rev){var w=u(a.vastUrl).search||{},e={};e.requestId=f.bidId;e.bidderCode="openx";e.ttl=300;e.netRevenue=!0;e.currency=a.currency;e.cpm=Number(a.pub_rev)/1E3;e.width=a.width;e.height=a.height;e.creativeId=a.adid;e.vastUrl=a.vastUrl;e.mediaType=
g;a.ph=w.ph;a.colo=w.colo;a.ts=w.ts;b.push(e);f=g;if(r){r=!1;w=d.getConfig("bidderTimeout");m.PREBID_TIMEOUT&&(w=Math.min(m.PREBID_TIMEOUT,w));l={bd:+new Date-l,bp:a.pub_rev,br:"0",bs:h.getTopWindowLocation().hostname,bt:w,ts:a.ts};l.br=l.bt<l.bd?"t":"p";if(f===g){var y=u(a.colo);l.ph=a.ph;y="//"+y.hostname+"/w/1.0/bo?"+c(l)}else(a=h.deepAccess(a,"creative.0.tracking.impression").match(/([^?]+\/)ri\?/))&&1<a.length&&(y=a[1]+"bo?"+c(l));y&&v.registerSync("image","openx",y)}}y=b}else y=void 0;return y},
getUserSyncs:function(a,b){if(a.iframeEnabled)return[{type:"iframe",url:h.deepAccess(b,"0.body.ads.pixels")||h.deepAccess(b,"0.body.pixels")||"//u.openx.net/w/1.0/pd"}]},avGetFloor:function(a){try{return a.bids[0].params.customFloor}catch(w){}}})})(window);
(function(m){function c(){var b=(b=m.DigiTrust&&(a.getConfig("digiTrustId")||m.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&b.success&&b.identity||null;return!b||b.privacy&&b.privacy.optout?[]:{"dt.id":b.id,"dt.keyv":b.keyv,"dt.pref":0}}function t(b){var c=a.getConfig("pageUrl");b.params.referrer?c=b.params.referrer:c||(c=d.getTopWindowUrl());return b.params.secure?c.replace(/^http:/i,"https:"):c}function l(a){var c=a.params;if(b(a)){var g=[];c.video&&c.video.playerWidth&&c.video.playerHeight?g=[c.video.playerWidth,
c.video.playerHeight]:Array.isArray(d.deepAccess(a,"mediaTypes.video.playerSize"))&&1===a.mediaTypes.video.playerSize.length?g=a.mediaTypes.video.playerSize[0]:Array.isArray(a.sizes)&&0<a.sizes.length&&Array.isArray(a.sizes[0])&&1<a.sizes[0].length&&(g=a.sizes[0]);return g}g=[];Array.isArray(c.sizes)?g=c.sizes:"undefined"!==typeof d.deepAccess(a,"mediaTypes.banner.sizes")?g=a.mediaTypes.banner.sizes:Array.isArray(a.sizes)&&0<a.sizes.length&&(g=a.sizes);return p(g)}function b(a){return a.mediaType===
h||"undefined"!==typeof d.deepAccess(a,"mediaTypes.video")}function p(a){var b=[15,2,9];return a.sort(function(a,c){var d=b.indexOf(a),f=b.indexOf(c);return-1<d||-1<f?-1===d?1:-1===f?-1:d-f:a-c})}var a=m.AV_biddersFactory.config,d=m.AV_biddersFactory.utils,h=m.AV_biddersFactory.VIDEO,g=m.AV_biddersFactory.BANNER,x={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",
37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",159:"320x250",195:"600x300",199:"640x200",213:"1030x590",
214:"980x360",232:"580x400",257:"400x600"};d._each(x,function(a,b){return x[a]=b});var u={code:"rubicon",aliases:["rubiconLite"],supportedMediaTypes:[g,h],isBidRequestValid:function(a){if("object"!==typeof a.params||!/^\d+$/.test(a.params.accountId))return!1;if(b(a)){if("instream"===d.deepAccess(a,"mediaTypes.video.context")||a.mediaType===h){if("undefined"===typeof d.deepAccess(a,"params.video.size_id"))return!1}else if("outstream"===d.deepAccess(a,"mediaTypes.video.context"))d.deepAccess(a,"params.video.size_id");
else return!1;d.deepAccess(a,"mediaTypes.banner")}return 0<l(a).length},buildRequests:function(c,f){var g=[];g=c.filter(b).map(function(a){a.startTime=(new Date).getTime();var b=a.params,c=l(a);a.params.video||(a.params.video={});var g={page_url:t(a),resolution:[m.screen.width,m.screen.height].join("x"),account_id:b.accountId,integration:"pbjs_lite_v1.13.0","x_source.tid":a.transactionId||""+f.bidderRequestId,timeout:500,stash_creatives:!0,slots:[]};c={site_id:b.siteId,zone_id:b.zoneId,position:"atf"===
b.position||"btf"===b.position?b.position:"unknown",floor:.01<parseFloat(b.floor)?b.floor:.01,element_id:a.adUnitCode,name:a.adUnitCode,width:c[0],height:c[1],size_id:"outstream"===d.deepAccess(a,"mediaTypes.video.context")?203:b.video.size_id};b.video&&(g.ae_pass_through_parameters=b.video.aeParams,c.language=b.video.language);b.inventory&&"object"===typeof b.inventory&&(c.inventory=b.inventory);b.keywords&&Array.isArray(b.keywords)&&(c.keywords=b.keywords);b.visitor&&"object"===typeof b.visitor&&
(c.visitor=b.visitor);g.slots.push(c);f.gdprConsent&&("boolean"===typeof f.gdprConsent.gdprApplies&&(g.gdpr=Number(f.gdprConsent.gdprApplies)),g.gdpr_consent=f.gdprConsent.consentString);return{method:"POST",url:"//fastlane-adv.rubiconproject.com/v1/auction/video",data:g,bidRequest:a}});if(!0!==a.getConfig("rubicon.singleRequest"))g=g.concat(c.filter(function(a){return!b(a)}).map(function(a){var b=u.createSlotParams(a,f);return{method:"GET",url:"//fastlane.rubiconproject.com/a/api/fastlane.json",
data:u.getOrderedParams(b).reduce(function(a,c){var e=b[c];return d.isStr(e)&&""!==e||d.isNumber(e)?""+a+c+"="+encodeURIComponent(e)+"&":a},"")+("slots=1&rand="+Math.random()),bidRequest:a}}));else{var h=c.filter(function(a){return!b(a)}).reduce(function(a,b){(a[b.params.siteId]=a[b.params.siteId]||[]).push(b);return a},{});g=g.concat(Object.keys(h).map(function(a){a=h[a];10<a.length&&(a=a.slice(0,10));var b=u.combineSlotUrlParams(a.map(function(a){return u.createSlotParams(a,f)}));return{method:"GET",
url:"//fastlane.rubiconproject.com/a/api/fastlane.json",data:u.getOrderedParams(b).reduce(function(a,c){var e=b[c];return d.isStr(e)&&""!==e||d.isNumber(e)?""+a+c+"="+encodeURIComponent(e)+"&":a},"")+("slots="+a.length+"&rand="+Math.random()),bidRequest:a}}))}g&&g[0]&&"object"===typeof g[0].data&&(g[0].data=JSON.stringify(g[0].data),g[0].requestContentType="text/plain");return g},getOrderedParams:function(a){var b=/^tg_v/,c=/^tg_i/,d="account_id site_id zone_id size_id alt_size_ids p_pos gdpr gdpr_consent rf dt.id dt.keyv dt.pref p_geo.latitude p_geo.longitude kw".split(" ").concat(Object.keys(a).filter(function(a){return b.test(a)})).concat(Object.keys(a).filter(function(a){return c.test(a)})).concat("tk_flint x_source.tid p_screen_res rp_floor rp_secure tk_user_key".split(" "));
return d.concat(Object.keys(a).filter(function(a){return-1===d.indexOf(a)}))},combineSlotUrlParams:function(a){if(1===a.length)return a[0];var b=a.reduce(function(b,c,d){Object.keys(c).forEach(function(e){b.hasOwnProperty(e)||(b[e]=Array(a.length));b[e].splice(d,1,c[e])});return b},{}),c=/^([^;]*)(;\1)+$/;Object.keys(b).forEach(function(a){var d=b[a].join(";"),f=d.match(c);b[a]=f?f[1]:d});return b},createSlotParams:function(a,b){a.startTime=(new Date).getTime();var d=a.params,f=l(a),g=$jscomp.makeIterator(d.latLong||
[]),h=g.next().value;g=g.next().value;var e={account_id:d.accountId,site_id:d.siteId,zone_id:d.zoneId,size_id:f[0],alt_size_ids:f.slice(1).join(",")||void 0,p_pos:"atf"===d.position||"btf"===d.position?d.position:"unknown",rp_floor:.01<(d.floor=parseFloat(d.floor))?d.floor:.01,rp_secure:"https:"===location.protocol?"1":"0",tk_flint:"pbjs_lite_v1.13.0","x_source.tid":a.transactionId,p_screen_res:[m.screen.width,m.screen.height].join("x"),kw:Array.isArray(d.keywords)?d.keywords.join(","):"",tk_user_key:d.userId,
"p_geo.latitude":isNaN(parseFloat(h))?void 0:parseFloat(h).toFixed(4),"p_geo.longitude":isNaN(parseFloat(g))?void 0:parseFloat(g).toFixed(4),"tg_fl.eid":a.code,rf:t(a)};b.gdprConsent&&("boolean"===typeof b.gdprConsent.gdprApplies&&(e.gdpr=Number(b.gdprConsent.gdprApplies)),e.gdpr_consent=b.gdprConsent.consentString);null!==d.visitor&&"object"===typeof d.visitor&&Object.keys(d.visitor).forEach(function(a){e["tg_v."+a]=d.visitor[a].toString()});null!==d.inventory&&"object"===typeof d.inventory&&Object.keys(d.inventory).forEach(function(a){e["tg_i."+
a]=d.inventory[a].toString()});var r=c();Object.keys(r).forEach(function(a){e[a]=r[a]});return e},interpretResponse:function(c,d){var f=d.bidRequest;c=c.body;if(!c||"object"!==typeof c)return[];c=c.ads;"object"===typeof f&&!Array.isArray(f)&&b(f)&&"object"===typeof c&&(c=c[f.adUnitCode]);return!Array.isArray(c)||1>c.length?[]:c.reduce(function(b,c,d){if("ok"!==c.status)return b;if((d=Array.isArray(f)?f[d]:f)&&"object"===typeof d){var e={requestId:d.bidId,currency:"USD",creativeId:c.creative_id,cpm:c.cpm||
0,dealId:c.deal,ttl:300,netRevenue:a.getConfig("rubicon.netRevenue")||!1,rubicon:{advertiserId:c.advertiser,networkId:c.network}};c.creative_type&&(e.mediaType=c.creative_type);if(c.creative_type===h)e.width=d.params.video.playerWidth,e.height=d.params.video.playerHeight,e.vastUrl=c.creative_depot_url,e.impression_id=c.impression_id,e.videoCacheKey=c.impression_id;else{e.ad=void 0;var g=$jscomp.makeIterator(x[c.size_id].split("x").map(function(a){return Number(a)}));e.width=g.next().value;e.height=
g.next().value}e.rubiconTargeting=(Array.isArray(c.targeting)?c.targeting:[]).reduce(function(a,b){a[b.key]=b.values[0];return a},{rpfl_elemid:d.adUnitCode});b.push(e)}return b},[]).sort(function(a,b){return(b.cpm||0)-(a.cpm||0)})},getUserSyncs:function(a,b,c){if(!v&&a.iframeEnabled)return a="",c&&"string"===typeof c.consentString&&(a="boolean"===typeof c.gdprApplies?a+("?gdpr="+Number(c.gdprApplies)+"&gdpr_consent="+c.consentString):a+("?gdpr_consent="+c.consentString)),v=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+
a}},avGetFloor:function(a){try{return a.bids[0].params.reserve}catch(f){}}},v=!1;m.AV_biddersFactory.register("rubicon",u)})(window);
(function(m){function c(a){for(var b=[0,0],c=0;c<a.length;c++)a[c][0]*a[c][1]>b[0]*b[1]&&(b=a[c]);return b}function t(a){var b,c={};a=a.querySelectorAll("Extension");Array.prototype.forEach.call(a,function(a){"StickyPricing"===a.getAttribute("type")&&(b=a)});b?(c=b.querySelector("Price"),c={currency:c.getAttribute("currency"),price:c.textContent||c.innerText}):p.logWarn("PREBID - freewheel-ssp: Can't get pricing data. Is price awareness enabled?");return c}function l(a){var b="";a=a.querySelectorAll("Ad");
Array.prototype.forEach.call(a,function(a){b+="["+a.getAttribute("id")+"]"});return b}function b(a){var b="mustang";a&&"inbanner"!==a&&(b=a);return b}var p=m.AV_biddersFactory.utils;var a=location.protocol&&0===location.protocol.indexOf("https")?"https":"http";var d=a+"://ads.stickyadstv.com/www/delivery/swfIndex.php",h=a+"://cdn.stickyadstv.com/mustang/mustang.min.js",g=a+"://cdn.stickyadstv.com/prime-time/",x=a+"://ads.stickyadstv.com/auto-user-sync";m.AV_biddersFactory.register("freewheel",{code:"freewheel-ssp",
supportedMediaTypes:["banner","video"],aliases:["stickyadstv"],isBidRequestValid:function(a){return!!a.params.zoneId},buildRequests:function(a,g){var h=a[0];1<a.length&&Utils.writeLog(Utils.logLevels.info,"Prebid.JS - freewheel bid adapter: only one ad unit is required.");a=h.params.zoneId;var f=(new Date).getTime();var l=a+""+f;var q=0;if(0!=l.length)for(var m=0;m<l.length;m++){var u=l.charCodeAt(m);q=(q<<5)-q+u;q&=q}l=q;a={reqType:"AdsSetup",protocolVersion:"2.0",zoneId:a,componentId:b(h.params.format),
timestamp:f,pKey:l};g.gdprConsent&&(a._fw_gdpr_consent=g.gdprConsent.consentString,"boolean"===typeof g.gdprConsent.gdprApplies&&(a._fw_gdpr=g.gdprConsent.gdprApplies));g=h.params.vastUrlParams;if("object"===typeof g)for(var e in g)g.hasOwnProperty(e)&&(a[e]=g[e]);e=p.getTopWindowUrl();g=e?/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e):
!1;g&&(a.loc=e);e=c(h.sizes);if(0<e[0]||0<e[1])a.playerSize=e[0]+"x"+e[1];return{method:"GET",url:d,data:a,bidRequest:h}},interpretResponse:function(a,d){d=d.bidRequest;var r=c(d.sizes);"object"==typeof a&&"string"==typeof a.body&&(a=a.body);try{var f=(new DOMParser).parseFromString(a,"application/xml")}catch(e){p.logWarn("Prebid.js - freewheel-ssp : "+e);return}var w=t(f),q=l(f);f=m;try{for(;top!==f;)f.parent.location.href.length&&(f=f.parent)}catch(e){}f.freewheelssp_cache||(f.freewheelssp_cache=
{});f.freewheelssp_cache[d.adUnitCode]=a;f=[];if(w.price){w={requestId:d.bidId,cpm:w.price,width:r[0],height:r[1],creativeId:q,currency:w.currency,netRevenue:!0,ttl:360};if((d.mediaTypes||{}).video)w.mediaType="video",d=new Blob([a],{type:"application/xml"}),w.vastUrl=m.URL.createObjectURL(d);else{q=d.params.format;a='<div id="freewheelssp_prebid_target" style="width:'+r[0]+"px;height:"+r[1]+'px;"></div>';if(q&&"inbanner"!==q){q=g+b(d.params.format)+".min.js";r=d.params;r.hasOwnProperty("domId")||
r.hasOwnProperty("auto")||r.hasOwnProperty("p")||r.hasOwnProperty("article")||("intext-roll"===r.format?r.iframeMode="dfp":r.domId="freewheelssp_prebid_target");var u="var config = {  preloadedVast:vast,  ASLoader:new window.com.stickyadstv.tools.ASLoader("+d.params.zoneId+", '"+b(d.params.format)+"')";for(x in r)r.hasOwnProperty(x)&&"format"!==x&&"zone"!==x&&"zoneId"!==x&&"vastUrlParams"!==x&&(u+=","+x+':"'+r[x]+'"');var x=u+="};window.com.stickyadstv."+(d.params.format||"").replace("-","")+".start(config);"}else q=
h,x='var config = {      preloadedVast:vast,      autoPlay:true    };    var ad = new window.com.stickyadstv.vpaid.Ad(document.getElementById("freewheelssp_prebid_target"),config);    (new window.com.stickyadstv.tools.ASLoader('+d.params.zoneId+", '"+b(d.params.format)+"')).registerEvents(ad);    ad.initAd("+r[0]+","+r[1]+',"",0,"","");';w.ad=a+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+q+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+
d.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+x+" }    });  };  document.head.appendChild(st);})();\x3c/script>"}f.push(w)}return f},getUserSyncs:function(a){if(a.pixelEnabled)return[{type:"image",url:x}]}})})(window);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};
(function(m){function c(a){var b=document.createElement("a");b.href=a;return b.hostname}function t(a,b){if(g.isStr(b))switch(a){case "pmzoneid":return b.split(",").slice(0,50).map(function(a){return a.trim()}).join();case "kadfloor":return parseFloat(b)||void 0;case "lat":return parseFloat(b)||void 0;case "lon":return parseFloat(b)||void 0;case "yob":return parseInt(b)||void 0;default:return b}else b&&Utils.writeLog(Utils.logLevels.info,"PubMatic: Ignoring param key: "+a+", expects string-value, found "+
("undefined"===typeof b?"undefined":_typeof(b)))}function l(a){var b={};b.pageURL=g.getTopWindowUrl();b.refURL=a&&a.referer?a.referer:"";return b}function b(a){return{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:a.pageURL,ref:a.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}function p(a,b,c){a="PubMatic: Ignoring param key: "+
a+", expects "+c+", found "+("undefined"===typeof b?"undefined":_typeof(b));switch(c){case v.BOOLEAN:if(!g.isBoolean(b)){Utils.writeLog(Utils.logLevels.info,a);break}return b;case v.NUMBER:if(!g.isNumber(b)){Utils.writeLog(Utils.logLevels.info,a);break}return b;case v.STRING:if(!g.isStr(b)){Utils.writeLog(Utils.logLevels.info,a);break}return b;case v.ARRAY:if(g.isArray(b))return b;Utils.writeLog(Utils.logLevels.info,a)}}function a(a,b){b={};var c={};c={};var d=a.hasOwnProperty("sizes")?a.sizes:[];
b={id:a.bidId,tagid:a.params.adUnit,bidfloor:t("kadfloor",a.params.kadfloor),secure:"https:"===m.location.protocol?1:0,ext:{pmZoneId:t("pmzoneid",a.params.pmzoneid)},bidfloorcur:a.params.currency?t("currency",a.params.currency):"USD"};if(a.params.hasOwnProperty("video")){d=a.params.video;for(var f in r)d.hasOwnProperty(f)&&(c[f]=p(f,d[f],r[f]));g.isArray(a.mediaTypes.video.playerSize[0])?(c.w=a.mediaTypes.video.playerSize[0][0],c.h=a.mediaTypes.video.playerSize[0][1]):g.isNumber(a.mediaTypes.video.playerSize[0])&&
(c.w=a.mediaTypes.video.playerSize[0],c.h=a.mediaTypes.video.playerSize[1]);a.params.video.hasOwnProperty("skippable")&&(c.ext={video_skippable:a.params.video.skippable?1:0});b.video=c}else{c={pos:0,w:a.params.width,h:a.params.height,topframe:g.inIframe()?0:1};if(g.isArray(d)&&1<d.length){d=d.splice(1,d.length-1);var h=[];d.forEach(function(a){h.push({w:a[0],h:a[1]})});c.format=h}b.banner=c}return b}function d(a){var b=[];var c=(c=m.DigiTrust&&(x.getConfig("digiTrustId")||m.DigiTrust.getUser({member:"nFIn8aLzbd"})))&&
c.success&&c.identity||null;c=!c||c.privacy&&c.privacy.optout?null:c;null!==c&&b.push({source:"digitru.st",uids:[{id:c.id||"",atype:1,ext:{keyv:parseInt(c.keyv)||0}}]});0<b.length&&(a.user.eids=b)}function h(a,b){b=b.filter(function(a){return"string"===typeof a?!0:!1}).map(function(a){return a.trim()}).filter(function(a,b,c){if(3<a.length)return c.indexOf(a)===b});0<b.length&&(a.bcat=b)}var g=m.AV_biddersFactory.utils,x=m.AV_biddersFactory.config,u={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",
profId:"",verId:""},v={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array"},r={mimes:v.ARRAY,minduration:v.NUMBER,maxduration:v.NUMBER,startdelay:v.NUMBER,playbackmethod:v.ARRAY,api:v.ARRAY,protocols:v.ARRAY,w:v.NUMBER,h:v.NUMBER,battr:v.ARRAY,linearity:v.NUMBER,placement:v.NUMBER,minbitrate:v.NUMBER,maxbitrate:v.NUMBER},f={1:"PMP",5:"PREF",6:"PMPG"},w=0;m.AV_biddersFactory.register("pubmatic",{code:"pubmatic",supportedMediaTypes:[m.AV_biddersFactory.BANNER,m.AV_biddersFactory.VIDEO],
isBidRequestValid:function(a){return a&&a.params?g.isStr(a.params.publisherId)&&g.isStr(a.params.adSlot)&&(!a.params.hasOwnProperty("video")||a.params.video.hasOwnProperty("mimes")&&g.isArray(a.params.video.mimes)&&0!==a.params.video.mimes.length)?!0:!1:!1},buildRequests:function(f,m){if(m&&m.refererInfo)var q=m.refererInfo;var e=l(q),p=b(e),r="",x="",C=[],v,J=[];f.forEach(function(b){v=g.deepClone(b);b=v;b.params.adUnit="";b.params.adUnitIndex="0";b.params.width=0;b.params.height=0;var c=b.hasOwnProperty("sizes")&&
g.isArray(b.sizes)&&1<=b.sizes.length,d=b.params;var f=b.params.adSlot;f=g.isStr(f)?f.replace(/^\s+/g,"").replace(/\s+$/g,""):"";d.adSlot=f;d=b.params.adSlot;f=d.split(":");d=f[0];2==f.length&&(b.params.adUnitIndex=f[1]);f=d.split("@");if(2==f.length||c)b.params.adUnit=f[0],1<f.length?(f=f[1].split("x"),2==f.length&&(b.params.width=parseInt(f[0]),b.params.height=parseInt(f[1]),delete b.sizes)):c&&(b.params.width=parseInt(b.sizes[0][0]),b.params.height=parseInt(b.sizes[0][1]));if(v.params.hasOwnProperty("video")){if(!(v.params.adSlot&&
v.params.adUnit&&v.params.adUnitIndex))return}else if(!(v.params.adSlot&&v.params.adUnit&&v.params.adUnitIndex&&v.params.width&&v.params.height))return;e.pubId=e.pubId||v.params.publisherId;b=v.params;c=e;c.kadpageurl||(c.kadpageurl=c.pageURL);for(var h in u)u.hasOwnProperty(h)&&(d=b[h])&&(f=u[h],"object"===("undefined"===typeof f?"undefined":_typeof(f))&&(d=f.f(d,c)),g.isStr(d)&&(c[h]=d));e=c;e.transactionId=v.transactionId;""===r?r=v.params.currency||void 0:v.params.hasOwnProperty("currency");v.params.currency=
r;v.params.hasOwnProperty("dctr")&&g.isStr(v.params.dctr)&&C.push(v.params.dctr);v.params.hasOwnProperty("bcat")&&g.isArray(v.params.bcat)&&(J=J.concat(v.params.bcat));p.imp.push(a(v,e))});if(0!=p.imp.length)return p.site.publisher.id=e.pubId.trim(),w=e.pubId.trim(),p.ext.wrapper={},p.ext.wrapper.profile=parseInt(e.profId)||void 0,p.ext.wrapper.version=parseInt(e.verId)||void 0,p.ext.wrapper.wiid=e.wiid||void 0,p.ext.wrapper.wv="prebid_prebid_2.15.0",p.ext.wrapper.transactionId=e.transactionId,p.ext.wrapper.wp=
"pbjs",p.user.gender=e.gender?e.gender.trim():void 0,p.user.geo={},m&&m.gdprConsent&&(p.user.ext={consent:m.gdprConsent.consentString},p.regs={ext:{gdpr:m.gdprConsent.gdprApplies?1:0}}),p.user.geo.lat=t("lat",e.lat),p.user.geo.lon=t("lon",e.lon),p.user.yob=t("yob",e.yob),p.device.geo=p.user.geo,p.site.page=e.kadpageurl.trim()||p.site.page.trim(),p.site.domain=c(p.site.page),0<C.length&&f[0].params.hasOwnProperty("dctr")&&(x=f[0].params.dctr,g.isStr(x)&&0<x.length&&(f=x.split("|"),x="",f.forEach(function(a){x+=
0<a.length?a.trim()+"|":""}),f=x.length,"|"===x.substring(f,f-1)&&(x=x.substring(0,f-1)),p.site.ext={key_val:x.trim()})),d(p),h(p,J),{method:"POST",url:"//hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(p)}},interpretResponse:function(a,b){var c=[],d="USD";try{a.body&&a.body.seatbid&&g.isArray(a.body.seatbid)&&(d=a.body.cur||d,a.body.seatbid.forEach(function(a){a.bid&&g.isArray(a.bid)&&a.bid.forEach(function(a){var e={requestId:a.impid,cpm:(parseFloat(a.price)||0).toFixed(2),
width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:d,netRevenue:!1,ttl:300,referrer:g.getTopWindowUrl(),ad:a.adm},h=JSON.parse(b.data);h.imp&&0<h.imp.length&&h.imp.forEach(function(b){a.impid===b.id&&b.hasOwnProperty("video")&&(e.mediaType="video",e.width=a.hasOwnProperty("w")?a.w:b.video.w,e.height=a.hasOwnProperty("h")?a.h:b.video.h,e.vastXml=a.adm)});a.ext&&a.ext.deal_channel&&(e.dealChannel=f[a.ext.deal_channel]||null);e.meta={};a.ext&&a.ext.dspid&&(e.meta.networkId=a.ext.dspid);
a.ext&&a.ext.advid&&(e.meta.buyerId=a.ext.advid);a.adomain&&0<a.adomain.length&&(e.meta.clickUrl=a.adomain[0]);c.push(e)})}))}catch(y){}return c},getUserSyncs:function(a,b,c){b="//ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+w;c&&(b+="&gdpr="+(c.gdprApplies?1:0),b+="&gdpr_consent="+encodeURIComponent(c.consentString||""));if(a.iframeEnabled)return[{type:"iframe",url:b}]},transformBidParams:function(a,b){return g.convertTypes({publisherId:"string",adSlot:"string"},a)}})})(window);
(function(m){function c(b,c){if(!t.isArray(b.sizes)||2!==b.sizes.length||isNaN(b.sizes[0])||isNaN(b.sizes[1]))"object"===typeof b.sizes&&(a=b.sizes[0][0],d=b.sizes[0][1]);else{var a=b.sizes[0];var d=b.sizes[1]}if(a&&d){var h=("https:"===document.location.protocol?"https":"http")+"://"+b.params.supplyCode+".ads.tremorhub.com/ad/tag?adCode="+b.params.adCode;h+="&playerWidth="+a;h+="&playerHeight="+d;h+="&srcPageUrl="+encodeURIComponent(Utils.getTrueDomain());h+="&transactionId="+b.transactionId+"&hb=1";
l.forEach(function(a){b.params[a]&&(h+="&"+a+"="+b.params[a])});c&&c.gdprConsent&&c.gdprConsent.gdprApplies&&c.gdprConsent.consentString&&(h+="&gdpr=1&gdpr_consent="+c.gdprConsent.consentString);return h+="&fmt=json"}}var t=m.AV_biddersFactory.utils,l="mediaId mediaUrl mediaTitle contentLength floor efloor custom categories keywords blockDomains c2 c3 c4 skip skipmin skipafter delivery placement videoMinBitrate videoMaxBitrate".split(" ");m.AV_biddersFactory.register("tremor",{isBidRequestValid:function(b){if(b.params.adCode&&
b.params.supplyCode)return b;Utils.writeLog(Utils.logLevels.error,"missing bid params");return!1},buildRequests:function(b,l){b=b[0]||[];if((l=c(b,l))&&this.isBidRequestValid(b))return{method:"GET",url:l}},interpretResponse:function(b,c){b=b.body;var a={};b&&!b.error||Utils.writeLog(Utils.logLevels.error,"no response for tremor adapter");b.seatbid&&0<b.seatbid.length&&b.seatbid[0].bid.forEach(function(b){var c={};if(b){var d=new Blob([b.adm],{type:"application/xml"});c.vastUrl=m.URL.createObjectURL(d);
c.cpm=b.price;c.mediaType="video"}a=c});return[a]}})})(window);
(function(m){var c=m.AV_biddersFactory.utils,t=m.AV_biddersFactory.STATUS;m.AV_biddersFactory.register("spotx",{code:"spotx",av_async:!0,validateParams:function(c){return"object"!==typeof c.params&&"object"!==typeof c.params.video||void 0===c.params.video.channel_id||void 0===c.params.video.slot||void 0===c.params.video.video_slot?!1:!0},buildRequests:function(l,b,p){this.bidCallback=p;var a=this,d=l.bids?l.bids[0]||[]:l;d=d[0]?d[0]:d;l=d.params.video.channel_id;m.SpotX&&m.SpotX.DirectAdOS?this.initDSDK(d):
c.loadScript("//js.spotx.tv/directsdk/v1/"+l+".js",function(){a.initDSDK(d)})},interpretResponse:function(c,b){return b&&b.vastUrl?[{vastUrl:b.vastUrl,cpm:b.cpm}]:{}},initDSDK:function(l){var b=l.params.video,p=this;b.slot=m.AV_player.config.slot.querySelector("#videoslot");m.spotxVid||(m.spotxVid=document.createElement("video"));b.video_slot=m.spotxVid;(new SpotX.DirectAdOS(b)).getAdServerKVPs().then(function(a){var b={};b.cmpID=l.params.video.channel_id;b.cpm=a.spotx_bid;b.url=a.spotx_ad_key;b.cur=
"USD";b.bidderCode="spotx";var h=c.isArray(l.sizes[0])?l.sizes[0]:l.sizes;b.height=h[1];b.width=h[0];p.createBid(t.GOOD,l,b,a)},function(){p.createBid(t.NO_BID,l,{})})},createBid:function(l,b,m,a){m.bidderCode=b.bidder;m.placementCode=b.placementCode;m.requestId=b.requestId;m.code=b.bidder;l===t.GOOD&&a&&(l="//search.spotxchange.com/ad/vast.html?key="+a.spotx_ad_key,m.mediaType="video",m.cpm=a.spotx_bid,m.vastUrl=l,m.spotx_ad_key=a.spotx_ad_key,b=c.isArray(b.sizes[0])?b.sizes[0]:b.sizes,m.height=
b[1],m.width=b[0]);this.bidCallback(m)}})})(window);
(function(m){var c=m.AV_biddersFactory.utils;m.AV_biddersFactory.register("spotx2",{code:"spotx2",aliases:["spotx"],supportedMediaTypes:["video"],isBidRequestValid:function(c){return!0},buildRequests:function(m,l){var b=l.refererInfo.referer,p=!!b.match(/^https:/);return m.map(function(a){var d=c.getBidIdParameter("channel_id",a.params),h=null,g=c.deepAccess(a,"mediaTypes.video.playerSize"),m=g[0];g=g[1];var u=p||(c.getBidIdParameter("secure",a.params)?1:0),t={sdk_name:"Prebid 1+",versionOrtb:"2.3"};
""!==c.getBidIdParameter("ad_volume",a.params)&&(t.ad_volume=c.getBidIdParameter("ad_volume",a.params));""!==c.getBidIdParameter("ad_mute",a.params)&&(t.ad_mute=c.getBidIdParameter("ad_mute",a.params));""!==c.getBidIdParameter("hide_skin",a.params)&&(t.hide_skin=c.getBidIdParameter("hide_skin",a.params));""!==c.getBidIdParameter("ad_unit",a.params)&&(t.ad_unit=c.getBidIdParameter("ad_unit",a.params));""!==c.getBidIdParameter("outstream_options",a.params)&&(t.outstream_options=c.getBidIdParameter("outstream_options",
a.params));""!==c.getBidIdParameter("outstream_function",a.params)&&(t.outstream_function=c.getBidIdParameter("outstream_function",a.params));""!==c.getBidIdParameter("custom",a.params)&&(t.custom=c.getBidIdParameter("custom",a.params));if(""!==c.getBidIdParameter("pre_market_bids",a.params)&&c.isArray(c.getBidIdParameter("pre_market_bids",a.params))){var r=c.getBidIdParameter("pre_market_bids",a.params);t.pre_market_bids=[];for(var f in r){var w=r[f],q="";w.vast_url?q='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+
w.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":w.vast_string&&(q=w.vast_string);t.pre_market_bids.push({id:w.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:w.deal_id,price:w.price,adm:q}]}],cur:w.currency,ext:{event_log:[{}]}})}}f=c.getBidIdParameter("mimes",a.params)||["application/javascript","video/mp4","video/webm"];m={id:a.bidId,secure:u,video:{w:m,h:g,ext:t,mimes:f}};""!==c.getBidIdParameter("price_floor",a.params)&&(m.bidfloor=c.getBidIdParameter("price_floor",a.params));""!==c.getBidIdParameter("start_delay",
a.params)&&(m.video.startdelay=0+!!c.getBidIdParameter("start_delay",a.params));a.crumbs&&a.crumbs.pubcid&&(h=a.crumbs.pubcid);g=navigator.language?"language":"userLanguage";g={h:screen.height,w:screen.width,dnt:c.getDNT()?1:0,language:navigator[g].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent};m={id:d,imp:m,site:{id:"",page:b,content:"content"},device:g,ext:{wrap_response:1}};c.getBidIdParameter("number_of_ads",a.params)&&(m.ext.number_of_ads=c.getBidIdParameter("number_of_ads",
a.params));a={};m.regs={ext:{gdpr:0}};l&&l.gdprConsent&&(a.consent=l.gdprConsent.consentString,"undefined"!==typeof l.gdprConsent.gdprApplies&&(m.regs={ext:{gdpr:l.gdprConsent.gdprApplies?1:0}}));h&&(a.fpc=h);c.isEmpty(a)||(m.user={ext:a});return{method:"POST",url:"//search.spotxchange.com/openrtb/2.3/dados/"+d,data:m,bidRequest:l}})},interpretResponse:function(m,l){var b=[],p=m.body;p&&c.isArray(p.seatbid)&&c._each(p.seatbid,function(a){c._each(a.bid,function(a){var d={},g;for(g in l.bidRequest.bids)a.impid==
l.bidRequest.bids[g].bidId&&(d=l.bidRequest.bids[g]);c._each(d.params.pre_market_bids,function(b){b.deal_id==a.id&&(a.price=b.price,p.cur=b.currency)});b.push({requestId:d.bidId,currency:p.cur||"USD",cpm:a.price,creativeId:a.crid||"",ttl:360,netRevenue:!0,channel_id:p.id,cache_key:a.ext.cache_key,vastUrl:"//search.spotxchange.com/ad/vast.html?key="+a.ext.cache_key,mediaType:"video",width:a.w,height:a.h})})});return b}})})(window);
(function(m){function c(a){return a?a.length?a[0]:{w:a.w,h:a.h}:{w:void 0,h:void 0}}function t(a){a=x.deepAccess(a,"mediaTypes.video.playerSize")||a.sizes;var b=a[1];return{w:parseInt(a[0],10)||void 0,h:parseInt(b,10)||void 0}}function l(a){return x.deepAccess(a,"mediaTypes.video")}function b(a,b){return x.deepAccess(a,"params.video."+b)||x.deepAccess(a,"params."+b)}function p(a,b){return x.deepAccess(a,"params.banner."+b)||x.deepAccess(a,"params."+b)}function a(a){return l(a)&&b(a,"appId")&&b(a,
"bidfloor")}function d(a){return Object.keys(Object(a.params.video)).filter(function(a){return u(w,a)}).reduce(function(b,c){b[c]=a.params.video[c];return b},{})}function h(a,h){var e=t(a);e=c(e);var l=d(a),p=b(a,"appId");a=b(a,"bidfloor");var r=h&&h.refererInfo&&h.refererInfo.referer;r=f(g.getConfig("pageUrl")||r,{decodeSearchAsString:!0});e={isPrebid:!0,appId:p,domain:document.location.hostname,id:x.getUniqueIdentifierStr(),imp:[{video:Object.assign({w:e.w,h:e.h,mimes:q},l),bidfloor:a,secure:"https:"===
r.protocol?1:0}],site:{page:r.href,domain:r.hostname},device:{ua:navigator.userAgent,language:navigator.language,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appvarv|googvarv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:"1"===navigator.doNotTrack||"1"===m.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack?1:0,js:1,geo:{}},regs:{},user:{},cur:["USD"]};e.regs.ext={gdpr:0};
h&&h.gdprConsent&&(h=h.gdprConsent,l=h.consentString,e.regs.ext={gdpr:h.gdprApplies?1:0},e.user.ext={consent:l});return e}var g=m.AV_biddersFactory.config,x=m.AV_biddersFactory.utils,u=m.AV_biddersFactory.includes,v=m.AV_biddersFactory.VIDEO,r=m.AV_biddersFactory.BANNER,f=m.AV_biddersFactory.parse,w=["mimes","playbackmethod","maxduration"],q=["video/mp4","application/javascript"],C="",B={code:"beachfront",supportedMediaTypes:[v,r],isBidRequestValid:function(b){var c;(c=a(b))||(c=(x.deepAccess(b,"mediaTypes.banner")||
!l(b))&&p(b,"appId")&&p(b,"bidfloor"));return!!c},buildRequests:function(c,d){var e=[];c.filter(function(b){return a(b)}).forEach(function(a){C=b(a,"appId");e.push({method:"POST",url:"//reachms.bfmio.com/bid.json?exchange_id="+C,data:h(a,d),bidRequest:a})});return e},interpretResponse:function(a,b){var d=b.bidRequest;a=a.body;if(l(d)){if(!a||!a.url||!a.bidPrice)return[];b=t(d);b=c(b);x.deepAccess(d,"mediaTypes.video.context");return{requestId:d.bidId,bidderCode:B.code,vastUrl:a.url,cpm:a.bidPrice,
width:b.w,height:b.h,creativeId:a.cmpId,renderer:null,mediaType:v,currency:"USD",netRevenue:!0,ttl:300}}return a&&a.length?a.filter(function(a){return a.adm}).map(function(a){return{requestId:find(d,function(b){return b.adUnitCode===a.slot}).bidId,bidderCode:B.code,ad:a.adm,creativeId:a.crid,cpm:a.price,width:a.w,height:a.h,mediaType:r,currency:"USD",netRevenue:!0,ttl:300}}):[]},getUserSyncs:function(a,b,c){c=void 0===c?{}:c;b=[];var d=c;c=d.gdprApplies;d=d.consentString;a.iframeEnabled?b.push({type:"iframe",
url:"//sync.bfmio.com/sync_iframe?ifg=1&id="+C+"&gdpr="+(c?1:0)+"&gc="+(d||"")+"&gce=1"}):a.pixelEnabled&&b.push({type:"image",url:"//sync.bfmio.com/syncb?pid=144&id="+C+"&gdpr="+(c?1:0)+"&gc="+(d||"")+"&gce=1"});return b}};m.AV_biddersFactory.register("beachfront",B)})(window);
(function(m){function c(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return c(a)}function t(a,b){var c=Array.isArray(a)?a:void 0;if(!c){c=[];var d=!0,f=!1,e=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();
for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(D){f=!0,e=D}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(f)throw e;}}}if(!(a=c))throw new TypeError("Invalid attempt to destructure non-iterable instance");return a}function l(){var a=(a=m.DigiTrust&&(x.getConfig("digiTrustId")||m.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&a.success&&a.identity||null;return!a||a.privacy&&a.privacy.optout?[]:{"dt.id":a.id,"dt.keyv":a.keyv,"dt.pref":0}}
function b(a,b){var c=x.getConfig("pageUrl");a.params.referrer?c=a.params.referrer:c||(c=b.refererInfo.referer);return a.params.secure?c.replace(/^http:/i,"https:"):c}function p(a,b){return"<html>\n<head><script type='text/javascript'>inDapIF=true;\x3c/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(b,"'>\n<script type='text/javascript'>").concat(a,"\x3c/script>\n</div>\n</body>\n</html>")}function a(a,b){var c=a.params;
if("video"===b)return b=[],c.video&&c.video.playerWidth&&c.video.playerHeight?b=[c.video.playerWidth,c.video.playerHeight]:Array.isArray(g.deepAccess(a,"mediaTypes.video.playerSize"))&&2===a.mediaTypes.video.playerSize.length?b=a.mediaTypes.video.playerSize:Array.isArray(a.sizes)&&0<a.sizes.length&&Array.isArray(a.sizes[0])&&2===a.sizes.length&&(b=a.sizes),b}function d(a,d,g){a&&("object"===c(x.getConfig("app"))?a.app=x.getConfig("app"):a.site={page:b(d,g)},"object"===c(x.getConfig("device"))&&(a.device=
x.getConfig("device")),d.params.video.language&&["site","device"].forEach(function(b){a[b]&&(a[b].content=Object.assign({language:d.params.video.language},a[b].content))}))}function h(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;var f="object"!==c(g.deepAccess(b,"params.video"))?!1:"undefined"!==typeof g.deepAccess(b,"mediaTypes.".concat("video"));if(f)if(-1===["outstream","instream"].indexOf(g.deepAccess(b,"mediaTypes.".concat("video",".context"))))d&&Utils.writeLog(Utils.logLevels.error,
"Rubicon bid adapter requires mediaTypes.video.context to be one of outstream or instream");else if(2>a(b,"video").length)d&&Utils.writeLog(Utils.logLevels.error,"Rubicon bid adapter could not determine the playerSize of the video\nplayerWidth and playerHeight are inferred from one of params.playerWidth/playerHeight or mediaTypes.video.playerSize or adUnit.sizes, in that order");else return d&&Utils.writeLog(Utils.logLevels.info,"Rubicon bid adapter making video request for adUnit",b.adUnitCode),
"video"}var g=m.AV_biddersFactory.utils,x=m.AV_biddersFactory.config,u=!1,v={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",
67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",229:"320x180",232:"580x400",257:"400x600"};g._each(v,function(a,b){return v[a]=b});var r={code:"rubicon2",aliases:["rubicon"],
supportedMediaTypes:["video"],isBidRequestValid:function(a){return!0},buildRequests:function(b,l){var f=[];f=b.filter(function(a){return"video"===h(a)}).map(function(b){b.startTime=(new Date).getTime();var e=b.transactionId,f=x.getConfig("debug")?1:0,h={tid:b.transactionId},q=x.getConfig("TTL")||1E3,p=[{exp:300,id:b.adUnitCode,secure:"https:"===location.protocol||b.params.secure?1:0,ext:{rubicon:b.params},video:g.deepAccess(b,"mediaTypes.video")||{}}];var r=x;r={ranges:{low:[{max:5,increment:.5}],
medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:r.getConfig("customPriceBucket")&&r.getConfig("customPriceBucket").buckets}[r.getConfig("priceGranularity")]};e={id:e,test:f,cur:["USD"],source:h,tmax:q,imp:p,ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,priceGranularity:r}}}};
f=parseFloat(g.deepAccess(b,"params.floor"));isNaN(f)||(e.imp[0].bidfloor=f);f=e.imp[0].ext.rubicon.video;h=parseInt(g.deepAccess(b,"params.video.size_id"));h=isNaN(h)?"outstream"===g.deepAccess(b,"mediaTypes.".concat("video",".context"))?203:201:h;f.size_id=h;d(e,b,l);"object"===c(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=b.params.video.skip);"object"===c(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=b.params.video.skipdelay);"object"===c(e.imp[0].video)&&
void 0===e.imp[0].video.pos&&(e.imp[0].video.pos="atf"===b.params.position?1:"btf"===b.params.position?3:0);f=a(b,"video");e.imp[0].video.w=f[0];e.imp[0].video.h=f[1];f=(f=m.DigiTrust&&(x.getConfig("digiTrustId")||m.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&f.success&&f.identity||null;if(f=!f||f.privacy&&f.privacy.optout?null:{id:f.id,keyv:f.keyv,pref:0})e.user={ext:{digitrust:f}};if(l.gdprConsent){var u;"boolean"===typeof l.gdprConsent.gdprApplies&&(u=l.gdprConsent.gdprApplies?1:0);e.regs?e.regs.ext?
e.regs.ext.gdpr=u:e.regs.ext={gdpr:u}:e.regs={ext:{gdpr:u}};u=l.gdprConsent.consentString;e.user?e.user.ext?e.user.ext.consent=u:e.user.ext={consent:u}:e.user={ext:{consent:u}}}return{method:"POST",url:"//prebid-server.rubiconproject.com/openrtb2/auction",data:e,bidRequest:b}});if(!0!==x.getConfig("rubicon.singleRequest"))f=f.concat(b.filter(function(a){return"banner"===h(a)}).map(function(a){var b=r.createSlotParams(a,l);return{method:"GET",url:"//fastlane.rubiconproject.com/a/api/fastlane.json",
data:r.getOrderedParams(b).reduce(function(a,c){var d=b[c];return g.isStr(d)&&""!==d||g.isNumber(d)?"".concat(a).concat(c,"=").concat(encodeURIComponent(d),"&"):a},"")+"slots=1&rand=".concat(Math.random()),bidRequest:a}}));else{var p=b.filter(function(a){return"banner"===h(a)}).reduce(function(a,b){(a[b.params.siteId]=a[b.params.siteId]||[]).push(b);return a},{});f=f.concat(Object.keys(p).map(function(a){a=p[a];10<a.length&&(Utils.writeLog(Utils.logLevels.defaultLevel,"Rubicon bid adapter Warning: single request mode has a limit of 10 bids: ".concat(a.length-
10," bids were not sent")),a=a.slice(0,10));var b=r.combineSlotUrlParams(a.map(function(a){return r.createSlotParams(a,l)}));return{method:"GET",url:"//fastlane.rubiconproject.com/a/api/fastlane.json",data:r.getOrderedParams(b).reduce(function(a,c){var d=b[c];return g.isStr(d)&&""!==d||g.isNumber(d)?"".concat(a).concat(c,"=").concat(encodeURIComponent(d),"&"):a},"")+"slots=".concat(a.length,"&rand=").concat(Math.random()),bidRequest:a}}))}return f},getOrderedParams:function(a){var b=/^tg_v/,c=/^tg_i/,
d="account_id site_id zone_id size_id alt_size_ids p_pos gdpr gdpr_consent rf dt.id dt.keyv dt.pref p_geo.latitude p_geo.longitude kw".split(" ").concat(Object.keys(a).filter(function(a){return b.test(a)})).concat(Object.keys(a).filter(function(a){return c.test(a)})).concat("tk_flint x_source.tid p_screen_res rp_floor rp_secure tk_user_key".split(" "));return d.concat(Object.keys(a).filter(function(a){return-1===d.indexOf(a)}))},combineSlotUrlParams:function(a){if(1===a.length)return a[0];var b=a.reduce(function(b,
c,d){Object.keys(c).forEach(function(e){b.hasOwnProperty(e)||(b[e]=Array(a.length));b[e].splice(d,1,c[e])});return b},{}),c=/^([^;]*)(;\1)+$/;Object.keys(b).forEach(function(a){var d=b[a].join(";"),e=d.match(c);b[a]=e?e[1]:d});return b},createSlotParams:function(d,g){d.startTime=(new Date).getTime();var f=d.params,h=a(d,"banner"),r=t(f.latLong||[],2),e=r[0];r=r[1];var p={account_id:f.accountId,site_id:f.siteId,zone_id:f.zoneId,size_id:h[0],alt_size_ids:h.slice(1).join(",")||void 0,p_pos:"atf"===f.position||
"btf"===f.position?f.position:"unknown",rp_floor:.01<(f.floor=parseFloat(f.floor))?f.floor:.01,rp_secure:"https:"===location.protocol?"1":"0",tk_flint:INTEGRATION,"x_source.tid":d.transactionId,p_screen_res:[m.screen.width,m.screen.height].join("x"),kw:Array.isArray(f.keywords)?f.keywords.join(","):"",tk_user_key:f.userId,"p_geo.latitude":isNaN(parseFloat(e))?void 0:parseFloat(e).toFixed(4),"p_geo.longitude":isNaN(parseFloat(r))?void 0:parseFloat(r).toFixed(4),"tg_fl.eid":d.code,rf:b(d,g)};g.gdprConsent&&
("boolean"===typeof g.gdprConsent.gdprApplies&&(p.gdpr=Number(g.gdprConsent.gdprApplies)),p.gdpr_consent=g.gdprConsent.consentString);null!==f.visitor&&"object"===c(f.visitor)&&Object.keys(f.visitor).forEach(function(a){null!=f.visitor[a]&&(p["tg_v.".concat(a)]=f.visitor[a].toString())});null!==f.inventory&&"object"===c(f.inventory)&&Object.keys(f.inventory).forEach(function(a){null!=f.inventory[a]&&(p["tg_i.".concat(a)]=f.inventory[a].toString())});var u=l();Object.keys(u).forEach(function(a){p[a]=
u[a]});return p},interpretResponse:function(a,b){var d=b.bidRequest;a=a.body;if(!a||"object"!==c(a))return[];if(a.seatbid){b=g.deepAccess(a,"ext.errors.rubicon");Array.isArray(b)&&0<b.length&&b.forEach(function(a){Utils.writeLog(Utils.logLevels.error,"Got error from PBS Java openRTB: "+a)});var f=[];a.seatbid.forEach(function(b){(b.bid||[]).forEach(function(e){var h={requestId:d.bidId,currency:a.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:b.seat,ttl:300,netRevenue:x.getConfig("rubicon.netRevenue")||
!1,width:e.w||g.deepAccess(d,"mediaTypes.video.w")||g.deepAccess(d,"params.video.playerWidth"),height:e.h||g.deepAccess(d,"mediaTypes.video.h")||g.deepAccess(d,"params.video.playerHeight")};e.dealid&&(h.dealId=e.dealid);var l=g.deepAccess(a,"ext.responsetimemillis.rubicon");d&&l&&(d.serverResponseTimeMs=l);"video"===g.deepAccess(e,"ext.prebid.type")?(h.mediaType="video",(l=g.deepAccess(e,"ext.prebid.targeting"))&&"object"===c(l)&&(h.adserverTargeting=l),e.ext.prebid.cache&&"object"===c(e.ext.prebid.cache.vastXml)&&
e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(h.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,h.vastUrl=e.ext.prebid.cache.vastXml.url):l&&l.hb_uuid&&l.hb_cache_host&&l.hb_cache_path&&(h.videoCacheKey=l.hb_uuid,h.vastUrl="https://".concat(l.hb_cache_host).concat(l.hb_cache_path,"?uuid=").concat(l.hb_uuid)),e.adm&&(h.vastXml=e.adm),e.nurl&&(h.vastUrl=e.nurl),!h.vastUrl&&e.nurl&&(h.vastUrl=e.nurl)):Utils.writeLog(Utils.logLevels.error,"Prebid Server Java openRTB returns response with media type other than video for video request.");
f.push(h)})});return f}b=a.ads;"object"!==c(d)||Array.isArray(d)||"video"!==h(d)||"object"!==c(b)||(b=b[d.adUnitCode]);return!Array.isArray(b)||1>b.length?[]:b.reduce(function(b,e,f){if("ok"!==e.status)return b;var g=Array.isArray(d)?d[f]:d;if(g&&"object"===c(g)){f={requestId:g.bidId,currency:"USD",creativeId:e.creative_id||"".concat(e.network||"","-").concat(e.advertiser||""),cpm:e.cpm||0,dealId:e.deal,ttl:300,netRevenue:x.getConfig("rubicon.netRevenue")||!1,rubicon:{advertiserId:e.advertiser,networkId:e.network}};
e.creative_type&&(f.mediaType=e.creative_type);if("video"===e.creative_type)f.width=g.params.video.playerWidth,f.height=g.params.video.playerHeight,f.vastUrl=e.creative_depot_url,f.impression_id=e.impression_id,f.videoCacheKey=e.impression_id;else{f.ad=p(e.script,e.impression_id);var h=v[e.size_id].split("x").map(function(a){return Number(a)});h=t(h,2);f.width=h[0];f.height=h[1]}f.rubiconTargeting=(Array.isArray(e.targeting)?e.targeting:[]).reduce(function(a,b){a[b.key]=b.values[0];return a},{rpfl_elemid:g.adUnitCode});
b.push(f)}else Utils.writeLog(Utils.logLevels.error,"Rubicon bid adapter Error: bidRequest undefined at index position:".concat(f),d,a);return b},[]).sort(function(a,b){return(b.cpm||0)-(a.cpm||0)})},getUserSyncs:function(a,b,c){if(!u&&a.iframeEnabled)return a="",c&&"string"===typeof c.consentString&&(a="boolean"===typeof c.gdprApplies?a+"?gdpr=".concat(Number(c.gdprApplies),"&gdpr_consent=").concat(c.consentString):a+"?gdpr_consent=".concat(c.consentString)),u=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+
a}},transformBidParams:function(a,b){return g.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},a)}};m.AV_biddersFactory.register("rubicon2",r)})(window);
(function(m){function c(a){return{domain:l(function(){var a=r.document.location.ancestorOrigins;return a&&0<a.length?a[a.length-1]:r.top.document.location.hostname},""),page:l(function(){try{var a=r.top.document.location.href.toString()}catch(q){a=r.document.location.href.toString()}return a},""),ref:l(function(){return a&&a.refererInfo?a.refererInfo.referer:""},"")}}function t(a,b){for(var c=0;c<b.length;c++)if(b[c].params&&b[c].params[a])return b[c].params[a]}function l(a,b){try{return a()}catch(q){}return b}
var b=m.AV_biddersFactory.utils,p=m.AV_biddersFactory.config,a=[2,3,5,6],d=["video/mp4"],h=[1,2,3,4],g=[1],x=[1,2,5],u={},v=Date.now(),r="undefined"!==typeof m?m:{};m.AV_biddersFactory.register("rhythmone",{code:"rhythmone",aliases:["rhythmone"],supportedMediaTypes:["video"],win:"undefined"!==typeof m?m:{},isBidRequestValid:function(a){return!0},getUserSyncs:function(a,b,c){b=[];var d=[],g;for(g in u)b.push(g),d.push(t("placementId",[u[g]]));d={doc_version:1,doc_type:"Prebid Audit",placement_id:d.join(",").replace(/[,]+/g,
",").replace(/^,|,$/g,"")};var e="undefined"!==typeof m?m:{document:{location:{href:""}}},f=e.document.location.ancestorOrigins,h=[];f&&0<f.length&&(d.ancestor_origins=f[f.length-1]);d.popped=null!==e.opener?1:0;d.framed=e.top===e?0:1;try{d.url=e.top.document.location.href.toString()}catch(D){d.url=e.document.location.href.toString()}try{d.prebid_version="2.8.0",d.prebid_timeout=p.getConfig("bidderTimeout")}catch(D){}d.response_ms=Date.now()-v;d.placement_codes=b.join(",");d.bidder_version="1.0.2.1";
c&&(d.gdpr_consent=c.consentString,d.gdpr="boolean"===typeof c.gdprApplies?c.gdprApplies:!1);for(g in d)h.push(encodeURIComponent(g)+"="+encodeURIComponent("object"===typeof d[g]?JSON.stringify(d[g]):d[g]));h.sort();if(a.pixelEnabled)return[{type:"image",url:"//hbevents.1rx.io/audit?"+h.join("&")}]},buildRequests:function(f,l){var m=t("placementId",f);if(void 0===m||1>f.length)return[];var p=t("endpoint",f)||"//tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}",w=t("zone",f)||"1r",e=t("path",f)||"mvo";
p=p.replace(/\{placementId\}/i,m);p=p.replace(/\{zone\}/i,w);p=p.replace(/\{path\}/i,e);m=/(^v|(\.0)+$)/gi;p+="&hbv="+"2.8.0".replace(m,"")+","+"1.0.2.1".replace(m,"");m=f[0].bidderRequestId;w=[];for(e=0;e<f.length;e++){u[f[e].adUnitCode||f[e].placementCode]=f[e];var y={};y.id=f[e].adUnitCode;y.bidfloor=parseFloat(b.deepAccess(f[e],"params.floor"))||0;y.secure="https:"===r.location.protocol?1:0;if(b.deepAccess(f[e],"mediaTypes.video")||"video"===b.deepAccess(f[e],"mediaType")){var G=y;var D=f[e];
var z=[];b.deepAccess(D,"mediaTypes.video.playerSize")&&(b.isArray(D.mediaTypes.video.playerSize[0])?z=D.mediaTypes.video.playerSize[0]:b.isNumber(D.mediaTypes.video.playerSize[0])&&(z=D.mediaTypes.video.playerSize));D={mimes:b.deepAccess(D,"mediaTypes.video.mimes")||d,protocols:b.deepAccess(D,"mediaTypes.video.protocols")||a,w:z[0],h:z[1],startdelay:b.deepAccess(D,"mediaTypes.video.startdelay")||0,skip:b.deepAccess(D,"mediaTypes.video.skip")||0,playbackmethod:b.deepAccess(D,"mediaTypes.video.playbackmethod")||
h,delivery:b.deepAccess(D,"mediaTypes.video.delivery")||g,api:b.deepAccess(D,"mediaTypes.video.api")||x};G.video=D}G=f[e];y.ext={bidder:{placementId:G.params&&G.params.placementId?G.params.placementId:"",zone:G.params&&G.params.zone?G.params.zone:"1r",path:G.params&&G.params.path?G.params.path:"mvo"}};w.push(y)}f={id:m,imp:w,site:c(l),device:{ua:navigator.userAgent,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(r.navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(r.navigator.userAgent)?
3:2,ip:"",dnt:b.getDNT()?1:0},user:{ext:{consent:b.deepAccess(l,"gdprConsent.gdprApplies")?l.gdprConsent.consentString:""}},at:1,tmax:1E3,regs:{ext:{gdpr:b.deepAccess(l,"gdprConsent.gdprApplies")?!!(l.gdprConsent.gdprApplies&1):!1}}};v=Date.now();return{method:"POST",url:p,data:JSON.stringify(f)}},interpretResponse:function(a){a=a.body||[];var b=[],c;if(a.seatbid){var d=[];for(c=0;c<a.seatbid.length;c++)for(var g=0;g<a.seatbid[c].bid.length;g++)d.push(a.seatbid[c].bid[g]);a=d}for(c=0;c<a.length;c++){d=
a[c];g=u[d.impid];var e={requestId:g.bidId,bidderCode:that.code,cpm:parseFloat(d.price),width:d.w,height:d.h,creativeId:d.crid,currency:"USD",netRevenue:!0,ttl:350};g.mediaTypes&&g.mediaTypes.video?(e.vastUrl=d.nurl,e.mediaType="video",e.ttl=600):e.ad=d.adm;b.push(e)}return b}})})(window);
(function(m){var c=m.AV_biddersFactory.utils,t={code:"oneVideo",ENDPOINT:"//ads.adaptv.advertising.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc",SYNC_ENDPOINT2:"https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}",SYNC_ENDPOINT3:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?redir=https%3A%2F%2Fsync.adap.tv%2Fsync%3Ftype%3Dgif%26key%3Dtubemogul%26uid%3D%24%7BUSER_ID%7D",SYNC_ENDPOINT4:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",
supportedMediaTypes:["video"],isBidRequestValid:function(c){return"oneVideo"!==c.bidder||"undefined"===typeof c.params||"undefined"===typeof c.params.video||"undefined"===typeof c.params.video.playerWidth||"undefined"==typeof c.params.video.playerHeight||"undefined"==typeof c.params.video.mimes||"undefined"===typeof c.params.pubId?!1:!0},buildRequests:function(l,b){var m=b?b.gdprConsent:null;return l.map(function(a){var b=location.protocol+t.ENDPOINT+a.params.pubId,h=c.getTopWindowLocation();h=a.params.site&&
a.params.site.page?a.params.site.page:h.href;var g=a.params.site&&a.params.site.referrer?a.params.site.referrer:c.getTopWindowReferrer();h={id:c.generateUUID(),at:2,cur:a.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:a.params.bidfloor,video:{mimes:a.params.video.mimes,w:a.params.video.playerWidth,h:a.params.video.playerHeight,linearity:1,protocols:a.params.video.protocols||[2,5]},ext:{hb:1}}],site:{page:h,ref:g},device:{ua:navigator.userAgent},tmax:200};a.params.video.maxbitrate&&
(h.imp[0].video.maxbitrate=a.params.video.maxbitrate);a.params.video.maxduration&&(h.imp[0].video.maxduration=a.params.video.maxduration);a.params.video.minduration&&(h.imp[0].video.minduration=a.params.video.minduration);a.params.video.api&&(h.imp[0].video.api=a.params.video.api);a.params.video.delivery&&(h.imp[0].video.delivery=a.params.video.delivery);a.params.video.position&&(h.imp[0].video.pos=a.params.video.position);a.params.video.playbackmethod&&(h.imp[0].video.playbackmethod=a.params.video.playbackmethod);
a.params.video.placement&&(h.imp[0].ext.placement=a.params.video.placement);a.params.site&&a.params.site.id&&(h.site.id=a.params.site.id);m&&m.gdprApplies&&(h.regs={ext:{gdpr:1}},m.consentString&&(h.user={ext:{consent:m.consentString}}));return{method:"POST",url:b,data:h,bidRequest:a}})},interpretResponse:function(l,b){b=b.bidRequest;try{l=l.body;var m=l.seatbid[0].bid[0]}catch(h){l=null}if(!l||!m||!m.adm&&!m.nurl||!m.price)return c.logWarn("No valid bids from "+t.code+" bidder"),[];var a=c.parseSizesInput(b.sizes);
var d=$jscomp.makeIterator(a.length?a[0].split("x"):[]);a=d.next().value;d=d.next().value;a=parseInt(a,10)||void 0;d=parseInt(d,10)||void 0;l={requestId:b.bidId,bidderCode:t.code,cpm:m.price,creativeId:m.id,width:a,height:d,mediaType:"video",currency:l.cur,ttl:100,netRevenue:!0};m.nurl?l.vastUrl=m.nurl:m.adm&&(l.vastXml=m.adm);return l},getUserSyncs:function(c){if(c.pixelEnabled)return[{type:"image",url:t.SYNC_ENDPOINT1},{type:"image",url:t.SYNC_ENDPOINT2},{type:"image",url:t.SYNC_ENDPOINT3},{type:"image",
url:t.SYNC_ENDPOINT4}]}};m.AV_biddersFactory.register("oneVideo",t)})(window);
(function(m){function c(a){var b="<TrackingEvents>";"video_start video_one_quarter video_one_half video_three_quarter video_complete video_pause video_resume video_skip video_mute video_unmute".split(" ").filter(function(c){var d;a:{if((d=a[c])&&0<d.length){c=p[c]||"";for(var h=0;c&&h<d.length;h++)if(d[h]){d='<Tracking event="'+c+'"><![CDATA['+d[h]+"]]\x3e</Tracking>";break a}}d=void 0}d&&(b+=d)});return b+="</TrackingEvents>"}var t=m.AV_biddersFactory.utils,l=m.AV_biddersFactory.STATUS,b=1;m.av_adsDataCbks=
{};m.av_adsDataCbk=function(a){if(a&&a.req_id){var b="av_adsDataCbk"+a.req_id;"function"===typeof m.av_adsDataCbks[b]&&(m.av_adsDataCbks[b](a),delete m.av_adsDataCbks[b])}};var p={srcUrls:"MediaFile",monitorUrl:"Impression",clickUrl:"ClickThrough",video_start:"start",video_one_quarter:"firstQuartile",video_one_half:"midpoint",video_three_quarter:"thirdQuartile",video_complete:"video_complete",video_pause:"pause",video_resume:"resume",video_skip:"skip",video_mute:"mute",video_unmute:"unmute"};m.AV_biddersFactory.register("adsdataav",
{code:"adsdataav",av_async:!0,buildRequests:function(a,c,h){this.bidCallback=h;var d=this,p=a.bids?a.bids[0]||[]:a;p=p[0]?p[0]:p;c="";if(p&&p.params&&p.config){c=p.config.url+"?";a=p.config.timeout||5E3;for(var u in p.params)p.params.hasOwnProperty(u)&&(c+=u+"="+p.params[u]+"&");var v=b++,r="av_adsDataCbk"+v;c=c+("req_id="+v+"&")+"version=3.0&"+("src="+encodeURIComponent(t.getTopWindowLocation()?t.getTopWindowLocation().href:"")+"&");c+="ref="+encodeURIComponent(t.getTopWindowReferrer())+"&";c+="is_mobile="+
(Utils.isMobile()?1:0)+"&";c+="callback=av_adsDataCbk";m.av_adsDataCbks[r]=function(a){a&&a.req_id==v&&a.srcUrls&&0<a.srcUrls.length&&(d.createBid(l.GOOD,p,a),delete m.av_adsDataCbks[r])};u=document.createElement("script");u.src=c;c=function(){m.av_adsDataCbks[r]&&(delete m.av_adsDataCbks[r],d.createBid(l.NO_BID,p,{}))};u.onload=u.onerror=c;setTimeout(c,a);document.body.appendChild(u)}},interpretResponse:function(a,b){return b&&b.vastXml?[{vastXml:b.vastXml}]:{}},createBid:function(a,b,h){var d={};
d.bidderCode=b.bidder;d.placementCode=b.placementCode;d.requestId=b.requestId;d.code=b.bidder;if(a===l.GOOD){d.mediaType="video";a=t.isArray(b.sizes[0])?b.sizes[0]:b.sizes;d.height=a[1];d.width=a[0];var m=d.width;b=d.height;var p=h.video_duration;if(isNaN(p)||!p||0>=p)p=15;p*=1;a=Math.floor(p/3600);p-=a;var v=Math.floor(p/60);p=Math.floor(p-v);a="<Linear><Duration>"+(""+(10>a?"0"+a:a)+":"+(10>v?"0"+v:v)+":"+(10>p?"0"+p:p))+"</Duration>"+c(h);v="<VideoClicks>";for(p=0;h.clickUrl&&p<h.clickUrl.length;p++)h.clickUrl[p]&&
(v+="<ClickTracking><![CDATA["+h.clickUrl[p]+"]]\x3e</ClickTracking>");h.dUrl&&h.dUrl[0]&&(v+="<ClickThrough><![CDATA["+h.dUrl[0]+"]]\x3e</ClickThrough>");a+=v+"</VideoClicks>";m=h.width||m;v=h.height||b;b="<MediaFiles>";for(p=0;h.srcUrls&&p<h.srcUrls.length;p++){var r=m;var f=v,w=h.srcUrls[p],q=w.split(".").pop(),C="",B=!0;switch(q){case "wmv":q="x-ms-wmv";case "mp4":case "webm":case "3gpp":C="video/"+q;break;case "js":C="application/javascript",B=!1}r=C?B?'<MediaFile delivery="progressive" width="'+
r+'" height="'+f+'" type="'+C+'" bitrate="450" scalable="true" maintainAspectRatio="true"><![CDATA['+w+"]]\x3e</MediaFile>":'<MediaFile delivery="progressive" width="'+r+'" height="'+f+'" scalable="1" type="application/javascript" apiFramework="VPAID"><![CDATA['+w+"]]\x3e</MediaFile>":void 0;r&&(b+=r)}m="";for(v=0;h.monitorUrl&&v<h.monitorUrl.length;v++)h.monitorUrl[v]&&(m+="<Impression><![CDATA["+h.monitorUrl[v]+"]]\x3e</Impression>");d.vastXml='<?xml version="1.0" encoding="UTF-8"?><VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0"><Ad>'+
("<InLine><AdSystem>AdSystem</AdSystem><AdTitle>Ad</AdTitle><Description><![CDATA[Ad]]\x3e</Description>"+m+('<Creatives><Creative id="1" sequence="1">'+(a+(b+"</MediaFiles>")+"</Linear>")+"</Creative></Creatives>")+"</InLine>")+"</Ad></VAST>"}this.bidCallback(d)}})})(window);
(function(m){function c(a,c){Object.keys(a).filter(function(c){return l(b,c)&&null!==a[c]&&(!isNaN(parseInt(a[c],10))||!(1>a[c].length))}).forEach(function(b){return c[b]=Array.isArray(a[b])?a[b]:parseInt(a[b],10)})}var t=m.AV_biddersFactory.utils,l=m.AV_biddersFactory.includes,b="minduration maxduration startdelay placement linearity mimes protocols api".split(" "),p=["1x1","1x2"];m.AV_biddersFactory.register("synacormedia",{code:"synacormedia",supportedMediaTypes:["video"],sizeMap:{},buildRequests:function(a,
b){if(a&&a.length&&b){var d={id:b.auctionId,site:{domain:location.hostname,page:b.refererInfo.referer,ref:document.referrer},device:{ua:navigator.userAgent},imp:[]},g=null;a.forEach(function(a,b){if(!g||g===a.params.seatId){g=a.params.seatId;var h=a.params.placementId,l=a.params.bidfloor?parseFloat(a.params.bidfloor):null;isNaN(l);var f=parseInt(a.params.pos);isNaN(f)&&(f=0);var m=void 0!==a.mediaTypes&&a.mediaTypes.hasOwnProperty("video")?"video":!1;t.getAdUnitSizes(a).filter(function(a){return-1===
p.indexOf(a.join("x"))}).forEach(function(b,g){if(b&&2===b.length){g=b[0];var q=b[1];b={id:"".concat(m.substring(0,1)).concat(a.bidId,"-").concat(g,"x").concat(q),tagid:h};null===l||isNaN(l)||(b.bidfloor=l);g={w:g,h:q,pos:f};"video"===m&&(a.mediaTypes.video&&c(a.mediaTypes.video,a.params.video),a.params.video&&c(a.params.video,g));b[m]=g;d.imp.push(b)}})}});if(d.imp.length&&g)return{method:"POST",url:"//prebid.technoratimedia.com/openrtb/bids/"+g+"?src=prebid_prebid_2.24.0",data:d,options:{contentType:"application/json",
withCredentials:!0}}}},interpretResponse:function(a){var b=function(a,b){return b?b.replace(/\${AUCTION_PRICE}/g,a.price):b};if(a.body&&"object"==typeof a.body){a=a.body;var c=a.seatbid,g=[];a.id&&c&&c.forEach(function(a){a.bid.forEach(function(c){var d=b(c,c.adm),h=b(c,c.nurl),f=$jscomp.makeIterator(c.impid.match(/^([vb])(.*)-(.*)x(.*)$/));f.next();var l=f.next().value,m=f.next().value,p=f.next().value;f=f.next().value;l="v"==l;c={requestId:m,adId:c.id.replace(/~/g,"-"),cpm:parseFloat(c.price),width:parseInt(p,
10),height:parseInt(f,10),creativeId:a.seat+"_"+c.crid,currency:"USD",netRevenue:!0,mediaType:l?"video":!1,ad:d,ttl:60};l&&(d=$jscomp.makeIterator(h.match(/ID=([^&]*)&?/)),d.next(),d=d.next().value,c.videoCacheKey=encodeURIComponent(d),c.vastUrl=h);g.push(c)})});return g}},getUserSyncs:function(a,b){b=[];a.iframeEnabled&&b.push({type:"iframe",url:"//ad-cdn.technoratimedia.com/html/usersync.html?src=prebid_prebid_2.24.0"});return b}})})(window);
(function(m){function c(a){var b=l(a);b.banner={};b.banner.w=a.params.size[0];b.banner.h=a.params.size[1];b.banner.topframe=h.inIframe()?0:1;return b}function t(a){var b=l(a);b.video=h.deepClone(a.params.video);b.video.w=a.params.size[0];b.video.h=a.params.size[1];if(a=h.deepAccess(a,"mediaTypes.video.context"))"instream"===a?b.video.placement=1:"outstream"===a&&(b.video.placement=4);return b}function l(a){var b={};b.id=a.bidId;b.ext={};b.ext.siteID=a.params.siteId;!a.params.hasOwnProperty("id")||
"string"!==typeof a.params.id&&"number"!==typeof a.params.id?b.ext.sid=a.params.size[0]+"x"+a.params.size[1]:b.ext.sid=String(a.params.id);a.params.hasOwnProperty("bidFloor")&&a.params.hasOwnProperty("bidFloorCur")&&(b.bidfloor=a.params.bidFloor,b.bidfloorcur=a.params.bidFloorCur);return b}function b(a){return Array.isArray(a)&&2===a.length&&h.isInteger(a[0])&&h.isInteger(a[1])}function p(a,c){if(b(a))return a[0]===c[0]&&a[1]===c[1];for(var d=0;d<a.length;d++)if(a[d][0]===c[0]&&a[d][1]===c[1])return!0;
return!1}function a(a,b){if(a)return find(b,function(b){return b.id===a})}function d(a,b,c,d){var f=[],e="https://as-sec.casalemedia.com/cygnus";if(m.headertag&&"function"===typeof m.headertag.getIdentityInfo){var h=m.headertag.getIdentityInfo();if(h&&"object"===typeof h)for(var l in h)if(h.hasOwnProperty(l)){var p=h[l];!p.responsePending&&p.data&&"object"===typeof p.data&&Object.keys(p.data).length&&f.push(p.data)}}h={};h.id=a[0].bidId;h.imp=c;h.site={};h.ext={};h.ext.source="prebid";0<f.length&&
(h.user={},h.user.eids=f);document.referrer&&""!==document.referrer&&(h.site.ref=document.referrer);b&&(b.gdprConsent&&(c=b.gdprConsent,c.hasOwnProperty("gdprApplies")&&(h.regs={ext:{gdpr:c.gdprApplies?1:0}}),c.hasOwnProperty("consentString")&&(h.user=h.user||{},h.user.ext={consent:c.consentString||""})),b.refererInfo&&(h.site.page=b.refererInfo.referer)&&0!==b.refererInfo.referer.indexOf("https")&&(e="http://as.casalemedia.com/cygnus"));b={};if(c=g.getConfig("ix")){if("object"===typeof c.firstPartyData){f=
c.firstPartyData;l="?";for(var q in f)f.hasOwnProperty(q)&&(l+=encodeURIComponent(q)+"="+encodeURIComponent(f[q])+"&");l=l.slice(0,-1);h.site.page+=l}"number"===typeof c.timeout&&(b.t=c.timeout)}b.s=a[0].params.siteId;b.v=d;b.r=JSON.stringify(h);b.ac="j";b.sd=1;b.nf=1;return{method:"GET",url:e,data:b}}var h=m.AV_biddersFactory.utils,g=m.AV_biddersFactory.config,x=m.AV_biddersFactory.VIDEO,u=m.AV_biddersFactory.BANNER,v=[u,x],r={JPY:1};m.AV_biddersFactory.register("ix",{code:"ix",supportedMediaTypes:v,
isBidRequestValid:function(a){if(!b(a.params.size)||!p(a.sizes,a.params.size)||a.hasOwnProperty("mediaType")&&!h.contains(v,a.mediaType)||a.hasOwnProperty("mediaTypes")&&!h.deepAccess(a,"mediaTypes.banner.sizes")&&!h.deepAccess(a,"mediaTypes.video.playerSize")||"string"!==typeof a.params.siteId&&"number"!==typeof a.params.siteId)return!1;var c=a.params.hasOwnProperty("bidFloor"),d=a.params.hasOwnProperty("bidFloorCur");if(c||d){if(c=c&&d)c=a.params.bidFloorCur,d=/^[A-Z]{3}$/,c=!("number"!==typeof a.params.bidFloor||
"string"!==typeof c||!c.match(d));if(!c)return!1}return!0},buildRequests:function(a,b){for(var g=[],f=[],l=[],e,m=0;m<a.length;m++)e=a[m],e.mediaType!==x&&!h.deepAccess(e,"mediaTypes.video")||e.mediaType!==x&&!p(e.mediaTypes.video.playerSize,e.params.size)||l.push(t(e)),(e.mediaType===u||h.deepAccess(e,"mediaTypes.banner")||!e.mediaType&&!e.mediaTypes)&&f.push(c(e));0<f.length&&g.push(d(a,b,f,7.2));0<l.length&&g.push(d(a,b,l,8.1));return g},interpretResponse:function(b,c){var d=[];if(!b.hasOwnProperty("body")||
!b.body.hasOwnProperty("seatbid"))return d;b=b.body;for(var g=b.seatbid,f=0;f<g.length;f++)if(g[f].hasOwnProperty("bid"))for(var e=g[f].bid,l=JSON.parse(c.data.r),m=0;m<e.length;m++){var p=a(e[m].impid,l.imp);var t=e[m],v=b.cur,w={};r.hasOwnProperty(v)?w.cpm=t.price/r[v]:w.cpm=t.price/100;w.requestId=t.impid;w.dealId=h.deepAccess(t,"ext.dealid");w.netRevenue=!0;w.currency=v;w.creativeId=t.hasOwnProperty("crid")?t.crid:"-";h.deepAccess(t,"ext.vasturl")?(w.vastUrl=t.ext.vasturl,w.width=p.video.w,w.height=
p.video.h,w.mediaType=x,w.ttl=3600):(w.ad=t.adm,w.width=t.w,w.height=t.h,w.mediaType=u,w.ttl=35);w.meta={};w.meta.networkId=h.deepAccess(t,"ext.dspid");w.meta.brandId=h.deepAccess(t,"ext.advbrandid");w.meta.brandName=h.deepAccess(t,"ext.advbrand");p=w;d.push(p)}return d},transformBidParams:function(a,b){return h.convertTypes({siteID:"number"},a)}})})(window);
(function(m){var c=m.AV_biddersFactory.utils,t=m.AV_biddersFactory.Renderer,l=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push([c,a[c]]);return b},b=m.AV_biddersFactory.BANNER,p=m.AV_biddersFactory.VIDEO;m.AV_biddersFactory.register("loopme",{code:"loopme",supportedMediaTypes:[b,p],isBidRequestValid:function(a){return"object"!==typeof a.params?!1:!!a.params.ak},buildRequests:function(a,d){return a.map(function(a){a.startTime=(new Date).getTime();var g=a.params;d&&d.gdprConsent&&(g.user_consent=
d.gdprConsent.consentString);g=l(g).map(function(a){return"".concat(a[0],"=").concat(encodeURI(a[1]))}).join("&");var h=a.mediaTypes[b]?c.getAdUnitSizes(a):c.deepAccess(a.mediaTypes,"video.playerSize");g=""+g+("&sizes="+h[0]+"x"+h[1])+(a.mediaTypes[p]?"&media_type=video":"");return{method:"GET",url:"https://loopme.me/api/hb",options:{withCredentials:!1},bidId:a.bidId,data:g}})},interpretResponse:function(a,b){a=void 0===a?{}:a;a=a.body;if(null===a||"object"!==typeof a||!a.hasOwnProperty("ad")&&!a.hasOwnProperty("vastUrl"))return[];
if(a.vastUrl){var c=t.install({id:b.bidId,url:"https://i.loopme.me/html/vast/loopme_flex.js",loaded:!1});c.setRender(function(a){c.push(function(){m.L.flex.loader.load({containerId:a.adUnitCode,vastTimeout:250,ads:[{type:"VAST",url:a.vastUrl,autoClose:-1}],user_consent:"%%USER_CONSENT%%"})})});return[{requestId:b.bidId,cpm:a.cpm,width:a.width,height:a.height,ttl:a.ttl,currency:a.currency,creativeId:a.creativeId,dealId:a.dealId,netRevenue:a.netRevenue,vastUrl:a.vastUrl,renderer:c}]}return[{requestId:b.bidId,
cpm:a.cpm,width:a.width,height:a.height,ad:a.ad,ttl:a.ttl,currency:a.currency,creativeId:a.creativeId,dealId:a.dealId,netRevenue:a.netRevenue}]}})})(window);
(function(m){function c(){return function(c,l,b,m,a,d,h){l[c]||(l[c]={init:function(){l[c]._Q.push(["i",arguments])},fetchBids:function(){l[c]._Q.push(["f",arguments])},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},d=b.createElement(m),d.async=!0,d.src=a,h=b.getElementsByTagName(m)[0],h.parentNode.insertBefore(d,h))}("apstag",m,document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),m.apstag}m.AV_biddersFactory.register("a9",{code:"a9",av_async:!0,buildRequests:function(m,
l,b){this.bidCallback=b;m=m.bids?m.bids[0]||[]:m;l=m.params.pubID;var p=c(),a={};if(p)try{p.init({pubID:l}),p.fetchBids({slots:[{slotID:m.params.slotID||"videoSlot1",mediaType:"video"}]},function(c){c&&0<c.length&&(c=c[0],a.vastUrl="https://aax.amazon-adsystem.com/e/dtb/vast?b="+c.amzniid+"&pp="+c.amznbid+"&rnd="+Date.now());b(a)})}catch(d){b(a)}else b(a)},interpretResponse:function(c,l){return l&&l.vastUrl?[{vastUrl:l.vastUrl,cpm:l.cpm}]:{}}})})(window);
(function(m){m.AVSpotXSDK=function(c){function t(a,d,h,g,m,t){var u={};if(m&&m.AdParameters){if("string"===typeof m.AdParameters)try{u=JSON.parse(m.AdParameters.trim())}catch(r){p.dispatch("AdError");return}else"object"===typeof m.AdParameters&&(u=m.AdParameters);u.slot=t.slot;u.video_slot=t.videoSlot;"undefined"===typeof u.hide_skin&&(u.hide_skin=!1);u.ados&&u.ados.user&&"string"===typeof u.ados.user.consent&&0==u.ados.user.consent.length&&delete u.ados.user.consent;u.autoplay=!1;u.ad_mute=!0}a=
"https://js.spotx.tv/directsdk/v1/"+u.channel_id+".js";try{parent.$sf&&(c.$sf=parent.$sf)}catch(r){}(function(a,b){var d=c.document.getElementsByTagName("body")[0],g=c.document.createElement("script");g.type="text/javascript";g.src=a;g.onload=b;"function"!==typeof g.onload&&(g.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()});d.appendChild(g)})(a,function(){var a=!1;b=t.videoSlot;l=new c.SpotX.DirectAdOS(u);"AdLoaded AdStarted AdStopped AdSkipped AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdUserMinimize AdUserClose AdPaused AdPlaying AdError AdSizeChange AdRemainingTimeChange AdVolumeChange".split(" ").forEach(function(b,
c){l.subscribe(function(c,d,g){"AdVideoStart"==b||"AdImpression"==b?a||(a=!0,p.dispatch("AdImpression")):p.dispatch(b)},b)});l.loadAd()})}var l,b,p=new m.AVEvtMgr;this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,b,c,g,l,m){t(a,b,c,g,l,m)};this.startAd=function(){setTimeout(function(){l.playAd()},10)};this.getAdLinear=function(){return!0};this.stopAd=function(a,b){try{l.stopAd()}catch(h){}};this.getAdVolume=function(){var a=b.volume;b.muted&&(a=0);return a};this.setAdVolume=function(a){b.volume=
a;b.muted=!(0<a)};this.resizeAd=function(a,b,c){try{l.resize(a,b,c)}catch(g){}};this.pauseAd=function(){try{l.pauseAd()}catch(a){}};this.resumeAd=function(){try{l.playAd()}catch(a){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){try{setTimeout(function(){l.stopAd()},10)}catch(a){}};this.getAdWidth=function(){return b.clientWidth};this.getAdHeight=function(){return b.clientHeight};
this.getSkippableRemainingTime=function(){return b.duration-b.currentTime};this.getAdRemainingTime=function(){return b.duration-b.currentTime};this.getAdDuration=function(){return b.duration};this.getAdCompanions=function(){};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.subscribe=function(a,b,c){p.subscribe(a,b,c)};this.unsubscribe=function(a,b){p.unsubscribe(a,b)}}})(window);
(function(m){m.AVImaSDK=function(c){function t(a,b){var d=c.document.getElementsByTagName("body")[0],h=c.document.createElement("script");h.type="text/javascript";h.src=a;h.onload=b;"function"!==typeof h.onload&&(h.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()});d.appendChild(h)}function l(c,h,g,l,m,v){var d={};if(m&&m.AdParameters){if("string"===typeof m.AdParameters)try{d=JSON.parse(m.AdParameters.trim())}catch(f){p.dispatch("AdError");return}else"object"===
typeof m.AdParameters&&(d=m.AdParameters);d.slot=v.slot;d.videoSlot=b=v.videoSlot;d.width=c;d.height=h;d.lang=v.imaLang;d.imaAutoplay=v.imaAutoplay;d.imaMuted=v.imaMuted;d.imaiOSSkip=v.imaiOSSkip;d.imaVpaidMode=v.imaVpaidMode}t("https://imasdk.googleapis.com/js/sdkloader/ima3.js",function(){a.init(d)})}var b,p=new m.AVEvtMgr,a=new function(){function a(){if(!w){w=!0;for(var a in f)f[a].handler&&l.removeEventListener(a,f[a].handler),f[a].handler=null;setTimeout(function(){try{m&&(m.destroy(),m=null),
l&&(l.destroy(),l=null),t&&(t.destroy(),t=null)}catch(B){}},2E3);r=null}}function b(b){a();p.dispatch("AdError")}function g(d){function g(b){var d=function(e){p.dispatch(f[b].vpaidEvt);f[b].handler=d;if(b==c.google.ima.AdEvent.Type.IMPRESSION||b==c.google.ima.AdEvent.Type.STARTED)r=e.getAd();b!=c.google.ima.AdEvent.Type.COMPLETE&&b!=c.google.ima.AdEvent.Type.SKIPPED&&b!=c.google.ima.AdEvent.Type.USER_CLOSE&&b!=c.google.ima.AdEvent.Type.ALL_ADS_COMPLETED||setTimeout(function(){a()},400)};l.addEventListener(b,
d)}var e=new c.google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!1;e.loadVideoTimeout=2E4;e.useStyledNonLinearAds=!0;l=d.getAdsManager({currentTime:0},e);l.addEventListener(c.google.ima.AdErrorEvent.Type.AD_ERROR,b);f[c.google.ima.AdEvent.Type.LOADED]={vpaidEvt:"AdLoaded"};f[c.google.ima.AdEvent.Type.IMPRESSION]={vpaidEvt:"AdImpression"};f[c.google.ima.AdEvent.Type.CLICK]={vpaidEvt:"AdClickThru"};f[c.google.ima.AdEvent.Type.FIRST_QUARTILE]={vpaidEvt:"AdVideoFirstQuartile"};
f[c.google.ima.AdEvent.Type.MIDPOINT]={vpaidEvt:"AdVideoMidpoint"};f[c.google.ima.AdEvent.Type.THIRD_QUARTILE]={vpaidEvt:"AdVideoThirdQuartile"};f[c.google.ima.AdEvent.Type.COMPLETE]={vpaidEvt:"AdVideoComplete"};f[c.google.ima.AdEvent.Type.STARTED]={vpaidEvt:"AdVideoStart"};f[c.google.ima.AdEvent.Type.INTERACTION]={vpaidEvt:"AdInteraction"};f[c.google.ima.AdEvent.Type.LOG]={vpaidEvt:"AdLog"};f[c.google.ima.AdEvent.Type.PAUSED]={vpaidEvt:"AdPaused"};f[c.google.ima.AdEvent.Type.RESUMED]={vpaidEvt:"AdPlaying"};
f[c.google.ima.AdEvent.Type.SKIPPED]={vpaidEvt:"AdSkipped"};f[c.google.ima.AdEvent.Type.DURATION_CHANGE]={vpaidEvt:"AdDurationChange"};f[c.google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]={vpaidEvt:"AdSkippableStateChange"};f[c.google.ima.AdEvent.Type.USER_CLOSE]={vpaidEvt:"AdUserClose"};f[c.google.ima.AdEvent.Type.VOLUME_CHANGED]={vpaidEvt:"AdVolumeChange"};f[c.google.ima.AdEvent.Type.ALL_ADS_COMPLETED]={vpaidEvt:"AdStopped"};for(var h in f)g(h);p.dispatch("AdLoaded")}var l,m,t,r,f=[],w=!1,q;this.init=
function(a){q=a;try{a.imaVpaidMode&&"undefined"!==typeof c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode]?(c.google.ima.settings.setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode.ENABLED),c.google.ima.settings.setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode])):c.google.ima.settings.setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode.INSECURE)}catch(D){}var d=a.slot,e=a.videoSlot,f=a.lang;try{var h=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;
!f&&"string"===typeof h&&2<=h.length&&(f=h.substring(0,2));f&&"string"===typeof f&&2<=f.length&&c.google.ima.settings.setLocale(f)}catch(D){}t=new c.google.ima.AdDisplayContainer(d,e);m=new c.google.ima.AdsLoader(t);try{a.imaVpaidMode&&"undefined"!==typeof c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode]&&m.getSettings().setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode]),a.imaiOSSkip&&/iPhone|iPod|iPad/.test(navigator.userAgent)&&m.getSettings().setDisableCustomPlaybackForIOS10Plus(!0)}catch(D){}m.addEventListener(c.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,
g,!1);m.addEventListener(c.google.ima.AdErrorEvent.Type.AD_ERROR,b,!1);d=new c.google.ima.AdsRequest;d.adTagUrl=a.tagUrl;d.linearAdSlotWidth=a.width;d.linearAdSlotHeight=a.height;d.nonLinearAdSlotWidth=a.width;d.nonLinearAdSlotHeight=a.height;"undefined"!==typeof a.imaAutoplay&&d.setAdWillAutoPlay(a.imaAutoplay);"undefined"!==typeof a.imaMuted&&d.setAdWillPlayMuted(a.imaMuted);m.requestAds(d)};this.start=function(){if(l){t.initialize();try{l.init(q.width,q.height,c.google.ima.ViewMode.NORMAL),l.start()}catch(C){}}};
this.setVolume=function(a){l&&l.setVolume(a)};this.getVolume=function(){if(l)return l.getVolume()};this.getDuration=function(){if(r)return r.getDuration()};this.getRemainingTime=function(){if(l)return l.getRemainingTime()};this.isLinear=function(){if(r)return r.isLinear()};this.stop=function(){if(l)return l.stop()};this.resize=function(a,b,d){if(l){var e=c.google.ima.ViewMode.NORMAL;"fullscreen"==d&&(e=c.google.ima.ViewMode.FULLSCREEN);return l.resize(a,b,e)}};this.pause=function(){if(l)return l.pause()};
this.resume=function(){if(l)return l.resume()};this.skip=function(){if(l)return l.skip()};this.getWidth=function(){if(r)return r.getWidth()};this.getHeight=function(){if(r)return r.getHeight()}};this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,b,c,m,p,t){l(a,b,c,m,p,t)};this.startAd=function(){setTimeout(function(){try{a.start()}catch(d){}},10)};this.getAdLinear=function(){try{return a.isLinear()}catch(d){}return!0};this.stopAd=function(b,c){try{return a.stop()}catch(g){}};this.getAdVolume=
function(){try{return a.getVolume()}catch(d){}};this.setAdVolume=function(c){b.volume=c;b.muted=!(0<c);try{a.setVolume(c)}catch(h){}};this.resizeAd=function(b,c,g){try{a.resize(b,c,g)}catch(x){}};this.pauseAd=function(){try{a.pause()}catch(d){}};this.resumeAd=function(){try{a.resume()}catch(d){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){try{a.skip()}catch(d){}};this.getAdWidth=
function(){try{a.getWidth()}catch(d){}};this.getAdHeight=function(){try{a.getHeight()}catch(d){}};this.getSkippableRemainingTime=function(){return this.getAdRemainingTime()};this.getAdRemainingTime=function(){try{return a.getRemainingTime()}catch(d){}};this.getAdDuration=function(){try{return a.getDuration()}catch(d){}};this.getAdCompanions=function(){return""};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.subscribe=function(a,b,c){p.subscribe(a,b,c)};this.unsubscribe=
function(a,b){p.unsubscribe(a,b)}}})(window);
(function(m){m.AVAolSDK=function(c){function t(a,b){var d=c.document.getElementsByTagName("body")[0],h=c.document.createElement("script");h.type="text/javascript";h.src=a;h.onload=b;"function"!==typeof h.onload&&(h.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()});d.appendChild(h)}function l(d,h,g,l,m,v){var r={};if(m&&m.AdParameters){if("string"===typeof m.AdParameters)try{r=JSON.parse(m.AdParameters.trim())}catch(f){b.dispatch("AdError");return}else"object"===
typeof m.AdParameters&&(r=m.AdParameters);p=r.slot=v.slot;r.video=v.videoSlot;r.adStrategy||(r.adStrategy="ADSET_BASED");r.maxAdSearchTime||(r.maxAdSearchTime=10);r.maxLinearShowTime||(r.maxLinearShowTime=60);r.companionSlots=[]}t("https://cdn-ssl.vidible.tv/prod/vrm-plugin/js/1.6/sdk.js",function(){if(c.oath&&c.oath.ads&&c.oath.ads.sdk){var d=c.oath.ads.sdk;try{d.createAdManager(r).then(function(c){a=c;a.addEventListener(d.SDKEvent.LOADED,function(){b.dispatch("AdLoaded")});a.addEventListener(d.AdEvent.STARTED,
function(){b.dispatch("AdImpression")});a.addEventListener(d.AdEvent.PAUSED,function(){b.dispatch("AdPaused")});a.addEventListener(d.AdEvent.RESUMED,function(){b.dispatch("AdPlaying")});a.addEventListener(d.AdEvent.TIME_UPDATE,function(){b.dispatch("AdRemainingTimeChange")});a.addEventListener(d.AdEvent.VOLUME_CHANGED,function(){b.dispatch("AdVolumeChange")});a.addEventListener(d.AdEvent.FINISHED,function(){b.dispatch("AdStopped")});a.load({currentVideo:{id:"Video1"}})}).catch(function(){b.dispatch("AdError")})}catch(w){b.dispatch("AdError")}}else b.dispatch("AdError")})}
var b=new m.AVEvtMgr,p,a;this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,b,c,m,p,t){l(a,b,c,m,p,t)};this.startAd=function(){var c=["AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete"];if(a){var h=0;b.subscribe(function(){var d=a.getDuration()/4;if(d&&4>h){var l=a.getCurrentTime();l&&l>=(h+1)*d&&(b.dispatch(c[h]),h++)}},"AdRemainingTimeChange");try{return a.play()}catch(g){b.dispatch("AdError")}}else b.dispatch("AdError")};this.getAdLinear=function(){return!0};
this.stopAd=function(c,h){try{a.pause(),b.dispatch("AdStopped")}catch(g){}};this.getAdVolume=function(){try{return a.getVolume()}catch(d){}};this.setAdVolume=function(b){try{a.setVolume(b)}catch(h){}};this.resizeAd=function(a,b,c){};this.pauseAd=function(){try{a.pause()}catch(d){}};this.resumeAd=function(){try{a.resume()}catch(d){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){try{a.pause(),
b.dispatch("AdSkipped")}catch(d){}};this.getAdWidth=function(){try{if(p)return p.clientWidth}catch(d){}};this.getAdHeight=function(){try{if(p)return p.clientHeight}catch(d){}};this.getSkippableRemainingTime=function(){return-2};this.getAdRemainingTime=function(){try{return a.getDuration()-a.getCurrentTime()}catch(d){}};this.getAdDuration=function(){try{return a.getDuration()}catch(d){}};this.getAdCompanions=function(){return""};this.getIcons=function(){return""};this.getAdIcons=function(){return""};
this.subscribe=function(a,c,g){b.subscribe(a,c,g)};this.unsubscribe=function(a,c){b.unsubscribe(a,c)}}})(window);
(function(m){var c={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",
AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdBid:"AdBid",AdError:"AdError"};m.aniviewPlayer=function(t){var l=this,b;m.AV_FlashOpen=this;var p=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/CriOS/.test(navigator.userAgent);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);
var a=/iPhone|iPod|iPad/.test(navigator.userAgent),d=/(android)/i.test(navigator.userAgent),h=!1;(function(g){function x(a){if(h){var b="track1.aniview.com";n&&n.trackdomain&&(b=n.trackdomain);(new Image).src="https://"+b+"/track?pid="+t.environmentVars.publisherId+"&cid="+t.environmentVars.channelId+"&e=c"+a+"&cb="+Date.now()}}function u(){k.preroll=n.preroll;k.midrollTimer&&(clearTimeout(k.midrollTimer),k.resetAdRequest=!0);k.midrollTimer=0;k.resetAdRequest&&(k.resetAdRequest=!1,setTimeout(function(){P(Z)},
10))}function v(){for(var a=-1,b=null,c=0;c<k.readyToPlay.length;c++){var d=k.waterfall.data.tags[k.readyToPlay[c].id];if(d.playerSettings&&0<d.playerSettings.vi){d=1==d.playerSettings.vi?50:d.playerSettings.vi;d=Math.max(0,Math.min(100,d));var e=Math.max(0,e||Utils.getViewabilityPerc(n.slot));if(e>=d){a=c;break}}else{a=c;break}}if(0<=a)b=k.readyToPlay.splice(a,1)[0],k.startAdViTime=0;else if(k.players.length==k.readyToPlay.length)if(k.startAdViTime=k.startAdViTime||Date.now(),Date.now()-k.startAdViTime<
1E3*n.startadvitimeout)Utils.writeLog(Utils.logLevels.debug,"AS waiting for view"),setTimeout(function(){l.startAd(!0)},250);else for(Utils.writeLog(Utils.logLevels.debug,"Wait for view ended, closing"),c=0;c<k.readyToPlay.length;c++)G(k.readyToPlay[c]),P(Z);return b}function r(){k.isFullScreen&&!Utils.getFSElement(k.slotWindow.document)&&(k.slotWindow.document.removeEventListener(Utils.getFSEvent(),r),k.isFullScreen=!1,l.resizeAd(k.fsRestoreSize.width,k.fsRestoreSize.height,"normal"))}function f(){if(k.waterfall.data.tUrl){var a=
"";n.ctinfo&&n.ctinfo.trackParams&&(a="&"+n.ctinfo.trackParams);return k.waterfall.data.tUrl+a}return""}function w(){n.autoplay&&0<k.preroll&&!k.prerollTimer&&0<n.prerolltimeout&&(k.prerollTimer=setTimeout(function(){k.prerollTimer=null;if(!k.player||k.player&&!k.player.impressionSet)k.preroll=0,aa()},1E3*n.prerolltimeout))}function q(){return Utils.isAutoSound(n)}function C(){if(0==k.readyToPlay.length)return!0;for(var a=k.readyToPlay[0],b=0;b<k.players.length;b++)if(k.advertisements[k.players[b]].Ad.num<
a.num)return!1;return!0}function B(){function a(a){0==k.callStartTimer&&(0<k.callStartTimeout?(k.callStartTimer=setTimeout(function(){k.callStartTimer=0;l.startAd(a)},1E3*k.callStartTimeout),k.callStartTimeout=0):l.startAd(a))}1==n.autoplay&&1<=k.readyToPlay.length&&-1==k.playing&&(C()?(0!=k.startTimer&&(clearTimeout(k.startTimer),k.startTimer=0),a(!0)):0==k.startTimer&&(k.startTimer=setTimeout(function(){k.startTimer=0;-1==k.playing&&a(!0)},1E3*n.startaddelay)))}function e(a){a.addEventListener("ended",
function(){a.videoPlayerElement?(a.canVideoPlay=!0,a.videoPlayerElement.currentTime=-2,a.play()):(a.currentTime=0,a.pause(),setTimeout(function(){a.play()},100))})}function y(a){if(!a.videoCompleteCalled){a.videoCompleteCalled=!0;var c=!1;a.player&&(c=a.player.impressionSet);k.playing==a.id&&(k.playing=-1,k.player=null,"content"!=n.preloader.type&&(k.divPreloader.style.zIndex=n.maxzindex),k.divPreloader.style.display="block","content"==n.preloader.type&&c&&aa());if(n.loopvideo)e(a.player.video);else if(c&&
a&&a.sndInterval&&(clearInterval(a.sndInterval),a.sndInterval=0),!k.stopAd)if(k.impCount>=n.maximp&&-1==k.playing)P(Z);else if(k.runCount<n.vastretry&&1==k.preroll&&k.impressionSet){for(a=0;a<k.readyToPlay.length;a++)G(k.readyToPlay[a]);-1==k.playing&&P(Z)}else 1==n.autoplay&&1<=k.readyToPlay.length&&-1==k.playing&&B(),k.advertisements.length>k.currentAd&&k.players.length<b?R(k.currentAd):-1==k.playing&&0>=k.players.length&&P(Z)}}function G(a){if(!a.cleanupPlayerCalled){0<a.sec3Timer&&(clearTimeout(a.sec3Timer),
a.sec3Timer=0);0<a.sec10Timer&&(clearTimeout(a.sec10Timer),a.sec10Timer=0);a.cleanupPlayerCalled=!0;a.vitTimer&&(clearInterval(a.vitTimer),a.vitTimer=0);if(k.playing==a.id){A.setPlayer(null);k.playing=-1;k.player=null;k.activeImpression=!1;if("js"==n.preloader.type||"Image"==n.preloader.type)A.gui.style.display="none",k.divPreloader.style.display="block";var b=!1;a.player&&(b=a.player.impressionSet);"content"==n.preloader.type&&b&&(k.divPreloader.style.display="block",aa(!0))}if(a.player&&a.player.container&&
a.player.container.parentNode){k.players.splice(k.players.indexOf(a.num),1);var c=a.player.container;c.style.display="none";setTimeout(function(){Utils.writeLog(Utils.logLevels.defaultLevel,"cleanupPlayer remove container:"+a.id+":"+a.asid);if(a.player.slot&&a.player.frame){try{a.player.frame.parentNode.removeChild(a.player.frame)}catch(V){}a.player.frame=null;try{a.player.container.removeChild(a.player.slot)}catch(V){}}c.parentNode.removeChild(c)},3E3)}for(b=0;b<k.readyToPlay.length;b++)a.num==k.readyToPlay[b].num&&
k.readyToPlay.splice(b,1)}}function D(a,b){a="on"+a;if("function"==typeof l[a])l[a](b)}function z(a){function b(){k.adStoppedCalled||(k.adStoppedCalled=!0,D(c.AdStopped))}k.adStoppedCalled||("1"==n.tgt&&k.playerSlot&&(k.playerSlot.style.display="none"),a?(k.adStoppedTimer&&(clearTimeout(k.adStoppedTimer),k.adStoppedTimer=0),b()):k.adStoppedTimer||(k.adStoppedTimer=setTimeout(function(){k.adStoppedTimer=0;b()},k.adStoppedTimeout)))}function K(a){k.maximps[a]||(k.maximps[a]={imps:0});k.maximps[a].imps++}
function J(a){try{a.player&&a.player.api&&!q()&&!a.sndEnabled&&(a.noForceVol||(a.player.adVolume=0),a.player.video&&(a.player.video.volume=0))}catch(W){}}function R(a){function b(a,b){if(a.impPostPixel&&n.tmf.adcontent)try{var c=a.player&&a.player.video&&a.player.video.src||"";"impression"==b&&c&&10<c.length&&(a.signature=Utils.getVideoSignature(c));var d={video:c,sig:a.signature,macros:k.macros};ma("POST",a.impPostPixel+b,!1).send(JSON.stringify(d))}catch(va){}}function d(a){try{q()||a.sndEnabled||
(a.player.adVolume=0)}catch(ba){}}var g=n.slot.querySelector("#videoslot");k.currentAd++;var f=k.advertisements[a].Ad;f.active=!0;f.asid=k.advertisements[a].asid;f.num=a;f.sortOrder=k.advertisements[a].sortOrder;k.players.push(a);var h=document.createElement("div");var m="";f.tag&&"string"===typeof f.tag.url&&-1<f.tag.url.indexOf(".lkqd.net")&&(m="\r",f.vastPlayer&&(f.vastPlayer.opt2=!0));h.id="A"+m+"Vplayer"+a;h.style.position="absolute";1!=n.flashscale&&(h.style.top="-100000px");h.style.zIndex=
"1";"application/x-shockwave-flash"==f.mediaFiles[0].type?1!=n.flashscale?(h.style.width="640px",h.style.height="360px"):(h.style.width=0==n.width?"100%":""+n.width+"px",h.style.height=0==n.height?"100%":""+n.height+"px"):(h.style.width=n.width+"px",h.style.height=n.height+"px");g.appendChild(h);f.player.container=h;f.VideoComplete=!1;f.VideoStop=!1;f.player.reporter.track(f.player);f.parameters&&"string"==typeof f.parameters&&(f.parameters=f.parameters.trim());f.player.load(f.mediaFiles,f.parameters,
f.vastPlayer,f.trackingPixel,null,n.advideoslot?n.advideoslot:null,f.tag.type,f.tag).then(function(){});f.player.once(c.AdLoaded,function(){Utils.writeLog(Utils.logLevels.defaultLevel,"AdLoaded:"+f.id+":"+f.asid);var a=k.adLoaded;k.adLoaded=!0;if(Utils.isiOS()&&n.contentvideo&&n.nativevideo){var b=Utils.getOSVersion();b&&b.major&&("9"==b.major||"8"==b.major||"7"==b.major)&&this.video&&this.video.src&&this.video.addEventListener("webkitendfullscreen",function(){A.paused=!0})}for(b=b=0;b<k.readyToPlay.length&&
!(f.sortOrder<k.readyToPlay[b].sortOrder);b++);k.readyToPlay.splice(b,0,f);0==n.autoplay&&-1==k.playing?(A.bigPlay.style.display=n.showbigplay?"inline":"none",A.bigPlay.style.position="absolute",A.bigPlay.style.zIndex=n.maxzindex,A.bigPlay.onclick=function(){k.divPreloader.style.zIndex="1";l.startAd();w()}):B();if("function"==typeof l.onAdLoaded&&!a)l.onAdLoaded()});f.player.on(c.AdDurationChange,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdDurationChange+":"+f.id+":"+f.asid);D(c.AdDurationChange)});
f.player.on(c.AdStarted,function(){d(f);Utils.writeLog(Utils.logLevels.defaultLevel,c.AdStarted+":"+f.id+":"+f.asid);k.sentAdStarted||(k.sentAdStarted=!0,D(c.AdStarted))});f.player.on(c.AdVideoStart,function(){d(f);Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoStart+":"+f.id+":"+f.asid);D(c.AdVideoStart)});f.player.once(c.AdImpression,function(){function a(){var a="",d="",e="",g=null,h="";k.impCount++;try{a=f.vastPlayer.vast.get("ads[0].creatives[0].videoClicks.clickThrough"),h=f.vastPlayer.bidCpm,
f.tag.playerSettings&&f.tag.playerSettings.ops&&(d=decodeURIComponent(f.tag.playerSettings.ops)),e=f.player&&f.player.video&&f.player.video.src||"",g=f.player&&f.player.video,A.showPreloader(!1)}catch(fa){}n.topasopt&&-1==k.topAsid.indexOf(f.asid)&&k.topAsid.push(f.asid);f.impTime=Date.now();D(c.AdImpression,{asid:f.asid,clickThrough:a,ops:d,videoUrl:e,video:g,tagInfo:{url:"pb"==f.tag.type||"pl"==f.tag.type?f.tag.template:f.tag.url,type:f.tag.type,bidCpm:h,platform:f.tag.platform}});D(c.AdDurationChange);
b(f,"impression");K(f.asid);A.startSkipTimer(n.skiptimer,function(){D(c.AdSkippableStateChange)});if("js"==n.preloader.type||"Image"==n.preloader.type)A.gui.style.display="inline";k.impressionSet=!0;k.activeImpression=!0;f.player.impressionSet=!0;ja=0;k.tagRequestCount=0;k.callStartTimeout=n.startmidroll;k.myInterval=setInterval(function(){try{"-100000px"==k.waterfall.data.tags[f.id].Ad.player.container.style.top&&(clearInterval(k.myInterval),k.myInterval=0,z())}catch(fa){clearInterval(k.myInterval),
k.myInterval=0}},1E3);k.AVcontent&&("content"==n.preloader.type&&(k.diVideoPreloader.style.display="none"),k.AVcontent.pauseAd(),k.AVcontent.style.display="none",k.AVcontent.style.zIndex="1");A.bigPlay&&(A.bigPlay.style.display="none");try{q()||f.sndEnabled||(f.player.adVolume=0,f.player.video&&(f.player.video.volume=0))}catch(fa){}setTimeout(function(){J(f)},10);setTimeout(function(){J(f)},150);setTimeout(function(){J(f)},300);f.player.container.style.position="absolute";f.player.container.style.top=
"0px";f.player.container.style.zIndex=n.maxzindex;f.player.container.style.background="black";f.player.container.style.width=0==n.width?"100%":""+n.width+"px";f.player.container.style.height=0==n.height?"100%":""+n.height+"px";A.setPlayer(f.vastPlayer,1!=f.sndEnabled,f);k.divPreloader.style.zIndex="1";k.divPreloader.style.display="none";n.hidecontrols||A.controls(!0);n.flashsound||q()||f.sndEnabled||(setTimeout(function(){J(f)},1),setTimeout(function(){J(f)},100),f.sndIntervalCounter=0,f.sndInterval=
setInterval(function(){f.sndIntervalCounter++;24<f.sndIntervalCounter?(clearInterval(f.sndInterval),f.sndInterval=0):f.player&&f.player.api&&!q()&&!f.sndEnabled?J(f):(clearInterval(f.sndInterval),f.sndInterval=0)},250));T("impression",f.asid,{video:f.player.video?f.player.video.src:null});k.vastCache=0;N[F]={tc:null,tcc:0};n.tmf.timing&&(f.sec3remaining=3E3,f.sec10remaining=1E4,f.seccurrent=Date.now(),f.sec3Timer=setTimeout(function(){f.sec3Timer=0;f.player.fireType("sec3");f.sec3remaining=0},3E3),
f.sec10Timer=setTimeout(function(){f.sec10Timer=0;f.player.fireType("sec10");f.sec10remaining=0},1E4));q()&&setTimeout(function(){f.player.adVolume=.75;A.muted=!1},10);k.mobileControlsTimer&&0<k.mobileControlsTimer&&(clearTimeout(k.mobileControlsTimer),k.mobileControlsTimer=0,k.mobileControlsOn=!1);if(f.tag.playerSettings){var l=f.tag.playerSettings.vit||2,m=f.tag.playerSettings.vitp||50,p=0;f.vitTimer=setInterval(function(){Utils.getViewabilityPerc()>=m?p++:p=0;250*p/1E3>=l&&(f.player.fireType("adViImpression"),
clearInterval(f.vitTimer),f.vitTimer=0)},250)}}d(f);Utils.writeLog(Utils.logLevels.defaultLevel,c.AdImpression+":"+f.id+":"+f.asid);k.playing!=f.id?(f.player.once("AdVideoStart",function(){k.playing==f.id&&a()}),f.player.pauseAd()):a()});f.player.on(c.AdVolumeChange,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVolumeChange+":"+f.id+":"+f.asid);"function"==typeof l.onAdVolumeChange&&this.impressionSet&&(l.adVolume=this.adVolume,"undefined"!==typeof l.adVolume&&0<=l.adVolume&&(A.muted=
1E-4>=l.adVolume),f.vastPlayer&&!f.vastPlayer.skipping&&D(c.AdVolumeChange));try{k.abt||f.muting||q()||f.sndEnabled||!(0==f.impTime&&15>f.muteCount||15>f.impMuteCount&&Date.now()-f.impTime<1E3*n.mutetime)||(f.muteCount++,f.impTime&&f.impMuteCount++,setTimeout(function(){if(!f.muting&&!f.sndEnabled){f.muting=!0;try{f.player.adVolume=0}catch(oa){}f.muting=!1}},1),Utils.writeLog(Utils.logLevels.debug,c.AdVolumeChange+":force mute"))}catch(oa){}});f.player.on(c.AdVideoFirstQuartile,function(){Utils.writeLog(Utils.logLevels.defaultLevel,
c.AdVideoFirstQuartile+":"+f.id+":"+f.asid);D(c.AdVideoFirstQuartile);T("firstQuartile",f.asid)});f.player.on(c.AdVideoMidpoint,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoMidpoint+":"+f.id+":"+f.asid);D(c.AdVideoMidpoint);T("midpoint",f.asid)});f.player.on(c.AdVideoThirdQuartile,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoThirdQuartile+":"+f.id+":"+f.asid);D(c.AdVideoThirdQuartile);T("thirdQuartile",f.asid)});f.player.on(c.AdVideoComplete,function(){f.active&&
(Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoComplete+":"+f.id+":"+f.asid),D(c.AdVideoComplete),T("complete",f.asid),k.myInterval&&(clearInterval(k.myInterval),k.myInterval=0),n.adfoldermode?setTimeout(function(){f.player.video.addEventListener("ended",function(){D(c.AdVideoComplete)})},250):n.loopvideo?e(f.player.video):n.lastframe||(G(f),"1"==n.tgt?(z(),setTimeout(function(){f.active&&f.player.stopAd()},50)):y(f)))});f.player.once(c.AdError,function(){if(f.active){f.active=!1;Utils.writeLog(Utils.logLevels.defaultLevel,
"2.AdError:"+f.id+":"+f.asid);T("error",f.asid);G(f);if(f.player.impressionSet&&(D(c.AdError),"1"==n.tgt)){z();return}y(f)}});f.player.once(c.AdSkipped,function(){f.active&&(f.active=!1,Utils.writeLog(Utils.logLevels.defaultLevel,"AdSkipped:"+f.id+":"+f.asid),T("skip",f.asid),k.myInterval&&(clearInterval(k.myInterval),k.myInterval=0),G(f),f.player.impressionSet&&(f.vastPlayer.skipping||D(c.AdSkipped),f.player.stopAd()),"1"==n.tgt&&f.player.impressionSet?z(!0):y(f))});f.player.once(c.AdStopped,function(){f.active&&
(f.active=!1,Utils.writeLog(Utils.logLevels.defaultLevel,"AdStopped:"+f.id+":"+f.asid),T("stop",f.asid),f.VideoStop=!0,n.lastframe||(G(f),k.playing==f.id&&k.myInterval&&(clearInterval(k.myInterval),k.myInterval=0),"1"==n.tgt&&f.player.impressionSet?z(!0):y(f)))});f.player.on(c.AdClickThru,function(){D(c.AdClickThru);T("click",f.asid);0<f.vitTimer&&(f.player.fireType("adViImpression"),clearInterval(f.vitTimer),f.vitTimer=0)});f.player.on(c.AdPaused,function(){D(c.AdPaused);A.paused=!0;n.tmf.timing&&
(0<f.sec3Timer&&(f.sec3remaining=Math.max(f.sec3remaining-(Date.now()-f.seccurrent),1),clearTimeout(f.sec3Timer),f.sec3Timer=0),0<f.sec10Timer&&(f.sec10remaining=Math.max(f.sec10remaining-(Date.now()-f.seccurrent),1),clearTimeout(f.sec10Timer),f.sec10Timer=0))});f.player.on(c.AdPlaying,function(){d(f);D(c.AdPlaying);A.paused=!1;n.tmf.timing&&(0<f.sec3remaining&&0==f.sec3Timer&&(f.sec3Timer=setTimeout(function(){f.sec3Timer=0;f.player.fireType("sec3");f.sec3remaining=0},f.sec3remaining)),0<f.sec10remaining&&
0==f.sec10Timer&&(f.sec10Timer=setTimeout(function(){f.sec10Timer=0;f.player.fireType("sec10");f.sec10remaining=0},f.sec10remaining)),f.seccurrent=Date.now())})}function ea(){b=k.advertisements.length<n.maxp?k.advertisements.length:n.maxp;for(var a=0;a<b;a++)R(a)}function I(){function a(a,b){if(n.tmf.reqbid&&r[b][a]&&0<r[b][a].length){var c=f()+"&"+m.AV_player.waterfall.data.gEvents[a],d=r[b][a].join(",");c=c+"&e="+b+"&cb="+Date.now()+"&asid="+encodeURIComponent(d);r[b][a]=[];(new Image).src=c}}function b(b,
c,d,e,g,k){if(""!=c)if(e)if(b)r[k][g]||(r[k][g]=[]),r[k][g].push(b),14<=r[k][g].length&&a(g,k),"request"==k&&T("request",b);else{if(d){for(var h in r[k])r[k].hasOwnProperty(h)&&a(h,k);if("request"==k)for(var l in m.AV_player.waterfall.data.events)m.AV_player.waterfall.data.events.hasOwnProperty(l)&&Utils.bufferTrackingPixel("vpaid",f(),m.AV_player.waterfall.data.events[l],!1)}}else if(b&&(q.push(b),T("request",b)),(d||10==q.length)&&0<q.length){q.sort();var n="";q.forEach(function(a,b){0!=b&&(n+=
",");n+=a});c=m.AV_player.waterfall.data.requestPixel+"request&cb="+Date.now()+"&asid="+encodeURIComponent(n);q.length=0;(new Image).src=c}}function c(){b(null,m.AV_player.waterfall.data.requestPixel,!0,!0,null,"bid");e=[];k.advertisements=k.waterfall.data.tags.filter(function(a){return 1==a.AdBid});k.advertisements.sort(function(a,b){var c=parseInt(a.priority||"1"),d=parseInt(b.priority||"1"),f=a.playerSettings&&0<a.playerSettings.cbtic?a.playerSettings.cbtic:0,e=b.playerSettings&&0<b.playerSettings.cbtic?
b.playerSettings.cbtic:0;-1<k.topAsid.indexOf(a.asid)&&(c=0);-1<k.topAsid.indexOf(b.asid)&&(d=0);a=parseFloat(a.price||"0");b=parseFloat(b.price||"0");if(d==c)return f>e?-1:f<e?1:b>a?1:b<a?-1:1==Math.floor(2*Math.random())?1:-1;if(d>c)return-1;if(d<c)return 1});for(var a=0;a<k.advertisements.length;a++)k.advertisements[a].sortOrder=a;Utils.writeLog(Utils.logLevels.debug,"Waterfall: ",k.waterfall.data);Utils.writeLog(Utils.logLevels.debug,"Bids: ",k.advertisements);1<=k.advertisements.length?ea():
("content"==n.preloader.type&&aa(),P(Z))}function d(a){function b(){var a=Date.now();return a-1E10*Math.floor(a/1E10)}function c(a,c){var d=a.search(c)+c.length;var f=-1==a.indexOf("&",d)?a.length:a.indexOf("&",d);a=a.replace(a.slice(d,f),"");a=a.trim();c=a.search(c)+c.length;return[a.slice(0,c),b(),a.slice(c)].join("")}var d=a.url||"";if("vast"==a.type){if(-1==d.search(/\[AVC_RANDOM\]/i)?-1==d.search(/cb=/i)?-1!=d.indexOf(".rubiconproject.")||a.playerSettings&&a.playerSettings.noCb||(d=-1==d.indexOf("?")?
d+"?cbb="+b():d+"&cbb="+b()):d=c(d,"cb="):d=d.replace("[AVC_RANDOM]",b()),n.ctinfo&&n.contentplayer&&d)try{d=d.replace("[AVC_VIDEOURL]",n.ctinfo.url||""),d=d.replace("[AVC_DURATION]",n.ctinfo.duration||""),d=d.replace("[AVC_VIDEOID]",n.ctinfo.id||""),d=d.replace("[AVC_TITLE]",n.ctinfo.title||"")}catch(O){}}else if(n.ctinfo&&n.contentplayer&&("pl"==a.type||"pb"==a.type)&&"string"===typeof a.template)try{a.template=a.template.replace("%5BAVC_VIDEOURL%5D",encodeURIComponent(n.ctinfo.url||"")),a.template=
a.template.replace("%5BAVC_DURATION%5D",n.ctinfo.duration||""),a.template=a.template.replace("%5BAVC_VIDEOID%5D",encodeURIComponent(n.ctinfo.id||"")),a.template=a.template.replace("%5BAVC_TITLE%5D",encodeURIComponent(n.ctinfo.title||""))}catch(O){}return d}var e=[],h=0,l=[],p=document.getElementById(n.position);p||(p=n.slot);ca||(ca=document.createElement("div"),ca.id="anibid",p.appendChild(ca));var q=[],r={request:{},bid:{}};p=k.vastConfig;for(var t=!1,u=0;u<k.waterfall.data.tags.length;u++)if(k.waterfall.data.tags[u].AdBid=
!1,k.waterfall.data.tags[u].reqFiltered||k.waterfall.data.tags[u].reqImpsFiltered)h++,h>=k.waterfall.data.tags.length&&c();else{if(Utils.isMobile()&&k.waterfall.data.tags[u]&&"string"===typeof k.waterfall.data.tags[u].url&&0<k.waterfall.data.tags[u].url.indexOf("rocket10.adspirit.net")){var v="1";try{Utils.isiOS()?10<=Utils.getOSVersion().major&&(v="2"):Utils.isAndroid()&&53<=Utils.getChromeVersion()&&(v="2")}catch(fa){}if("1"==v){h++;h>=k.waterfall.data.tags.length&&c();continue}}v=m.AV_player.waterfall.data.tags[u];
f()&&v.trackingParams&&(v.impressionTrackingPixel=f()+"&"+v.trackingParams+"&e=impression&cb="+Date.now(),v.trackingPixel=f()+"&"+v.trackingParams+"&e=");var w="",x="";if(m.AV_player.waterfall.data.gEvents||m.AV_player.waterfall.data.events)t=!0;m.AV_player.waterfall.data.gEvents&&m.AV_player.waterfall.data.gEvents[v.groupId]?(w=f()?f()+"&"+m.AV_player.waterfall.data.gEvents[v.groupId]:m.AV_player.waterfall.data.gEvents[v.groupId],x=v.nasid):(w=m.AV_player.waterfall.data.requestPixel,x=v.asid);w?
b(x,w,!1,t,v.groupId,"request"):T("request",x);k.waterfall.data.tags[u].url||(k.waterfall.data.tags[u].url="");k.waterfall.data.tags[u].fixedUrl=d(k.waterfall.data.tags[u]);k.waterfall.data.tags[u].AdBid=null;e[u]=new g(ca,n.clickfunc);e[u].id=u;if("googima"==k.waterfall.data.tags[u].type||0==k.waterfall.data.tags[u].url.toLowerCase().indexOf("https://googleads.g.doubleclick.net/pagead/ads?"))k.waterfall.data.tags[u].fixedUrl="https://ima3vpaid.appspot.com/?adTagUrl="+encodeURIComponent(k.waterfall.data.tags[u].url)+
"&type=all";if(-1<k.waterfall.data.tags[u].fixedUrl.indexOf("[AVC_INVIEW]"))try{v=0;w=!1;var y=Utils.getViewability(n.slot);y&&(v=Math.floor(100*y.ratio));w=1*(50<v);k.waterfall.data.tags[u].fixedUrl=k.waterfall.data.tags[u].fixedUrl.replace("[AVC_INVIEW]",w);k.waterfall.data.tags[u].fixedUrl=k.waterfall.data.tags[u].fixedUrl.replace("[AVC_INVIEWPERC]",v)}catch(fa){}e[u].load(k.waterfall.data.tags[u],p,k.waterfall.data.trackers,T,n.tgt).then(function(a){}).catch(function(a){h++;Utils.writeLog(Utils.logLevels.defaultLevel,
"1.AdError:"+a);h>=k.waterfall.data.tags.length&&c()});e[u].on("AdBid",function(a,d,e,g,p,q){if(m.AV_player.waterfall.data.gEvents&&m.AV_player.waterfall.data.gEvents[p.groupId]){var r=m.AV_player.waterfall.data.gEvents[p.groupId]+"&nasid="+encodeURIComponent(p.nasid);var W=f()+"&"+r+"&e="}else p.trackingPixel&&(W=p.trackingPixel);W&&n.tmf.reqbid&&(t?b(p.nasid,m.AV_player.waterfall.data.requestPixel,!1,t,p.groupId,"bid"):(new Image).src=W+"bid&cb="+Date.now());a.asTrackingInfo={params:r,base:f()};
l={id:g.id,player:a,mediaFiles:d,parameters:e,vastPlayer:g,trackingPixel:W,tag:p,impTime:0,muteCount:0,impMuteCount:0};m.AV_player.waterfall.data.pUrl&&m.AV_player.waterfall.data.gEvents&&p.groupId&&p.nasid&&(l.impPostPixel=m.AV_player.waterfall.data.pUrl+"&"+m.AV_player.waterfall.data.gEvents[p.groupId]+"&nasid="+encodeURIComponent(p.nasid)+"&e=");a.dispatchWaterfallApiEvent=T;a.asid=k.waterfall.data.tags[g.id].asid;Utils.writeLog(Utils.logLevels.defaultLevel,"AdBid:"+g.id+":"+d[0].type);k.waterfall.data.tags[g.id].Ad=
l;k.waterfall.data.tags[g.id].AdBid=!0;h++;h>=k.waterfall.data.tags.length&&c()})}b(null,m.AV_player.waterfall.data.requestPixel,!0,t,null,"request")}function X(a,b){a="https://player.aniview.com/beacon/"+a+".txt?cb="+Date.now();if("string"===typeof k.authTxt)setTimeout(function(){b(k.authTxt)},10);else{var c=ma("GET",a,!1);"undefined"!==typeof c.onreadystatechange?c.onreadystatechange=function(){4!=c.readyState||200!=c.status&&304!=c.status||b(c.responseText)}:c.onload=function(){b(c.responseText)};
c.send()}}function Q(a){M--;if(0<M&&7>k.err500){var b=100;if(500<=a||0==a)k.err500++,b=1<k.err500?5E3*k.err500:1E3*k.err500;setTimeout(function(){P(Z)},b)}}function ia(){if(!(0<k.impCount)&&k.waterfall&&k.waterfall.data&&k.waterfall.data.trackers&&0<k.waterfall.data.trackers.length)for(var a=0;a<k.waterfall.data.trackers.length;a++)if("supplyError"==k.waterfall.data.trackers[a].e)if(2==k.waterfall.data.trackers[a].t){var b=document.createElement("script");b.src=k.waterfall.data.trackers[a].url;try{k.slotWindow.document.getElementsByTagName("body")[0].appendChild(b)}catch(ha){}}else(new Image).src=
k.waterfall.data.trackers[a].url}function P(a,b){function c(a){if(a&&"1"==n.tgt&&"undefined"!==typeof a.vpct){if(Date.now()-a.vpct<1E3*n.vpaidfreq)return!1;a.vpct=Date.now()}return!0}function d(a,b){if(b){for(var c=0;c<a.data.tags.length;c++)a.data.tags[c].asid=a.data.tags[c].asid||b.asid,a.data.tags[c].clickThroughUrl=a.data.tags[c].clickThroughUrl||"",a.data.tags[c].impressionTrackingPixel="https:"+b.impressionTrackingPixel+"&cb="+Date.now(),a.data.tags[c].price=a.data.tags[c].price||"0",a.data.tags[c].tagTimeout=
a.data.tags[c].tagTimeout||"20000",a.data.tags[c].trackingPixel="",a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_HOST]",k.host||""),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_ASID]",a.data.tags[c].asid),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_CID]",n.channelid),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_SUBID]",
k.macros.AV_SUBID||"");a.data.totalTimeout="20000";a.data.requestPixel="";return a}}function e(a,b){if(!k.stopAd)try{if(0<M)if("string"===typeof a?(5>a.length&&(a="{}"),p=JSON.parse(a)):p=a,p&&"1"==p.blacklisted)Utils.writeLog(Utils.logLevels.defaultLevel,"Serving blacklisted:");else{if("undefined"!==typeof n.waterfall&&("string"===typeof n.waterfall&&d(p,u),a=p,"object"===typeof k.macros)){"undefined"===typeof k.macros.AV_USERAGENT&&navigator.userAgent&&(k.macros.AV_USERAGENT=encodeURIComponent(navigator.userAgent));
for(var c=0;c<a.data.tags.length;c++)if("string"===typeof a.data.tags[c].url)try{for(var f in k.macros)k.macros.hasOwnProperty(f)&&"AV_"==f.substring(0,3)&&(a.data.tags[c].url=a.data.tags[c].url.replace("["+f+"]",k.macros[f]));a.data.tags[c].url=a.data.tags[c].url.replace("[AV_RANDOM]",Date.now().toString());a.data.tags[c].url=a.data.tags[c].url.replace("[AV_TIMESTAMP]",Date.now().toString())}catch(xa){}}f=!1;n.pbjstag&&"object"===typeof n.pbjstag&&("string"===typeof n.pbjstag.vastXml&&p&&"object"==
typeof p&&p.data&&(p.data.tags=[{type:"vastxml",vastxml:n.pbjstag.vastXml,tagTimeout:2E4}],f=!0),n.pbjstag=null);a=p;if("object"==typeof a&&a.data&&a.data.tags&&0<a.data.tags.length){var e=a.data.tags;c=N;for(var g=0;g<e.length;g++){var h=!1;if(e[g].playerSettings&&"undefined"!==typeof e[g].playerSettings.maxRPM&&0<e[g].playerSettings.maxRPM)if(null==c.requestFC&&(c.requestFC={}),"undefined"===typeof c.requestFC[e[g].asid])c.requestFC[e[g].asid]={maxRPM:e[g].playerSettings.maxRPM,lc:Date.now()},e[g].reqFiltered=
!1;else{var l=c.requestFC[e[g].asid];l.maxRPM&&0!=l.maxRPM||(l.maxRPM=6E4);var m=6E4/l.maxRPM;Date.now()-l.lc<m?h=e[g].reqFiltered=!0:(e[g].reqFiltered=!1,"undefined"!==typeof e[g].playerSettings.maxRPM&&(c.requestFC[e[g].asid].maxRPM=e[g].playerSettings.maxRPM),c.requestFC[e[g].asid].lc=Date.now())}!h&&e[g].playerSettings&&("undefined"!==typeof e[g].playerSettings.mips&&0<e[g].playerSettings.mips||"undefined"!==typeof e[g].playerSettings.mrqs&&0<e[g].playerSettings.mrqs)&&(k.maximps[e[g].asid]?(k.maximps[e[g].asid].reqs++,
0<e[g].playerSettings.mips&&k.maximps[e[g].asid].imps>=e[g].playerSettings.mips&&(e[g].reqImpsFiltered=!0),0<e[g].playerSettings.mrqs&&k.maximps[e[g].asid].reqs>e[g].playerSettings.mrqs&&(e[g].reqImpsFiltered=!0)):(k.maximps[e[g].asid]={mips:e[g].playerSettings.mips,imps:0,mrqs:e[g].playerSettings.mrqs,reqs:1},e[g].reqImpsFiltered=!1))}}k.waterfall=a;n.block&&k.waterfall&&k.waterfall.data&&!a.data.block&&(k.waterfall.data.block=n.block);b&&N[F]&&(N[F].tc=a,N[F].tcc=f?1:b);!k.nladstarted&&k.waterfall&&
k.waterfall.data&&k.waterfall.data.nltags&&0<k.waterfall.data.nltags.length&&(E(n.contentvideo,n.contentadscontainer,k.waterfall.data.nltags),k.nladstarted=!0);k.waterfall&&k.waterfall.data&&(k.waterfall.data.sd&&(k.sd=k.waterfall.data.sd),"object"===typeof k.waterfall.data.c&&(k.waterfall.data.c.post&&(n.postevt=!0),n.networkid=k.waterfall.data.c.n));try{if(k.waterfall&&k.waterfall.data&&k.waterfall.data.trackers&&0<k.waterfall.data.trackers.length){var q=k.waterfall.data.trackers;for(b=0;b<q.length;b++)if("inventory"==
q[b].e&&!k.inventoryTracker||"inventoryRequest"==q[b].e)if(1!=q[b].t&&q[b].t)if(2==q[b].t){var r=document.createElement("script");r.src=q[b].url;document.body.appendChild(r)}else 3==q[b].t&&(r=document.createElement("iframe"),r.src=q[b].url,document.body.appendChild(r));else(new Image).src=q[b].url}}catch(xa){}k.inventoryTracker=!0;if("function"===typeof n.updatewaterfall)try{n.updatewaterfall(k.waterfall.data.tags)}catch(xa){}k.waterfall&&k.waterfall.data&&k.waterfall.data.tags&&0<k.waterfall.data.tags.length?
(I(),k.err500=0):(k.runCount=9999999,Q())}else Q()}catch(xa){Q()}}function g(a){if(0<M){var b="cb="+Date.now();b=-1<a.indexOf("?")?"&"+b:"?"+b;var c=k.sd?"&"+k.sd:"",d="";if(k.macros&&!k.macros.AV_CONSENT){var f=Utils.getConsent();f&&f.success&&f.consentData&&(d="&AV_CONSENT="+f.consentData)}else Utils.setConsent(k.macros.AV_CONSENT,k.macros.AV_GDPR,k.macros.AV_CGLOBAL);Utils.getProtocol();h=ma("GET",a+d+b+c,"http:"==Utils.baseProtocol||"https:"==Utils.baseProtocol);h.requesthandled=!1;"undefined"===
typeof h.onreadystatechange?(h.onprogress=function(){},h.ontimeout=function(){},h.onload=function(){e(h.responseText,k.tagCacheMaxCount)},h.onerror=function(){Q(h.status)}):h.onreadystatechange=function(){4==h.readyState&&(200==h.status||304==h.status?e(h.responseText,k.tagCacheMaxCount):Q(h.status))};h.send()}else Q()}if(!k.stopAd)if(k.startAdViTime=0,k.currentAd=0,k.active){Utils.writeLog(Utils.logLevels.debug,"Requesting new waterfall "+k.tagRequestCount);var h,p;F=n.position+n.publisherid+n.channelid;
var q=!1,r=n.midrolltime;U&&0==n.preroll&&.1<n.midrolltime&&0<n.midrolldelay&&(q=!0,r=n.midrolldelay);U=!1;w();var t=k.impressionSet;if(t){0<k.preroll&&k.preroll--;if(0==k.preroll&&(q=!0,0==n.loop&&"content"!=n.preloader.type)){Utils.writeLog(Utils.logLevels.debug,"stop waterfall preroll done");return}k.impressionSet=!1}if(k.tagRequestCount>n.vastretry||k.runCount>=n.maxrun||k.impCount>=n.maximp){0<k.preroll&&(k.preroll=0);k.tagRequestCount=0;ja++;q=ja>n.errorlimit||k.runCount>=n.maxrun||k.impCount>=
n.maximp;if("function"===typeof l.onAdError)l.onAdError({errorlimit:q},"1"==n.tgt);q&&ia();if("1"==n.tgt){Utils.bufferTrackingPixel("vpaid",m.AV_player.waterfall&&m.AV_player.waterfall.data&&f(),null,!0);z(!0);return}if(q){b=k.stopWaterfall=!0;(null==n.preloader.type||n.passbackpriority)&&n.passbackurl&&(n.passbackpriority&&(b=!1,k.AVcontent&&k.AVcontent.pauseAd()),k.divPreloader.style.width="100%",k.divPreloader.style.height="100%",k.divPreloader.style.zIndex=n.maxzindex,k.divPreloader.style.position=
"absolute",r=document.createElement("iframe"),r.id="ani_passback",r.style.height=n.height+"px",r.style.width=n.width+"px",r.style.overflow="hidden",r.setAttribute("scrolling","no"),r.style.margin="0px 0px 0px 0px",r.style.padding="0px, 0px, 0px, 0px",k.divPreloader.innerHTML="",k.divPreloader.style.background="#000",k.divPreloader.appendChild(r),t=document.createElement("script"),t.type="text/javascript",t.src=n.passbackurl,r.appendChild(t));b&&aa();b="maximp";ja>n.errorlimit?b="errorlimit":k.runCount>=
n.maxrun&&(b="maxrun");Utils.writeLog(Utils.logLevels.debug,"stop waterfall "+b);return}q=!0}if(0==k.preroll&&"content"==n.preloader.type&&(aa(),!n.midrolltime)){0<n.preroll&&(k.resetAdRequest=!0);Utils.writeLog(Utils.logLevels.debug,"stop waterfall wait for content end");return}if(q&&0<n.midrolltime)"function"===typeof n.midrollfunc?setTimeout(function(){n.midrollfunc(function(){P(Z,!0)})},10):k.midrollTimer=setTimeout(function(){P(Z,!0)},1E3*r);else{if(!b&&!t&&1==n.mode&&"function"!==typeof n.waterfall&&
(b=ja*n.vastretry+k.tagRequestCount,10<b&&(b=1E3*Math.floor(b/10),b>L))){L=b;setTimeout(function(){P(a,!0)},b);return}k.tagRequestCount++;k.useFlashProxy=!1;k.runCount++;N=function(){var a=k.slotWindow;"undefined"===typeof a&&(a=m);"1"==n.tgt&&(a=Utils.getTopWnd(a));"undefined"===typeof a.storageAni&&(a.storageAni={});"undefined"===typeof a.storageAni[F]&&(a.storageAni[F]={tc:null,tcc:0,vpct:0});"undefined"===typeof a.storageAni.requestFC&&(a.storageAni.requestFC=null);"1"==n.tgt&&("undefined"===
typeof a.storageAni.syncs&&(a.storageAni.syncs={}),m.AV_biddersFactory&&(m.AV_biddersFactory.syncs=a.storageAni.syncs));return a.storageAni}();var u=null;if("1"==n.tgt){if(!c(N[F])){Q(-1);return}}else(new Image).src=Y+"inventoryRequest&cb="+Date.now();if("function"===typeof l.onInventoryRequest)l.onInventoryRequest();if("undefined"===typeof n.waterfall||"string"===typeof n.waterfall){if(N[F]&&N[F].tc&&0<N[F].tcc&&!k.resetTagCache){N[F].tcc--;var W=N[F].tc}else k.resetTagCache=!1,W=null;W?setTimeout(function(){e(W)},
1):"string"===typeof n.waterfall?("//"==n.waterfall.substring(0,2)&&(n.waterfall=Utils.getProtocol()+n.waterfall),X(n.publisherid,function(a){try{var b=JSON.parse(a);k.authTxt=a}catch(fa){b={domains:[]}}u=b;for(a=0;a<b.domains.length;a++){var c=n.waterfall.indexOf(b.domains[a].domain);if(7==c||8==c){g(n.waterfall);return}}Q()})):g(a)}else"function"!==typeof n.waterfall&&"object"!==typeof n.waterfall||X(n.publisherid,function(a){try{var b=JSON.parse(a);k.authTxt=a}catch(Aa){b={domains:[]}}u=b;if("function"===
typeof n.waterfall)n.waterfall(function(a,c){for(var f=0;f<b.domains.length;f++)if(c==b.domains[f].domain){setTimeout(function(){a=d(a,b);e(a)},10);return}Q()});else{a=n.waterfall;var c=b;if(a.data&&a.data.tags){for(var f=0;f<a.data.tags.length;f++){for(var g=!1,h=0;h<c.domains.length;h++){var l=a.data.tags[f].url.indexOf(c.domains[h].domain);if(7==l||8==l){g=!0;break}}if(g&&(c.key&&c.value||c.keys)&&((h=Utils.getUrlParameters(a.data.tags[f].url))&&h[c.key]&&0==h[c.key].indexOf(c.value)||(g=!1),h&&
"object"===typeof c.keys))for(l=0;l<c.keys.length;l++)for(var m in c.keys[l])if(h[m]&&-1<h[m].indexOf(c.keys[l][m])){g=!0;break}g||(a.data.tags.splice(f,1),f--)}a=d(a,b);e(a)}else Q()}})}}else Utils.writeLog(Utils.logLevels.debug,"Stop requesting new waterfall - not active"),z(!0),Utils.writeLog(Utils.logLevels.debug,"stop waterfall not active")}function T(a,b,c){if(m.AV_player.waterfall&&m.AV_player.waterfall.data&&"function"===typeof m.AV_player.waterfall.data.onEvent)m.AV_player.waterfall.data.onEvent(a,
b,c);if("function"===typeof l.onAdEvent)l.onAdEvent(a,b,c)}function ma(a,b,c){var d=new XMLHttpRequest;"withCredentials"in d?(d.open(a,b,!0),1==c&&(d.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null;return d}function E(a,b,d){function e(){if(!l){l=!0;k.nlc&&(k.nlc.style.visibility="hidden");var a=m;a&&a.stopAd();if(b&&a&&a.frame){a.frame=null;try{for(;b.firstChild;)b.removeChild(b.firstChild)}catch(la){}}0<p&&(clearTimeout(p),p=0)}}function h(a,b,d){if(!k.stopAd&&
k.active){k.nlc&&(k.nlc.style.visibility="hidden",k.nlc.id="nonl-container",k.nlc.style.height=b.style.height="100px",k.nlc.style.overflow=b.style.overflow="hidden",b.style.position="absolute",b.style.bottom="0px");e();var h=new g(ca,!1),q={asid:"Content",type:"pl",platform:3,template:encodeURIComponent('{"tagUrl":"'+d[0].url+'","overlay":"true"}'),impressionTrackingPixel:f()+"&"+d[0].trackingParams+"&e=impression&cb="+Date.now(),initAdTimeout:2E4,startAdTimeout:2E4};q.impressionTrackingPixel=q.impressionTrackingPixel.replace("tgt=0",
"tgt=4");h.load(q,{nljs:!0,js:!0},[],function(){}).then(function(a){}).catch(function(a){});h.on("AdBid",function(f,g,h,q,r){l=!1;m=f;f.once(c.AdLoaded,function(){var a=this;setTimeout(function(){a.start()},50)});f.once(c.AdImpression,function(){k.nlc&&(k.nlc.style.visibility="visible");p=setTimeout(function(){e()},1E3*n.nlruntime);f.resizeAd(k.nlc.clientWidth,100,"normal");Utils.writeLog(Utils.logLevels.debug,"Nonlinear impression"+d[0].asid)});f.once(c.AdError,function(){e();Utils.writeLog(Utils.logLevels.debug,
"Nonlinear AdError"+d[0].asid)});f.once(c.AdSkipped,function(){e();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdSkipped"+d[0].asid)});f.once(c.AdStopped,function(){e();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdStopped"+d[0].asid)});f.once(c.AdVideoComplete,function(){e();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdVideoComplete"+d[0].asid)});f.once(c.AdClosed,function(){e();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdClosed"+d[0].asid)});f.load(g,h,this,null,b,a,r.type,r).then(function(){f.reporter.track(f)})})}}
var l=!0,m,p=0;if(a&&b&&d&&0<d.length){var q="";a.paused||(q=a.src,setTimeout(function(){h(a,b,d)},1E3*(n.nldelay||0)));a.addEventListener("playing",function(){q!=this.src&&(q=this.src,h(a,b,d))});a.addEventListener("loadedmetadata",function(){})}}function aa(b){function c(a,b){a&&(-1<a.indexOf("aniview.")||a.indexOf("ani-view."));if(m.AV_player.contentPixel&&2>m.AV_player.AVcontent.currentTime&&(m.AV_player.contentPixel=!1,"function"==typeof l.onContentImpression))l.onContentImpression(a)}if(!(k.stopAd||
"content"!=n.preloader.type||!k.active||0<k.preroll&&!b))if(n.autoplay||0!=n.preloader.autoplay){b=1==n.preloader.nativeVideo;var f=a&&p||d&&!(p&&53<=Utils.getChromeVersion())||1==n.preloader.imageVideo,e=0;n.nonnativecontent&&(f=!0);"56ea678d181f46c76f8b45fb"!=n.publisherid&&"5857b9e90b8ee887ed01e880"!=n.publisherid&&"55b78633181f4603178b4568"!=n.publisherid||!d||(f=!0);"5857b9e90b8ee887ed01e880"!=n.publisherid&&"55b78633181f4603178b4568"!=n.publisherid||!a||(f=!0);if(k.playContent)A.player!==k.AVcontent&&
(!q()&&0<k.AVcontent.volume&&(k.AVcontent.volume=0,k.AVcontent.muted=!0,A.muted=!0,k.AVcontent.setAttribute("muted",!0)),A.setPlayer(k.AVcontent,!(0<k.AVcontent.volume&&!k.AVcontent.muted))),A.controls(!n.hidecontrols&&(!n.hidemobilecontrols&&Utils.isMobile()||k.mobileControlsOn||!Utils.isMobile())),k.AVcontent.style.display="block","content"==m.AV_player.config.preloader.type&&0==m.AV_player.config.autoplay&&"string"===typeof m.AV_player.config.preloader.poster&&10<m.AV_player.config.preloader.poster.length||
(m.AV_player.divPreloader.style.zIndex="0"),k.AVcontent.style.zIndex="0",n.autoplay?("content"==n.preloader.type&&(k.diVideoPreloader.style.display="block"),k.AVcontent.resumeAd()):(n.showbigplay&&(A.bigPlay.style.display="inline"),A.bigPlay.style.position="absolute",A.bigPlay.style.zIndex=n.maxzindex,A.controls(!1),A.bigPlay.onclick=function(){n.slot.querySelector("#imgpreloader").style.display="none";n.autoplay=!0;A.bigPlay.style.display="none";"content"==n.preloader.type&&(k.diVideoPreloader.style.display=
"block");k.AVcontent.resumeAd();A.controls(!n.hidecontrols&&(!n.hidemobilecontrols&&Utils.isMobile()||k.mobileControlsOn||!Utils.isMobile()));w()});else{var g=!0,h=null,r=null,t=null;k.playContent=!0;k.AVcontent=n.slot.querySelector("#AVcontent");k.AVcontent.asid="Content";if(f)b=k.AVcontent,k.AVcontent=AniviewImagePlayer.createAniviewVideoTag(),k.AVcontent.asid="Content",k.diVideoPreloader=k.AVcontent,b.parentNode.replaceChild(k.AVcontent,b),k.AVcontent.style.position="absolute",k.AVcontent.style.width=
"100%",k.AVcontent.style.height="100%",k.AVcontent.onclick=b.onclick,h=function(){k.active&&!k.activeImpression&&(A.player!==k.AVcontent&&A.setPlayer(k.AVcontent),A.controls(!n.hidecontrols&&(!n.hidemobilecontrols||k.mobileControlsOn)),k.divPreloader.style.zIndex="0",k.AVcontent.style.zIndex="0","function"===typeof k.AVcontent.startAd&&k.AVcontent.startAd(),k.AVcontent.play(),c(m.AV_player.AVcontent.src,!0))},r=function(){k.AVcontent.pause()},t=function(){k.AVcontent.muted=!0},k.AVcontent.isAudioReady=
function(){return 1==k.AVcontent.audioReady};else if(/iPhone|iPod|iPad/.test(navigator.userAgent)&&!b){var v=!0;var x=!1;var y=null;var ka=!1,z=!1,C=!0,B=document.createElement("audio");k.AVcontent.addEventListener("canplay",function(){v=x=!0});var E=Date.now();k.contentInterval=setInterval(function(){var a=Date.now(),b=(a-E)/1E3;E=a;!g&&x&&0<k.AVcontent.buffered.length&&(k.AVcontent.buffered.end(k.AVcontent.buffered.length-1)>e?(e+=b,v&&(v=!1,k.AVcontent.currentTime=e),e>k.AVcontent.duration&&n.loop&&
(e=0,G(),setTimeout(function(){h()},1E3))):k.AVcontent.currentTime=e)},40);h=function(){k.active&&!k.activeImpression&&g&&!ka&&(A.player!==k.AVcontent&&A.setPlayer(k.AVcontent),A.controls(!n.hidecontrols&&(!n.hidemobilecontrols||k.mobileControlsOn)),k.divPreloader.style.zIndex="0",k.AVcontent.style.zIndex="0",y!=k.AVcontent.src&&(y=k.AVcontent.src,e=0,C=!0,z=!1,B.src=y,B.load()),z&&!C&&(B.currentTime=e,B.play()),g=!1,v=!0,c(m.AV_player.AVcontent.src))};r=function(){z&&(B.currentTime=e,B.pause());
v=g=!0};t=function(){var a=function(){e=B.currentTime;g=ka=!1;B.removeEventListener("playing",a)};var b=function(){e=0;B.play();B.removeEventListener("canplaythrough",b)};(B.muted=C)?B.pause():z?(B.currentTime=e,B.play()):(z=!0,g||(ka=g=!0,e=0,B.addEventListener("playing",a,!1),B.addEventListener("canplaythrough",b,!1),B.load()))};k.AVcontent.setContentVolume=function(a){C=0==a?!0:!1;t()};k.AVcontent.onvolumechange=function(){}}else if(/(android)/i.test(navigator.userAgent)&&!b){var F=!0;v=!0;x=!1;
y=null;k.AVcontent.addEventListener("canplay",function(){v=x=!0});E=Date.now();k.contentInterval=setInterval(function(){if(F){var a=Date.now(),b=(a-E)/1E3;E=a;!g&&x&&0<k.AVcontent.buffered.length&&(k.AVcontent.buffered.end(k.AVcontent.buffered.length-1)>e?(e+=b,v&&(v=!1,k.AVcontent.currentTime=e),e>k.AVcontent.duration&&n.loop&&(e=0,G(),setTimeout(function(){h()},1E3))):k.AVcontent.currentTime=e)}},40);h=function(a){k.active&&!k.activeImpression&&g&&(A.player!==k.AVcontent&&A.setPlayer(k.AVcontent),
A.controls(!n.hidecontrols&&(!n.hidemobilecontrols||k.mobileControlsOn)),k.divPreloader.style.zIndex="0",k.AVcontent.style.zIndex="0",a&&F&&(F=!1),g=!1,F?(y!=k.AVcontent.src&&(y=k.AVcontent.src,e=0),v=!0):(k.AVcontent.style.zIndex="0",k.AVcontent.play()),c(m.AV_player.AVcontent.src))};r=function(a){a&&F&&(F=!1);g=!0;F?v=!0:k.AVcontent.pause()};t=function(){F&&(F=!1,k.AVcontent.currentTime=e=0);k.AVcontent.muted=!k.AVcontent.muted;g?k.AVcontent.pause():(k.AVcontent.style.zIndex="0",k.AVcontent.play())};
k.AVcontent.setContentVolume=function(a){1!=a||g||k.AVcontent.play()};k.AVcontent.onvolumechange=function(){F&&(F=!1,k.AVcontent.currentTime=e=0);k.AVcontent.muted=1E-6<k.AVcontent.volume?!1:!0}}else k.AVcontent.onvolumechange=function(){Utils.isiOS()||(k.AVcontent.muted=1E-6<k.AVcontent.volume?!1:!0)},h=function(){k.active&&!k.activeImpression&&(g=!1,setTimeout(function(){g||(A.setPlayer(k.AVcontent,!(0<k.AVcontent.volume&&!k.AVcontent.muted)),n.hidecontrols||A.controls(!0),k.divPreloader.style.zIndex=
"0",k.AVcontent.style.zIndex="0",k.AVcontent.play())},300),c(m.AV_player.AVcontent.src))},r=function(){g=!0;k.AVcontent.pause()},t=function(){k.AVcontent.muted=!k.AVcontent.muted};k.AVcontent.volume=q()?1:0;k.AVcontent.pauseAd=function(a){r(a);if(!k.contentPaused&&(k.contentPaused=!0,"function"==typeof l.onContentPaused))l.onContentPaused()};k.AVcontent.resumeAd=function(){if(!k.AVcontent.userPaused&&(A.showPreloader(!1),k.AVcontent.src||G(),h(),k.AVcontent.style.display="block",k.contentPaused&&
(k.contentPaused=!1,"function"==typeof l.onContentPlaying)))l.onContentPlaying()};k.AVcontent.addEventListener("timeupdate",function(){k.AVcontent.adDuration=k.AVcontent.duration;k.AVcontent.adRemainingTime=k.AVcontent.duration-k.AVcontent.currentTime;if(1>k.AVcontent.adRemainingTime&&0==k.contentPixel){if("function"==typeof l.onContentComplete)l.onContentComplete();k.AVcontent.volume=0;A.player===k.AVcontent&&(A.muted=!0);q()?(k.AVcontent.volume=1,k.AVcontent.removeAttribute("muted"),A.muted=!1):
k.AVcontent.setAttribute("muted",!0);if(!n.loop){k.active=!1;k.contentInterval&&clearInterval(k.contentInterval);k.contentInterval=0;k.contentPixel=!0;k.AVcontent.pauseAd(!0);return}k.AVcontent.currentTime=0;k.contentPixel=!0;e=0;"function"===typeof k.AVcontent.init&&k.AVcontent.init(n.preloader.fullframe);if(ja<=n.errorlimit&&(0<n.preroll&&0==n.midrolltime&&u(),0<k.preroll&&!k.stopWaterfall)){A.showPreloader(!0);k.AVcontent.pauseAd(!0);k.AVcontent.style.display="none";return}A.player===k.AVcontent&&
A.playPauseClick();G();setTimeout(function(){h()},1E3);n.postroll||n.loop&&0==k.preroll&&setTimeout(function(){},100)}v=!0});var G=function(){if("undefined"===typeof k.vidPreloaders)"function"===typeof k.AVcontent.init&&k.AVcontent.init(n.preloader.fullframe),k.AVcontent.src=n.preloader.link;else{var a=k.vidPreloaders.getPreloader();"function"===typeof k.AVcontent.init&&k.AVcontent.init(n.preloader.fullframe);k.AVcontent.src=a.url;k.diVideoPreloader.onclick=function(){if(n.autoplay){if("function"==
typeof l.onBannerClick)l.onBannerClick();n.hidemobilecontrols&&!k.mobileControlsOn?(k.mobileControlsOn=!0,A.controls(!0),k.mobileControlsTimer=setTimeout(function(){k.mobileControlsOn=!1;k.mobileControlsTimer=0;A.controls(!1)},1E3*n.mobilecontrolsdelay)):""!=n.preloader.clickthrough&&""!=a.clickthrough&&(m.open(a.clickthrough,"blank"),D("ContentClick"))}else A.bigPlay.onclick()}}k.AVcontent.load();q()?(k.AVcontent.volume=1,k.AVcontent.muted=!1,A.muted=!1,k.AVcontent.removeAttribute("muted")):k.AVcontent.setAttribute("muted",
!0);k.AVcontent.ready=!0;A.setPlayer(k.AVcontent,!(0<k.AVcontent.volume&&!k.AVcontent.muted));A.controls(!n.hidecontrols&&(!n.hidemobilecontrols&&Utils.isMobile()||k.mobileControlsOn||!Utils.isMobile()));"content"==m.AV_player.config.preloader.type&&0==m.AV_player.config.autoplay&&"string"===typeof m.AV_player.config.preloader.poster&&10<m.AV_player.config.preloader.poster.length||(m.AV_player.divPreloader.style.zIndex="0");k.AVcontent.style.zIndex="0";n.autoplay?h():A.controls(!1)};k.AVcontent.style.display=
"block";k.AVcontent.style.zIndex="0";G()}}else A.setPlayer({ready:!0,resumeAd:function(){aa();A.showPreloader(!1)}},!0)}var L=0,Y="",N,F,k,n;g.vpaidSWFLocation="";l.startAd=function(a){if(!k.stopAd&&!k.wfPause&&(Utils.writeLog(Utils.logLevels.debug,"startAd Request"),(!n.autoplay||a&&-1==k.playing)&&k.adLoaded))if(n.autoplayloop&&(n.autoplay=!0),A.bigPlay.style.display="none",1<=k.readyToPlay.length&&-1==k.playing){var b=v();b&&(k.playing=b.id,k.player=k.waterfall.data.tags[b.id].Ad.player,setTimeout(function(){b.player.start()},
10))}else-1<k.playing&&n.autoplayloop&&k.waterfall.data.tags[k.playing].Ad.player.start()};l.setWaterfallState=function(a,b,c){if(a==k.wfPause&&(k.wfPause=!a,!k.wfPause&&b&&l.startAd(!0),k.wfPause&&b&&-1<k.playing)){k.waterfall.data.tags[k.playing].Ad.player.pauseAd();if(k.waterfall.data.tags[k.playing].Ad.player.impressionSet&&"function"==typeof l.onAdSkipped)l.onAdSkipped();k.waterfall.data.tags[k.playing].Ad.player.stopAd()}};l.seekAd=function(a){0<=m.AV_player.playing&&m.AV_player.waterfall.data.tags[m.AV_player.playing].Ad.player.seekAd(a)};
l.setAdVolume=function(a){if(!(k.stopAd&&0<a)&&(Utils.writeLog(Utils.logLevels.debug,"setAdVolume request "+a),0<a?A&&(A.muted=!1):A&&(A.muted=!0),0<=k.playing)){var b=k.waterfall.data.tags[k.playing].Ad;b&&b.player&&(n.autosound&&0==a&&(n.autosound=!1),0<a&&(b.sndEnabled=!0,b.player.sndEnabled=!0),b.player.adVolume=a,b.mediaFiles&&b.mediaFiles[0]&&"application/x-shockwave-flash"==b.mediaFiles[0].type&&b.player.api&&(0<a?(b.player.api.setSystemVolume(1),b.sndInterval&&(clearInterval(b.sndInterval),
b.sndInterval=0)):b.player.api.setSystemVolume(0)))}};l.getAdVolume=function(){return 0<=k.playing&&(Utils.isAutoSound(n)||k.waterfall.data.tags[k.playing].Ad.player.sndEnabled)?k.waterfall.data.tags[k.playing].Ad.player.adVolume:0};l.pauseAd=function(){Utils.writeLog(Utils.logLevels.debug,"pauseAd request");0<=k.playing&&k.waterfall.data.tags[k.playing].Ad.player.pauseAd()};l.resumeAd=function(){k.stopAd||(Utils.writeLog(Utils.logLevels.debug,"resumeAd request"),0<=k.playing&&k.waterfall.data.tags[k.playing].Ad.player.resumeAd())};
l.getAdDuration=function(){return 0<=k.playing?k.waterfall.data.tags[k.playing].Ad.player.adDuration:-2};l.getAdCompanions=function(){if(0<=k.playing)try{return k.waterfall.data.tags[k.playing].Ad.player.adCompanions||""}catch(ka){}return""};l.getAdRemainingTime=function(){return 0<=k.playing?k.waterfall.data.tags[k.playing].Ad.player.adRemainingTime:-2};l.resizeAd=function(a,b,c){Utils.writeLog(Utils.logLevels.debug,"resizeAd: "+a+":"+b+":"+c);c||(c=Utils.getFSElement(k.slotWindow.document)?"fullscreen":
"normal");"fullscreen"==c&&(m.orientation&&90!==m.orientation&&-90!==m.orientation?(a=screen.height,b=screen.width):(a=screen.width,b=screen.height));if("undefined"!==typeof m.AV_player&&m.AV_player){if(n.contentplayer&&"fullscreen"==c)m.AV_player&&(n.width=a,n.height=b),k.player&&"function"===typeof k.player.resizeAd&&(k.player.resizeAd(a,b,c),k.player.container.style.width=a+"px",k.player.container.style.height=b+"px",k.player.video&&"function"===typeof k.player.video.resize&&k.player.video.resize(a,
b,c));else{if("fullscreen"==c){if(Utils.isiOS()){"undefined"!==typeof k.player&&k.player&&k.player.video&&k.player.impressionSet&&"function"===typeof k.player.video.resize&&k.player.video.resize(a,b,c);return}if(!Utils.getFSElement(k.slotWindow.document)){k.fsRestoreSize={width:n.width,height:n.height};Utils.setFSState(n.slot,!0);a=screen.width;b=screen.height;k.isFullScreen=!0;var d=Utils.getFSEvent();d&&k.slotWindow.document.addEventListener(d,r)}}"undefined"!==typeof m.AV_player&&m.AV_player&&
(n.width=a,n.height=b);"undefined"!==typeof k.player&&k.player&&"function"===typeof k.player.resizeAd&&(k.player.resizeAd(a,b,c),k.player.container.style.width=a+"px",k.player.container.style.height=b+"px",k.player.video&&"function"===typeof k.player.video.resize&&k.player.video.resize(a,b,c));"undefined"!==typeof k.AVcontent&&k.AVcontent&&(k.AVcontent.style.width=a+"px",k.AVcontent.style.height=b+"px")}"undefined"!==typeof A&&A&&A.resize(a,b)}};l.getContentPaused=function(){return k.contentPaused};
l.pauseContent=function(){var a=A.getPlayer()||k.AVcontent;a&&"Content"==a.asid&&(a.userPaused=!0,a.pauseAd(),A.paused=!0)};l.resumeContent=function(){var a=A.getPlayer()||k.AVcontent;a&&"Content"==a.asid&&(n.slot.querySelector("#imgpreloader").style.display="none",n.autoplay=!0,A.bigPlay.style.display="none","content"==n.preloader.type&&(k.diVideoPreloader.style.display="block"),A.controls(!n.hidecontrols&&(!n.hidemobilecontrols&&Utils.isMobile()||k.mobileControlsOn||!Utils.isMobile())),a.userPaused=
!1,a.resumeAd(),A.paused=!1)};l.setContentVolume=function(a){var b=A.getPlayer()||k.AVcontent;b&&"Content"==b.asid&&(b.volume=a,1E-6>a?(A.muted=!0,b.muted=!0):(A.muted=!1,b.muted=!1))};l.stopAd=function(){Utils.vcmgr.reset(n.advideoslot);k.stopAd=!0;0<=k.playing&&(k.waterfall.data.tags[k.playing].Ad.player.pauseAd(),k.waterfall.data.tags[k.playing].Ad.player.stopAd());setTimeout(function(){A.closeClick()},1E3)};l.skipAd=function(){0<=k.playing&&k.waterfall.data.tags[k.playing].Ad.player.skipAd()};
var U=!0,S=!1,M=9999,ja=0,A,ca;t&&t.environmentVars&&t.environmentVars.debug&&(h=!0);(function(a){function b(a){"string"===typeof a&&(a=a.trim());a=Utils.getUrlParameters(a);for(var b in a)a.hasOwnProperty(b)&&("AV_PUBLISHERID"==b?c.publisherid=a[b]:"AV_CHANNELID"==b?c.channelid=a[b]:("true"==a[b]&&(a[b]=!0),"false"==a[b]&&(a[b]=!1),c[b]=a[b],b&&"AV_"==b.substring(0,3)&&(c.ref1=c.ref1+b+"="+encodeURIComponent(a[b])+"&")))}var c={hd:!1,vastretry:0,errorlimit:5,maximp:9999,maxrun:9999,maxcrun:9999,
tgt:"0",vpaidpriority:"js",format:"all",cdnurl:Utils.httpsReplace("http://data1.aniview.com/"),adserverdomain:"go1.aniview.com",autoplay:!0,autoplayloop:!0,muted:!0,share:!1,soundbutton:!0,pausebutton:!0,closebutton:!1,closeevent:!1,fullscreen:!1,phone:"",logo:!0,ref1:"",showbigplay:!0,timelinemode:"overlay",hidecontrols:!0,hidemobilecontrols:!1,mobilecontrolsdelay:5,basejsurl:"https://player.aniview.com/script/6.1/",preroll:0,midroll:!0,midrolltime:0,midrolldelay:0,flashsslproxy:!1,flashscale:!1,
pc:!0,maxp:5,autosound:!1,startaddelay:3,startmidroll:0,startdelay:0,mutetime:4,clickfunc:!1,tm:"",tmf:{},replayfunc:null,nativevideo:!1,customcss:"",prerolltimeout:0,logoclick:!1,autosdk4:!1,nlruntime:120,topasopt:!1,showpreloader:!0,startadvitimeout:3,vpaidfreq:5,postevt:!1,antihjck:!1,ctinfo:{},minbti:20,tagcache:10,maxzindex:"99999",imaiosskip:!0,preloader:{type:null,link:null,clickthrough:null,poster:"",fullframe:!1,random:!0}};k=m.AV_player={active:!0,currentAd:0,playing:-1,readyToPlay:[],vastCache:10,
tagCacheMaxCount:10,advertisements:[],standbyTime:1E3,waterfall:void 0,player:[],players:[],mode:-1,vastretry:0,tagRequestCount:0,preroll:0,midrolltime:0,midrollTimer:0,postroll:!1,slotWindow:null,adLoaded:!1,impressionSet:!1,useFlashProxy:!1,contentPixel:!0,contentPaused:!0,startTimer:0,callStartTimeout:0,callStartTimer:0,err500:0,impCount:0,runCount:0,crunCount:0,adStoppedTimeout:3E3,topAsid:[],maximps:{},thePlayer:l,wfPause:!1,vastConfig:{vpaidPriority:"js",swf:!0,js:!0,html5:!0},config:a};n=k.config;
for(var d in k.config)if(k.config.hasOwnProperty(d)){var e=d.toLowerCase();"environmentvars"!=e&&(c[e]=k.config[d])}for(d in n.environmentVars)n.environmentVars.hasOwnProperty(d)&&(e=d.toLowerCase(),c[e]=n.environmentVars[d],"true"==c[e]&&(c[e]=!0),"false"==c[e]&&(c[e]=!1));b();a.creativeData&&a.creativeData.AdParameters&&b(a.creativeData.AdParameters);k.vastConfig.vpaidPriority=c.vpaidpriority;1==c.preroll?c.preroll=1:0==c.preroll&&(c.preroll=0);1==c.postroll?c.postroll=1:0==c.postroll&&(c.postroll=
0);0==c.preroll&&0==c.midrolltime&&(c.midrolltime=.1);if("string"===typeof c.badv&&4<c.badv.length&&!c.block)try{var g=decodeURIComponent(c.badv).split(",");0<g.length&&(c.block={script:{list:g},vast:{list:g}})}catch(oa){}"58761ee728a06109387ace21"==c.publisherid&&(c.usevslot=!0,c.vastretry=1);"56b89b31181f466b388b4575"==c.publisherid||"5c6e9cfa073ef416fd2b0112"==c.publisherid||"58d7dc4328a0611e7a4535da"==c.publisherid?(c.vpaidfreq=0,k.tagCacheMaxCount=1,1==c.tgt&&(k.tagCacheMaxCount=0),"58d7dc4328a0611e7a4535da"==
c.publisherid&&(k.tagCacheMaxCount=10,c.maxp=2,c.nativevideo=!0,"5d5934c228a0611ce55c1a82"==c.channelid&&(c.usevslot=!0,c.vastretry=2))):k.tagCacheMaxCount=c.tagcache;"undefined"===typeof c.position&&(c.position=c.slot.id);c.maxp=Math.max(1,Math.min(8,c.maxp));Utils.logLevel=c.loglevel;"object"==typeof c.slot&&"object"==typeof c.slot.ownerDocument?k.slotWindow=c.slot.ownerDocument.defaultView||c.slot.ownerDocument.parentWindow:"object"==typeof c.videoSlot&&"object"==typeof c.videoSlot.ownerDocument?
k.slotWindow=c.videoSlot.ownerDocument.defaultView||c.videoSlot.ownerDocument.parentWindow:"http:"==location.protocol||"https:"==location.protocol?k.slotWindow=m:(k.slotWindow=Utils.getTopWindow(),k.slotWindow||(k.slotWindow=m));c.format&&("json"==c.format&&(c.format="all"),"all"!==c.format&&(-1==c.format.indexOf("js")&&(m.AV_player.vastConfig.js=!1),-1==c.format.indexOf("swf")&&(m.AV_player.vastConfig.swf=!1),-1==c.format.indexOf("html5")&&(m.AV_player.vastConfig.html5=!1)));if(c.lastframe||c.loopvideo)c.mode=
-1,c.loop=!1,c.skip=!1;5<c.vastretry&&(c.vastretry=5);1==c.mode&&(c.errorlimit=99);c.loop&&-1==c.mode&&(c.mode=0);c.preloader&&c.preloader.type&&(e=c.preloader.type.toLowerCase(),c.preloader.type="content"==e?"content":"js"==e?"js":"image"==e?"Image":null);if("content"==c.preloader.type&&"object"===typeof c.preloader.link&&"string"===typeof c.preloader.link[0])for(k.vidPreloaders={current:0,random:!0,preloaders:[],addPreloader:function(a){this.preloaders.push(a)},getPreloader:function(){if(0==this.preloaders.length)return{url:"",
clickthrough:""};var a=this.random?Math.floor(Math.random()*this.preloaders.length):this.current;this.current++;this.current>=this.preloaders.length&&(this.current=0);return this.preloaders[a]}},k.vidPreloaders.random=c.preloader.random,e=0;e<c.preloader.link.length;e++)k.vidPreloaders.addPreloader({url:c.preloader.link[e],clickthrough:c.preloader.clickthrough.length>e?c.preloader.clickthrough[e]:""});""==c.preloader.link&&(c.preloader.type=null);"content"==c.preloader.type&&(c.preloader.poster=c.preloader.poster||
"");"undefined"!==typeof c.waterfall&&(c.tgt=2);"1"==c.tgt&&(c.autoplay=!1,5==c.maxp&&(c.maxp=2),3==c.startaddelay&&(c.startaddelay=.1),n.width||!n.AV_WIDTH||isNaN(n.AV_WIDTH)||(n.width=n.AV_WIDTH),n.height||!n.AV_HEIGHT||isNaN(n.AV_HEIGHT)||(n.height=n.AV_HEIGHT));c.tmf.vpaid=""==c.tm||-1<c.tm.indexOf("v");c.tmf.reqbid=""==c.tm||-1<c.tm.indexOf("r");c.tmf.adcontent=""==c.tm||-1<c.tm.indexOf("c");c.tmf.timing=""==c.tm||-1<c.tm.indexOf("t");if(c.wl&&!c.customlogo){e="";var h;c.customlogo={};c.customlogo.link=
c.basejsurl+"wl/"+c.wl+"/logo.png";c["wl.ltxt"]&&(e=c["wl.ltxt"]);"vi"==c.wl&&(h="https://www.vi.ai");c["wl.llnk"]&&(h=c["wl.llnk"]);c.customlogo.clickthrough=h;c.customlogo.text=e}c.adserverdomain&&"go1.aniview.com"!=c.adserverdomain&&c.wl&&(e=c.adserverdomain.indexOf("."),-1<e&&(h=c.adserverdomain.substring(0,e),e=c.adserverdomain.substring(e,100),c.trackdomain=c.trackdomain||h+"t"+e,c.keydomain=c.keydomain||h+"k"+e,c.adddomain=c.adddomain||h+"a"+e,c.cdnurl1=c.cdnurl1||Utils.getProtocol()+"//"+
h+"d"+e+"/"));c.adddomain=c.adddomain||"add1.aniview.com";c.keydomain=c.keydomain||"cdn1.aniview.com";c.trackdomain=c.trackdomain||"track1.aniview.com";k.baseJsUrl=c.basejsurl;k.callStartTimeout=c.startdelay;Utils.isMobile()||(c.hidemobilecontrols=!1);n=k.config=c;"56ea678d181f46c76f8b45fb"!=n.publisherid||a.environmentVars&&a.environmentVars.adServerDomain||(n.adserverdomain="premiumsrv.aniview.com");n.advideoslot&&(n.contentslot=n.advideoslot.parentNode,Utils.vcmgr.init(n.advideoslot),n.maxp=1,
Utils.writeLog(Utils.logLevels.defaultLevel,"Video element passed from content player. autosound:"+n.autosound));"1"==n.usevslot&&(n.maxp=1);n.flashsslproxy=!1;n.contentplayer&&(n.slot&&n.slot.parentNode&&(n.slot.parentNode.av_maximps||(n.slot.parentNode.av_maximps=k.maximps),k.maximps=n.slot.parentNode.av_maximps),n.showpreloader=!1,n.contentadscontainer&&n.contentadscontainer.parentNode&&n.contentadscontainer.parentNode.parentNode&&"nonl-container"==n.contentadscontainer.parentNode.parentNode.className&&
(k.nlc=n.contentadscontainer.parentNode.parentNode,k.nlc.style.visibility="hidden"));Utils.init(k.slotWindow,n.vitab,n.floatpos,n.width,n.height);n.antihjck&&Utils.initScrollIntoViewHandler(k.slotWindow,n.slot);Utils.getConsent(function(){k.resetTagCache=!0});Utils.isMobile()&&((a=Utils.getTopWnd())&&a.storageAni&&a.storageAni.ap?(n.nativevideo=!0,n.nativetest=!0):Utils.checkNativeVideo(function(a){a&&(n.nativevideo=!0,n.nativetest=!0,N&&(N.ap=!0))}));if(n.forcenewcdn||!n.cdnurl1&&"add1.aniview.com"===
n.adddomain&&"cdn1.aniview.com"===n.keydomain)n.newcdn=!0;m.addEventListener("unload",function(){m.AV_player&&m.AV_player.waterfall&&Utils.bufferTrackingPixel("vpaid",m.AV_player.waterfall&&m.AV_player.waterfall.data&&f(),null,!0)},!1);u()})(t);(function(a){var b=AV_player.slotWindow.document.getElementsByTagName("head")[0];b||(b=AV_player.slotWindow.document.getElementsByTagName("body")[0]);b||(b=AV_player.config.slot);if(!k.cssTag){m.AV_player.cssTag=!0;var c=document.createElement("style"),d=m.aniviewCSS+
" "+n.customcss;c.type="text/css";c.id="av_css_id";c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d));var e=AV_player.slotWindow.document.getElementById("av_css_id");e&&e.innerHTML==d||b.appendChild(c);setTimeout(function(){a()},10)}})(function(){if(!S){x(5);S=!0;var a=m.aniviewGetGui(),b=document.createElement("div");k.playerSlot=b;"1"==n.tgt&&(b.style.top="0px",b.style.width="100%",b.style.height="100%",b.style.position="absolute");t.environmentVars.slot.appendChild(b);
b.innerHTML=a;b.id=t.environmentVars.slot.id+"gui";a=b.querySelector("#av-container");k.divPreloader=b.querySelector("#imgpreloader");"content"==n.preloader.type&&(k.diVideoPreloader=b.querySelector("#AVcontent"),k.diVideoPreloader.style.width="100%",k.diVideoPreloader.style.height="100%",k.diVideoPreloader.style.display="none",k.diVideoPreloader.style.position="absolute");n.preloader&&("Image"==n.preloader.type&&""!=n.preloader.link||"content"==n.preloader.type&&"undefined"!==typeof n.preloader.poster)&&
(b="Image"==n.preloader.type?n.preloader.link:n.preloader.poster,k.divPreloader.style.width="100%",k.divPreloader.style.height="100%",b&&""!=b&&(k.divPreloader.style.background="url('"+b+"') center center no-repeat"),n.preloader.poster&&(k.divPreloader.style.backgroundSize="contain"),"content"==m.AV_player.config.preloader.type&&0==m.AV_player.config.autoplay&&"string"===typeof m.AV_player.config.preloader.poster&&10<m.AV_player.config.preloader.poster.length&&(m.AV_player.divPreloader.style.zIndex=
"1"),k.divPreloader.style.position="absolute",""!=n.preloader.clickthrough&&"Image"==n.preloader.type&&(k.divPreloader.style.zIndex=n.maxzindex,k.divPreloader.style.cursor="pointer",k.divPreloader.onclick=function(){if("function"==typeof l.onBannerClick)l.onBannerClick();m.open(n.preloader.clickthrough,"blank");D("ContentClick")}),"content"==n.preloader.type&&(k.diVideoPreloader.onclick=function(){if(n.autoplay){if("function"==typeof l.onBannerClick)l.onBannerClick();n.hidemobilecontrols&&!k.mobileControlsOn?
(k.mobileControlsOn=!0,A.controls(!0),k.mobileControlsTimer=setTimeout(function(){k.mobileControlsOn=!1;k.mobileControlsTimer=0;A.controls(!1)},1E3*n.mobilecontrolsdelay)):""!=n.preloader.clickthrough&&(m.open(n.preloader.clickthrough,"blank"),D("ContentClick"))}else A.bigPlay.onclick()}));if("js"==n.preloader.type){k.divPreloader.style.width="100%";k.divPreloader.style.height="100%";k.divPreloader.style.zIndex=n.maxzindex;k.divPreloader.style.position="absolute";b=document.createElement("iframe");
b.id="ani_passback";k.divPreloader.style.position="absolute";b.style.height=n.height+"px";b.style.width=n.width+"px";b.style.border="none";b.style.overflow="hidden";b.setAttribute("scrolling","no");b.setAttribute("frameborder","0");b.style="margin=0";b.style="Padding=0";k.divPreloader.innerHTML="";k.divPreloader.appendChild(b);var c=document.createElement("script");c.type="text/javascript";c.src=n.preloader.link;b.appendChild(c)}a={container:a,videoSlotName:t.position,autoplay:n.autoplay,muted:n.muted,
share:n.share,sound:n.soundbutton,playPause:n.pausebutton,fullscreen:n.fullscreen,phone:n.phone,logo:n.logo,lastframe:n.lastframe,showBigPlay:n.showbigplay,close:n.closebutton,skip:n.skip,skipTimer:n.skiptimer,skipText:n.skiptext,responsive:null==t.width&&null==t.height,width:n.width,height:n.height,hideControls:n.hidecontrols,timelineMode:n.timelinemode,timelineChange:n.timelinechange,showpreloader:n.showpreloader,inttimeout:1==n.tgt?150:75};Utils.writeLog(Utils.logLevels.defaultLevel,"pl.config:",
k.config);Utils.writeLog(Utils.logLevels.defaultLevel,"config:",a);A=new AnivewPlayerGUI(a);A.controls(!1);"content"==n.preloader.type&&0>=k.preroll&&aa();"js"==n.preloader.type&&(A.gui.style.display="none");0==m.AV_player.config.autoplay&&m.AV_player.config.preloader&&"content"==m.AV_player.config.preloader.type&&(n.showbigplay&&(A.bigPlay.style.display="inline"),A.bigPlay.style.position="absolute",A.bigPlay.style.zIndex=n.maxzindex,A.bigPlay.onclick=function(){m.AV_player.config.autoplay=!0;A.bigPlay.style.display=
"none";A.playClick();w()});if(n.customlogo&&(a=n.slot.querySelector("#aniview-credit"))){if(n.customlogo.text||""==n.customlogo.text)a.innerHTML=n.customlogo.text+"<span>";n.customlogo.height&&(a.getElementsByTagName("SPAN")[0].style.height=n.customlogo.height+"px");n.customlogo.width&&(a.getElementsByTagName("SPAN")[0].style.width=n.customlogo.width+"px");a.getElementsByTagName("SPAN")[0].style.margin="4 4 4 2";n.customlogo.link&&(a.getElementsByTagName("SPAN")[0].style.backgroundImage="url('"+n.customlogo.link+
"')");a.onclick=function(){n.customlogo.clickthrough&&m.open(n.customlogo.clickthrough)}}P(Z)}});var Z=function(){var a="";var b={};if(n.ref1)if("string"===typeof n.ref1&&0<n.ref1.length){var c=n.ref1.split("&");for(var d=0;d<c.length;d++){var e=!1;var f=c[d].split("=");if(2<=f.length)try{if("current_url"==f[0]||"AV_URL"==f[0])e=!0;0!=f[0].indexOf("AV_DECODED")&&(f[1]=decodeURIComponent(f[1]),f[1]=decodeURIComponent(f[1]),e&&(f[1]=Utils.getAmpUrl(f[1])),f[1]=encodeURIComponent(f[1]));b[f[0]]=f[1];
if(e&&(a=f[1])&&0<a.length){var g=a.substring(0,1);if("%"==g||"{"==g||"$"==g||"["==g||"<"==g)a=""}}catch(ba){("current_url"==f[0]||"AV_URL"==f[0])&&(a=f[1])&&0<a.length&&(g=a.substring(0,1),"%"==g||"{"==g||"$"==g||"["==g||"<"==g)&&(a="")}}}else if("object"===typeof n.ref1){try{for(c in n.ref1)try{e=!1,"AV_URL"==c&&"string"===typeof n.ref1[c]&&0<n.ref1[c].length&&(e=!0,g=n.ref1[c].substring(0,1),"%"==g||"{"==g||"$"==g||"["==g||"<"==g)&&(n.ref1[c]=""),"string"==typeof c&&0==c.indexOf("AV_DECODED")?
b[c]=n.ref1[c]:(b[c]=decodeURIComponent(n.ref1[c]),b[c]=decodeURIComponent(b[c]),e&&(b[c]=Utils.getAmpUrl(b[c])),b[c]=encodeURIComponent(b[c]))}catch(ba){}}catch(ba){}a=b.AV_URL}var h=Utils.getProtocol();a&&""!=a||(a=(a=b.AV_APPPKGNAME)&&2<a.length?a:encodeURIComponent(Utils.getTrueDomain()));Utils.isAndroid()&&b.AV_APPPKGNAME&&(b.AV_APPSTOREURL="https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3D"+b.AV_APPPKGNAME);e="";b.AV_LANGUAGE?e=b.AV_LANGUAGE:m.navigator&&(m.navigator.language&&
1<m.navigator.language.length?e=m.navigator.language:m.navigator.languages&&0<m.navigator.languages.length&&m.navigator.languages[0]&&(e=m.navigator.languages[0]));e&&1<e.length&&(b.AV_LANGUAGE=e.substring(0,2));b.AV_URL=a.substring(0,500);b.AV_PUBLISHERID=n.publisherid;b.AV_CHANNELID=n.channelid;b.AV_WIDTH=n.width;b.AV_HEIGHT=n.height;b.format="json";b.tgt=n.tgt;n.pbjstag&&(b.pbjs="1");b.AV_SUBID=b.AV_SUBID||"";b.AV_SUBID=b.AV_SUBID.substring(0,Math.min(200,b.AV_SUBID.length));b.AV_CDIM1=b.AV_CDIM1||
"";b.AV_CDIM1=b.AV_CDIM1.substring(0,Math.min(200,b.AV_CDIM1.length));b.AV_CDIM2=b.AV_CDIM2||"";b.AV_CDIM2=b.AV_CDIM2.substring(0,Math.min(200,b.AV_CDIM2.length));b.AV_CDIM3=b.AV_CDIM3||"";b.AV_CDIM3=b.AV_CDIM3.substring(0,Math.min(200,b.AV_CDIM3.length));b.AV_ABT||(a=Math.floor(30*Math.random()),4<a||0==a?b.AV_ABT="":(b.AV_ABT=""+a,k.isabt=!0),"58d7dc4328a0611e7a4535da"==n.publisherid&&(k.abt=!0));AV_player.config.pc&&(b.pce="1",b.npx="1");0==b.AV_WIDTH&&(b.AV_WIDTH=300);0==b.AV_HEIGHT&&(b.AV_HEIGHT=
250);b.AV_WIDTH=Math.floor(b.AV_WIDTH);b.AV_HEIGHT=Math.floor(b.AV_HEIGHT);if(b.AV_AID||b.AV_IDFA)try{b.AV_AID&&36==b.AV_AID.length||!b.AV_IDFA||36!=b.AV_IDFA.length||(b.AV_AID=b.AV_IDFA),b.AV_IDFA&&36==b.AV_IDFA.length||!b.AV_AID||36!=b.AV_AID.length||(b.AV_IDFA=b.AV_AID),b.AV_AID=b.AV_AID||b.AV_IDFA,b.AV_IDFA=b.AV_IDFA||b.AV_AID,36==b.AV_IDFA.length&&(b.AV_IDFAMD5=b.AV_IDFAMD5||b.AV_AIDMD5||Utils.getMD5(b.AV_IDFA),b.AV_IDFASHA1=b.AV_IDFASHA1||b.AV_AIDSHA1||Utils.getSHA1(b.AV_IDFA)),36==b.AV_AID.length&&
(b.AV_AIDMD5=b.AV_AIDMD5||b.AV_IDFAMD5||Utils.getMD5(b.AV_AID),b.AV_AIDSHA1=b.AV_AIDSHA1||b.AV_IDFASHA1||Utils.getSHA1(b.AV_AID))}catch(ba){}b.AV_LONGITUDE&&isNaN(1*b.AV_LONGITUDE)&&(b.AV_LONGITUDE="");b.AV_LATITUDE&&isNaN(1*b.AV_LATITUDE)&&(b.AV_LATITUDE="");b.AV_DNT=b.AV_DNT||"0";Utils.getAdPosition(n.slot,n.height)&&(b.AV_DADPOS=Utils.getAdPosition(n.slot,n.height));a=Utils.joinObject(b);e=b.AV_ABT&&!isNaN(b.AV_ABT)?""+b.AV_ABT+"/":"";if("manage.dev.aniview.com"==AV_player.config.adserverdomain||
"manage.newmanage.aniview.com"==AV_player.config.adserverdomain)h="http:";a=h+"//"+n.adserverdomain+"/api/adserver/tag/"+e+"?"+a+"&v=6.1.1.243&cb="+Date.now();(function(){for(var a=b.AV_SUBID||"",c="",d=1;10>=d;d++){var e=b["AV_CDIM"+d];e&&(e=e.substring(0,Math.min(200,e.length)),c+="&cd"+d+"="+e)}d=b.AV_IC||0;e=b.tgt;var f=b.AV_ABT||"",g=b.AV_APPNAME||"",m=b.AV_WIDTH||"",p=b.AV_HEIGHT||"",q=b.AV_APPPKGNAME||"",r=Utils.getAdPosition(n.slot,n.height)?"&fv="+Utils.getAdPosition(n.slot,n.height):"";
d*=12321;var t=Utils.getHostName(b.AV_URL);k.host=t;Y=h+"//"+n.trackdomain+"/track?pid="+b.AV_PUBLISHERID+"&cid="+b.AV_CHANNELID+"&r="+t+"&sn="+a+c+"&ic="+d+"&tgt="+e+"&app="+g+"&wi="+m+"&he="+p+"&test="+f+"&apppkg="+q+r+"&e=";"manage.dev.aniview.com"==AV_player.config.adserverdomain&&(Y=Y.replace("track1.aniview.com","manage.dev.aniview.com"));(new Image).src=Y+"inventory&vi="+Utils.getViewabilityPerc()+"&cb="+Date.now();setTimeout(function(){if("function"===typeof l.onInventory)l.onInventory()},
10)})();k.macros=b;return a}()})(m.AV_VASTPlayer)}})(window);
